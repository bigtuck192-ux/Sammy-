{"version":3,"file":"index-Dm3n66-C.js","sources":["../../src/ui/common/Avatar.tsx","../../src/ui/components/Settings/Account/accountTab.tsx","../../src/ui/hooks/useSocket.tsx","../../src/ui/context/themeContext.tsx","../../src/ui/components/Settings/Appearance/themeSwitcher.tsx","../../src/ui/components/Settings/Appearance/appearanceTab.tsx","../../src/ui/components/Settings/SharedBlock/sharedBlocksTab.tsx","../../src/ui/components/Settings/KeyboardShortcuts/KeyboardShortcutsTab.tsx","../../src/assets/codemateLogoDark.svg","../../src/assets/codemateLogoLight.svg","../../src/ui/components/Settings/About/aboutTab.tsx","../../src/ui/components/Settings/Team/teamTab.tsx","../../src/ui/components/Settings/SubShell/subShellTab.tsx","../../src/ui/components/Settings/LLMModels/CurrentModelDetails.tsx","../../src/ui/context/shortCutContext.tsx","../../src/ui/components/Settings/LLMModels/LLMModelsTab.tsx","../../src/ui/components/Settings/Products/productTab.tsx","../../src/assets/vsCode.png","../../src/assets/web-icon.png","../../src/assets/web-icon-dark.png","../../src/ui/components/Settings/AI/aiTab.tsx","../../src/ui/components/Settings/Model/settingModel.tsx","../../src/ui/components/NavHead/index.tsx","../../src/ui/hooks/useTab.tsx","../../src/ui/common/enhancedMarkdown.tsx","../../src/ui/utils/detectOS.tsx","../../src/ui/utils/extractedCode.ts","../../src/ui/utils/fileSystem.tsx","../../src/ui/utils/circularLoader.tsx","../../src/ui/components/HtopTerminal/index.tsx","../../src/ui/components/Terminal/index.tsx","../../src/ui/components/Editor/aceEditor.tsx","../../src/ui/components/AiChat/index.tsx","../../src/ui/utils/codePreview.tsx","../../src/ui/context/activeSplitScreenId.tsx","../../src/ui/common/SplitScreen.tsx","../../src/ui/App.tsx","../../src/ui/context/modalContext.tsx","../../src/ui/context/keyboardContext.tsx","../../src/ui/index.tsx"],"sourcesContent":["import React from \"react\"\n\ninterface AvatarProps {\n  src?: string\n  alt?: string\n  fallback?: React.ReactNode\n  className?: string\n  size?: \"sm\" | \"md\" | \"lg\"\n}\n\nexport function Avatar({\n  src,\n  alt,\n  fallback,\n  className = \"\",\n  size = \"md\",\n}: AvatarProps) {\n  const sizeClasses = {\n    sm: \"w-8 h-8\",\n    md: \"w-10 h-10\",\n    lg: \"w-12 h-12\"\n  }\n\n  return (\n    <div className={`relative inline-block ${sizeClasses[size]} ${className}`}>\n      {src ? (\n        <img \n          src={src} \n          alt={alt || \"\"} \n          className=\"rounded-full w-full h-full object-cover\"\n        />\n      ) : (\n        <div \n          className=\"absolute inset-0 flex items-center justify-center rounded-full bg-[--orangeColor] text-[--primaryTextColor] font-medium\"\n          style={{ fontSize: size === \"lg\" ? \"1.25rem\" : \"1rem\" }}\n        >\n          {fallback}\n        </div>\n      )}\n    </div>\n  )\n}\n\n","import React, { useEffect, useState } from \"react\";\nimport { FaShareAlt } from \"react-icons/fa\";\nimport { FaCheck } from \"react-icons/fa6\";\nimport { Avatar } from \"../../../common/Avatar\";\nimport { Socket } from \"socket.io-client\";\n\n\n\ninterface AccountTabProps {\n  socket: Socket | null;\n  isConnected: boolean;\n  sendMessage: (event: string, data: any) => void;\n}\n\n\ninterface ElectronAPI {\n  openFile: () => Promise<string[]>;\n  readFile: (filePath: string) => Promise<string>;\n  saveFile: (filePath: string, content: string) => Promise<void>;\n  createFile: (\n    fileName: string,\n    content: string,\n    currentDir: string\n  ) => Promise<string>;\n\n  openExternalLink: (url: string) => Promise<string>;\n}\n\ndeclare global {\n  interface Window {\n    electron: ElectronAPI;\n  }\n}\n\n\nexport function AccountTab({ socket, isConnected, sendMessage }: AccountTabProps) {\n  const [user, setUser] = useState<any>(null); // Holds user data\n  const [isAuthenticated, setIsAuthenticated] = useState(false); // Track if user is authenticated\n  const [sessionToken, setSessionToken] = useState<string | null>(null);\n\n  useEffect(() => {\n    // Ensure the socket connection is available\n    const sessionToken = localStorage.getItem(\"session_token\");\n\n\n\n    if (sessionToken) {\n      // Emit the 'get_user_details' event with the session token\n      socket.emit('get_user_details', { session_token: sessionToken });\n    }\n\n    const handleUserDetails = (userDetails) => {\n      if (userDetails) {\n        setUser(userDetails);\n        setIsAuthenticated(true);\n      } else {\n        setIsAuthenticated(false);\n      }\n    };\n\n    // Listen for the 'user_details' event\n    socket.on('user_details', handleUserDetails);\n\n\n\n    // Cleanup the event listener when the component unmounts or sessionToken changes\n    return () => {\n      socket.off('user_details', handleUserDetails);\n    };\n  }, []);\n\n  const handleLogout = () => {\n    // Clear session token and logout user\n    localStorage.removeItem(\"session_token\");\n    localStorage.removeItem(\"selected\");\n    setUser(null);\n    setIsAuthenticated(false);\n  };\n\n  const handleLogin = () => {\n    handleAction(`https://auth.codemate.ai/?run=connect&host=cli`)\n  };\n\n\n  const handleAction = (url: string) => {\n    // Use the openExternalLink method exposed by Electron\n    window.electron\n      .openExternalLink(url)\n      .then((response) => {\n      })\n      .catch((error) => {\n        console.error(\"Error opening URL:\", error);\n      });\n  };\n\n\n  useEffect(() => {\n    if (socket) {\n      socket.on('user_authenticate_token', async (data) => {\n        const token = data.session_token;\n        if (token) {\n          localStorage.setItem(\"session_token\", token);\n          setSessionToken(token);\n\n          localStorage.setItem(\"selected\", JSON.stringify(true));\n\n          // Emit event to fetch user details from the backend\n          socket.emit('get_user_details', { session_token: token });\n        }\n      });\n\n      // Listen for the user details from the backend\n      socket.on('user_details', (userDetails) => {\n        if (userDetails) {\n          setUser(userDetails);\n          setIsAuthenticated(true);\n          // localStorage.setItem(\"plan_type\", userDetails?.display_name)\n        } else {\n          setIsAuthenticated(false);\n        }\n      });\n    }\n\n    return () => {\n      if (socket) {\n        socket.off('user_authenticate_token');\n        socket.off('user_details');\n      }\n    };\n  }, [socket]);\n\n\n\n\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar\">\n      <h1 className=\"text-2xl font-semibold mb-6\">Account</h1>\n      <div className=\"space-y-8\">\n        {/* Profile Section */}\n        <div className=\"flex items-start space-x-4\">\n          <Avatar\n            fallback={user?.name?.[0] || \"AI\"}\n            size=\"lg\"\n            src={user?.image}\n          />\n          <div className=\"flex-1\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"text-lg font-medium\">{user?.name ? user.name : user ? \"Your Account\" : \"Guest Account\"}</h2>\n                <p className=\"text-[--grayColor] text-sm\">{user?.email || \"Sign in for more features\"}</p>\n              </div>\n              {\n                isAuthenticated && (\n                  <div className=\"flex items-center space-x-3\">\n                    <span className=\"px-2 py-0.5 bg-[--scrollbarTrackColor] text-[--grayColor] text-xs rounded\">\n                      {user?.plan || \"Free Plan\"}\n                    </span>\n                    <button className=\"text-[--darkBlueColorGradientStart] text-sm hover:underline\" onClick={() => window.electron.openExternalLink(\"https://codemate.ai/#pricing\")}>\n                      Compare plans\n                    </button>\n                  </div>\n                )\n              }\n            </div>\n          </div>\n        </div>\n        {/* Referral Section */}\n        {/* <div className=\"space-y-2\">\n        <p className=\"text-[--grayColor] text-sm\">\n          Earn rewards by sharing with friends & colleagues\n        </p>\n        <button className=\"text-[--darkBlueColorGradientStart] text-sm hover:underline\">\n          Refer a friend\n        </button>\n      </div> */}\n        {/* Version Info */}\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-[--grayColor] text-sm\">Version</span>\n            <button className=\"text-[--darkBlueColorGradientStart] text-sm hover:underline\">\n              Check for updates\n            </button>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <code className=\"text-sm text-[--grayColor]\">\n              v0.0.1\n            </code>\n            <span className=\"text-[--grayColor] text-xs\">Up to date</span>\n          </div>\n        </div>\n        {/* Logout Button */}\n        {\n          isAuthenticated ? (<button\n            onClick={handleLogout}\n            className=\"px-4 py-2 bg-[--scrollbarTrackColor] text-[--primaryTextColor] rounded hover:bg-[--darkGrayColor] transition-colors\"\n          >\n            Log out\n          </button>) : (<button\n            onClick={handleLogin}\n            className=\"px-4 py-2 bg-[--scrollbarTrackColor] text-[--primaryTextColor] rounded hover:bg-[--darkGrayColor] transition-colors\"\n          >\n            Log In\n          </button>)\n        }\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect, useCallback } from \"react\";\nimport io, { Socket } from \"socket.io-client\";\n\n// Custom hook to manage a socket connection\nexport const useSocket = (url: string) => {\n  // State to store the socket instance\n  const [socket, setSocket] = useState<Socket | null>(null);\n  // State to track the connection status\n  const [isConnected, setIsConnected] = useState(false);\n\n  // Establish the socket connection and set up event listeners\n  useEffect(() => {\n    // Create a new socket instance\n    const socketIo = io(url);\n\n    // Set isConnected to true when the socket connects\n    socketIo.on(\"connect\", () => {\n      setIsConnected(true);\n    });\n\n    // Set isConnected to false when the socket disconnects\n    socketIo.on(\"disconnect\", () => {\n      setIsConnected(false);\n    });\n\n    // Save the socket instance in state\n    setSocket(socketIo);\n\n    // Cleanup function to disconnect the socket when the component unmounts\n    return () => {\n      socketIo.disconnect();\n    };\n  }, [url]); // Re-run the effect if the URL changes\n\n  // Function to send a message through the socket\n  const sendMessage = useCallback(\n    (event: string, data: any) => {\n      if (socket) {\n        // Emit the event with the provided data\n        socket.emit(event, data);\n      }\n    },\n    [socket] // Re-create the function if the socket changes\n  );\n\n  // Return the socket instance, connection status, and sendMessage function\n  return { socket, isConnected, sendMessage };\n};\n","import React, {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  ReactNode,\n} from \"react\";\nimport { useSocket } from \"../hooks/useSocket\";\n\ntype ThemeContextType = {\n  theme: string;\n  toggleTheme: (newTheme: string) => void;\n  toggleThemeToRemoveCustomColor: (newTheme: string) => void;\n  customColors: Record<string, string> | null;\n  applyCustomColors: (colors: Record<string, string>) => void;\n  setTheme: (newTheme: string) => void;\n  allThemes: string[];\n  setAllThemes: React.Dispatch<React.SetStateAction<string[]>>;\n  addTheme: (theme: string) => void;\n};\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\ninterface ThemeProviderProps {\n  children: ReactNode;\n}\n\nconst defaultThemes: string[] = [\n  \"codemate-ai-dark\",\n  \"codemate-ai-light\",\n  \"modern-terminal\",\n  \"dracula\",\n  \"gruvbox-dark\",\n];\n\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({ children }) => {\n  const { socket, isConnected } = useSocket(\"http://127.0.0.1:5000/\");\n\n  const [allThemes, setAllThemes] = useState<string[]>(defaultThemes);\n\n  const loadThemes = (): string[] => {\n    const storedThemes = localStorage.getItem(\"themes\");\n    return storedThemes ? JSON.parse(storedThemes) : defaultThemes;\n  };\n\n  useEffect(() => {\n    const getTheme = localStorage.getItem(\"theme\");\n\n    if (getTheme) {\n      document.documentElement.classList.remove(`${theme}-theme`);\n      document.documentElement.classList.add(`${getTheme}-theme`);\n      setTheme(getTheme);\n    } else {\n      setTheme(\"codemate-ai-dark\");\n    }\n  }, []);\n\n  const addTheme = (theme: string) => {\n    if (!theme) return;\n\n    const updatedThemes = [...allThemes, theme];\n    setAllThemes(updatedThemes);\n    localStorage.setItem(\"themes\", JSON.stringify(updatedThemes));\n  };\n\n  useEffect(() => {\n    const initialThemes = loadThemes();\n    setAllThemes(initialThemes);\n  }, []);\n\n  const [allPresentThemes, setAllPresentThemes] = useState<string[]>([\n    \"codemate-ai-dark\",\n    \"codemate-ai-light\",\n  ]);\n  const [theme, setTheme] = useState<string>(\"\");\n  const [customColors, setCustomColors] = useState<Record<string, string>>({});\n\n  useEffect(() => {\n    const savedColors = JSON.parse(\n      localStorage.getItem(\"customColors\") || \"null\"\n    );\n    if (savedColors) {\n      setCustomColors(savedColors);\n      applyCustomColors(savedColors);\n    }\n  }, []);\n\n  useEffect(() => {\n    const getTheme = localStorage.getItem(\"theme\");\n    if (getTheme) {\n      setTheme(getTheme);\n    } else {\n      setTheme(\"codemate-ai-dark\");\n    }\n  }, []);\n\n  const applyCustomColors = (colors: Record<string, string>) => {\n    const root = document.documentElement;\n    Object.keys(colors).forEach((key) => {\n      root.style.setProperty(`--${key}`, colors[key]);\n    });\n    setCustomColors(colors);\n    localStorage.setItem(\"customColors\", JSON.stringify(colors));\n  };\n\n  const removeCustomColors = () => {\n    const root = document.documentElement;\n    Object.keys(customColors).forEach((key) => {\n      root.style.removeProperty(`--${key}`);\n    });\n    setCustomColors({});\n    localStorage.removeItem(\"customColors\");\n  };\n\n  const toggleThemeToRemoveCustomColor = (newTheme: string) => {\n    document.documentElement.classList.remove(`${theme}-theme`);\n    if (!allPresentThemes.includes(newTheme)) {\n      socket?.emit(\"get_theme\", { themeName: newTheme });\n\n      socket?.on(\"themeRetrieved\", (newTheme) => {\n        const flattenedColors = newTheme.colors as unknown as Record<\n          string,\n          string\n        >;\n        applyCustomColors(flattenedColors);\n      });\n    } else {\n      removeCustomColors();\n    }\n\n    document.documentElement.classList.add(`${newTheme}-theme`);\n    setTheme(newTheme);\n    localStorage.setItem(\"theme\", newTheme);\n\n    // removeHtmlStyles();\n  };\n  const toggleTheme = (newTheme: string) => {\n    document.documentElement.classList.remove(`${theme}-theme`);\n\n    document.documentElement.classList.add(`${newTheme}-theme`);\n    setTheme(newTheme);\n    localStorage.setItem(\"theme\", newTheme);\n    // removeHtmlStyles();\n  };\n\n  return (\n    <ThemeContext.Provider\n      value={{\n        theme,\n        toggleTheme,\n        toggleThemeToRemoveCustomColor,\n        customColors,\n        applyCustomColors,\n        setTheme,\n        allThemes,\n        setAllThemes,\n        addTheme,\n      }}\n    >\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\nexport const useTheme = (): ThemeContextType => {\n  const context = useContext(ThemeContext);\n  if (context === undefined) {\n    throw new Error(\"useTheme must be used within a ThemeProvider\");\n  }\n  return context;\n};\n","import React from \"react\";\nimport { useTheme } from \"../../../context/themeContext\";\nimport { IoChevronDown } from \"react-icons/io5\";\n\nconst ThemeSwitcher = () => {\n  const { allThemes, theme, toggleThemeToRemoveCustomColor } = useTheme();\n\n  return (\n    <div className=\"mb-6\">\n      <label\n        htmlFor=\"theme-select\"\n        className=\"block custom-font-size font-medium text-[--textColor] mb-2\"\n      >\n        Select Theme\n      </label>\n      <div className=\"relative\">\n        <select\n          id=\"theme-select\"\n          value={theme}\n          onChange={(e) => toggleThemeToRemoveCustomColor(e.target.value)}\n          className=\"block w-full bg-[--bgColor] border-[--borderColor] rounded-md py-2 pl-3 pr-10 text-[--textColor] focus:outline-none focus:ring-1 focus:ring-[--blueColor] focus:border-[--blueColor] sm:custom-font-size appearance-none hide-scrollbar max-h-[100px] overflow-auto\"\n        >\n          {allThemes.map((theme) => (\n            <option key={theme} value={theme}>\n              {theme.replace(\"-\", \" \")}\n            </option>\n          ))}\n        </select>\n        <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-[--textColor]\">\n          <IoChevronDown size={16} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ThemeSwitcher;\n","import React, { useEffect, useState } from \"react\";\nimport { CiCircleInfo } from \"react-icons/ci\"; // Importing the palette icon\nimport ThemeSwitcher from \"./themeSwitcher\";\nimport { MdKeyboardArrowDown } from \"react-icons/md\";\nimport { RxCross2 } from \"react-icons/rx\";\nimport { useTheme } from \"../../../context/themeContext\";\nimport { generateThemeColors } from \"../../../utils/colorUtils\";\nimport { useSocket } from \"../../../hooks/useSocket\";\nimport { Socket } from \"socket.io-client\";\n\ninterface ModalProps {\n  isCustomThemeOpen: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n}\n\ninterface AppearanceTabProps {\n  socket: Socket | null;\n  isConnected: boolean;\n  sendMessage: (event: string, data: any) => void;\n}\n\nconst Modal: React.FC<ModalProps> = ({\n  isCustomThemeOpen,\n  onClose,\n  children,\n}) => {\n  if (!isCustomThemeOpen) return null;\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-[--bgColor] rounded-lg min-w-[480px] overflow-hidden\">\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport function AppearanceTab({\n  socket,\n  isConnected,\n  sendMessage,\n}: AppearanceTabProps) {\n  const { toggleTheme, applyCustomColors, addTheme } = useTheme();\n\n  const [syncWithOS, setSyncWithOS] = useState<boolean>(false);\n  const [openNewWindows, setOpenNewWindows] = useState<boolean>(false);\n  const [windowOpacity, setWindowOpacity] = useState<number>(100);\n  const [windowBlurRadius, setWindowBlurRadius] = useState<number>(1);\n\n  const [isCustomThemeOpen, setIsCustomThemeOpen] = useState<boolean>(false);\n  const [step, setStep] = useState<\"select\" | \"create\">(\"select\"); // Use string literal types for steps\n  const [extractedColors, setExtractedColors] = useState<string[]>([\n    \"#1e3a8a\",\n    \"#3b82f6\",\n    \"#93c5fd\",\n    \"#bfdbfe\",\n    \"#dbeafe\",\n  ]);\n  const [selectedColor, setSelectedColor] = useState<string>(\"\");\n  const [newThemeName, setNewThemeName] = useState<string>(\"\");\n\n  const handleImageSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      setStep(\"create\");\n    }\n  };\n\n  const handleCreateTheme = () => {\n    if (!socket || !isConnected) return;\n    if (!newThemeName || !selectedColor) return; // Add validation if needed\n\n    const newTheme = {\n      name: newThemeName,\n      color: selectedColor,\n    };\n\n    // Add the new theme to the list of all themes\n    addTheme(newTheme.name);\n\n    const newCreatedTheme = generateThemeColors(newTheme.name, newTheme.color);\n\n    const flattenedColors = newCreatedTheme.colors as unknown as Record<\n      string,\n      string\n    >;\n\n    applyCustomColors(flattenedColors);\n\n    socket.emit(\"post_theme\", {\n      themeName: newTheme.name,\n      colors: flattenedColors,\n    });\n\n    // Apply the new theme\n    toggleTheme(newTheme.name);\n    setIsCustomThemeOpen(false);\n    setSelectedColor(\"\");\n    setNewThemeName(\"\");\n    setStep(\"select\");\n  };\n\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n    socket.on(\"themeSaved\", (message: { message: string }) => {});\n\n    socket.on(\"error\", (errorMessage: { error: string }) => {\n      console.error(errorMessage.error);\n    });\n\n    return () => {\n      socket.off(\"themeSaved\");\n      socket.off(\"error\");\n    };\n  }, []);\n\n  const handleColorClick = (color: string) => {\n    setSelectedColor(color);\n  };\n\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar\">\n      <h1 className=\"text-2xl font-semibold mb-6\">Appearance</h1>\n      {/* <p className=\"text-[--textColor] mb-4\">Create your own custom theme</p>\n\n      <button\n        onClick={() => setIsCustomThemeOpen(true)}\n        className=\"px-4 py-2 bg-[--darkBlueColor] text-[--textColor] rounded-md mb-4\"\n      >\n        Open Theme Creator\n      </button> */}\n\n      {/* <Modal\n        isCustomThemeOpen={isCustomThemeOpen}\n        onClose={() => setIsCustomThemeOpen(false)}\n      >\n        <div className=\"flex justify-between items-center p-4 border-b border-[--borderColor]\">\n          <h2 className=\"text-[--textColor] text-lg font-semibold\">\n            Create new theme from image\n          </h2>\n          <button\n            onClick={() => setIsCustomThemeOpen(false)}\n            className=\"text-[--textColor] hover:text-[--secondaryTextColor]\"\n          >\n            <RxCross2 size={20} style={{ color: \"var(--textColor)\" }} />\n          </button>\n        </div>\n        <div className=\"p-6\">\n          {step === \"select\" ? (\n            <>\n              <p className=\"text-gray-400 custom-font-size mb-4\">\n                Automatically generate a theme based on extracted colors from an\n                image (.png, .jpg).\n              </p>\n              <label className=\"block w-full py-20 border-2 border-dashed border-[--borderColor] rounded-md text-center cursor-pointer hover:border-[--darkGrayColor] transition-colors\">\n                <input\n                  type=\"file\"\n                  accept=\"image/png,image/jpeg\"\n                  className=\"hidden\"\n                  onChange={handleImageSelect}\n                />\n                <span className=\"text-[--darkBlueColor] flex items-center justify-center\">\n                  Select an image\n                  <MdKeyboardArrowDown size={20} className=\"ml-1\" />\n                </span>\n              </label>\n            </>\n          ) : (\n            <>\n              <div className=\"mb-4\">\n                <input\n                  type=\"text\"\n                  placeholder=\"starry_sky\"\n                  className=\"w-full bg-[--bgColor] text-[--textColor] p-2 rounded-md\"\n                  value={newThemeName}\n                  onChange={(e) => setNewThemeName(e.target.value)}\n                />\n              </div>\n              <div className=\"flex space-x-4 mb-4 justify-between w-full\">\n                {extractedColors.map((color, index) => (\n                  <button\n                    key={index}\n                    className={`w-full h-12 rounded-md cursor-pointer transition-transform hover:scale-110 ${\n                      color === selectedColor ? \"ring-2 ring-[--textColor]\" : \"\"\n                    }`}\n                    style={{ backgroundColor: color }}\n                    onClick={() => handleColorClick(color)}\n                  />\n                ))}\n              </div>\n              <label className=\"block w-full py-20 border-2 border-dashed border-[--borderColor] rounded-md text-center cursor-pointer hover:border-[--darkGrayColor] transition-colors\">\n                <input\n                  type=\"file\"\n                  accept=\"image/png,image/jpeg\"\n                  className=\"hidden\"\n                  onChange={handleImageSelect}\n                />\n                <span className=\"text-[--darkBlueColor] flex items-center justify-center\">\n                  Select an image\n                  <MdKeyboardArrowDown size={20} className=\"ml-1\" />\n                </span>\n              </label>\n            </>\n          )}\n        </div>\n        <div className=\"flex justify-end p-4 border-t border-[--darkGrayColor]\">\n          <button\n            onClick={() => setIsCustomThemeOpen(false)}\n            className=\"px-4 py-2 text-[--textColor] hover:text-[--secondaryTextColor] transition-colors\"\n          >\n            Cancel\n          </button>\n          {step === \"create\" && (\n            <button\n              // onClick={() => setStep('select')}\n              onClick={handleCreateTheme}\n              className=\"px-4 py-2 bg-[--blueColor] text-[--textColor] rounded-md ml-2 hover:bg-[--darkBlueColor] transition-colors\"\n            >\n              Create Theme\n            </button>\n          )}\n        </div>\n      </Modal> */}\n\n      <ThemeSwitcher />\n\n      {/* <div className=\"flex items-center justify-between mb-2\">\n        <span>Sync with OS</span>\n        <button\n          className={`w-12 h-6 rounded-full p-1 ${\n            syncWithOS ? \"bg-[--blueColor]\" : \"bg-[--grayColor]\"\n          }`}\n          onClick={() => setSyncWithOS(!syncWithOS)}\n        >\n          <div\n            className={`w-4 h-4 rounded-full bg-[--textColor] transform transition-transform ${\n              syncWithOS ? \"translate-x-6\" : \"\"\n            }`}\n          />\n        </button>\n      </div>\n      <p className=\"custom-font-size text-[--textColor] mb-4\">\n        Automatically switch between light and dark themes when your system\n        does.\n      </p> */}\n\n      <div className=\"bg-[--selectionBackgroundColor] p-4 rounded-lg mb-4\">\n        <div className=\"flex justify-between items-center\">\n          <span>Current theme</span>\n          {/* <span>Cyber Wave</span> */}\n        </div>\n        <div className=\"mt-2 bg-[--bgColor] rounded p-2\">\n          <code className=\"text-[--greenColor]\">ls</code>\n          <code className=\"text-[--redColor]\"> executable </code>\n          <code className=\"text-[--blueColor]\">file</code>\n        </div>\n      </div>\n\n      {/* <h2 className=\"text-xl font-bold mb-2\">Window</h2>\n      <div className=\"flex items-center justify-between mb-2\">\n        <span>Open new windows with custom size</span>\n        <button\n          className={`w-12 h-6 rounded-full p-1 ${\n            openNewWindows ? \"bg-[--blueColor]\" : \"bg-[--grayColor]\"\n          }`}\n          onClick={() => setOpenNewWindows(!openNewWindows)}\n        >\n          <div\n            className={`w-4 h-4 rounded-full bg-[--textColor] transform transition-transform ${\n              openNewWindows ? \"translate-x-6\" : \"\"\n            }`}\n          />\n        </button>\n      </div>\n\n      <div className=\"mb-4\">\n        <div className=\"flex justify-between items-center\">\n          <span>Window Opacity: {windowOpacity}</span>\n        </div>\n        <input\n          type=\"range\"\n          min=\"0\"\n          max=\"100\"\n          value={windowOpacity}\n          onChange={(e) => setWindowOpacity(Number(e.target.value))}\n          className=\"w-full\"\n        />\n      </div>\n\n      <div className=\"mb-4\">\n        <div className=\"flex justify-between items-center\">\n          <span>Window Blur Radius: {windowBlurRadius}</span>\n          <CiCircleInfo size={16} className=\"text-[--textColor]\" />\n        </div>\n        <input\n          type=\"range\"\n          min=\"0\"\n          max=\"20\"\n          value={windowBlurRadius}\n          onChange={(e) => setWindowBlurRadius(Number(e.target.value))}\n          className=\"w-full\"\n        />\n      </div>\n\n      <h2 className=\"custom-font-size font-bold mb-2\">Input</h2>\n      <div className=\"mb-4\">\n        <span>Input position</span>\n        <select className=\"w-full bg-[--selectionBackgroundColor] mt-1 p-2 rounded\">\n          <option>Pin to the bottom (CodeMate.ai default)</option>\n        </select>\n      </div>\n\n      <h2 className=\"custom-font-size font-bold mb-2\">Prompt</h2>\n      <div className=\"h-8 bg-[--selectionBackgroundColor] rounded\"></div> */}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { FaShareSquare } from \"react-icons/fa\"; // Importing the share square icon\n\nexport function SharedBlocksTab() {\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar text-[--textColor]\">\n      <p>You do not have any shared block yet.</p>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { FaApple, FaArrowUp, FaArrowDown } from \"react-icons/fa\";\nimport { IoMdSearch } from \"react-icons/io\";\n\ninterface ShortcutItemProps {\n  command: string;\n  shortcut: string[];\n  isActive?: boolean;\n}\n\nconst shortcuts: ShortcutItemProps[] = [\n  { command: \"for Auto completion\", shortcut: [\"Arrow\", \"->\"] },\n  { command: \"Mode Switching\", shortcut: [\"Ctrl\", \"I\"] },\n  { command: \"Activate Next Tab\", shortcut: [\"Ctrl\", \"Shift\", \"T\"] },\n  { command: \"Deactivate Current Tab\", shortcut: [\"Ctrl\", \"Esc\"] },\n  { command: \"Open Settings\", shortcut: [\"Ctrl\", \",\"] },\n  { command: \"Close Settings\", shortcut: [\"Ctrl\", \".\"] },\n  { command: \"Close Codemate Essentials\", shortcut: [\"Ctrl\", \"Shift\", \"R\"] },\n  { command: \"Open New Split Plane\", shortcut: [\"Ctrl\", \"Shift\", \"P\"] },\n  { command: \"Close Current Plane\", shortcut: [\"Ctrl\", \"Shift\", \"B\"] },\n  { command: \"Open File Menu\", shortcut: [\"Ctrl\", \"Shift\", \"O\"] },\n  { command: \"Change to terminal\", shortcut: [\"Ctrl\", \"Shift\", \"C\"] },\n  { command: \"Change to AI\", shortcut: [\"Ctrl\", \"Shift\", \"A\"] },\n  { command: \"Attach message to context\", shortcut: [\"Double-click\"] },\n];\n\nexport function KeyboardShortcutsTab() {\n  const [activeMenuItem, setActiveMenuItem] = useState(\"Keyboard shortcuts\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [selectedCommand, setSelectedCommand] = useState(shortcuts[0].command);\n\n  const ShortcutItem: React.FC<ShortcutItemProps> = ({\n    command,\n    shortcut,\n    isActive,\n  }) => (\n    <div\n      className={`flex justify-between items-center p-2 rounded cursor-pointer ${\n        command === selectedCommand\n          ? \"bg-[--greenColorGradientStart] text-[--textColor]\"\n          : isActive\n          ? \"bg-[--darkGreenColor]\"\n          : \"bg-[--selectionBackgroundColor]\"\n      }`}\n      onClick={() => setSelectedCommand(command)}\n    >\n      <span>{command}</span>\n      <div className=\"flex space-x-1\">\n        {shortcut.map((key, index) => (\n          <span\n            key={index}\n            className=\"bg-[--selectionBackgroundColor] px-1 rounded custom-font-size\"\n          >\n            {key === \"⌘\" ? (\n              <FaApple />\n            ) : key === \"↑\" ? (\n              <FaArrowUp />\n            ) : key === \"↓\" ? (\n              <FaArrowDown />\n            ) : (\n              key\n            )}\n          </span>\n        ))}\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[440px] hide-scrollbar\">\n      <h1 className=\"text-2xl font-semibold mb-6\">keyboard shortcuts</h1>\n      {/* <p className=\"custom-font-size text-gray-400 mb-4\">\n        Add your own custom keybindings to existing actions below.\n        Use <span className=\"bg-gray-700 px-1 rounded\">⌘</span> / <span className=\"bg-gray-700 px-1 rounded\">/</span> to reference these keybindings in a side pane at anytime.\n      </p> */}\n\n      <div className=\"relative mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Search\"\n          className=\"w-full bg-gray-800 p-2 pl-8 rounded\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n        <IoMdSearch\n          className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-[--grayColor]\"\n          size={20}\n        />\n      </div>\n\n      <div className=\"space-y-2\">\n        {shortcuts\n          .filter((shortcut) =>\n            shortcut.command.toLowerCase().includes(searchTerm.toLowerCase())\n          )\n          .map((shortcut, index) => (\n            <ShortcutItem key={index} {...shortcut} />\n          ))}\n      </div>\n    </div>\n  );\n}\n","export default \"__VITE_ASSET__Bx034QTr__\"","export default \"__VITE_ASSET__GtQteABW__\"","import codemateLogoDarkImage from \"../../../../assets/codemateLogoDark.svg\";\nimport codemateLogoLightImage from \"../../../../assets/codemateLogoLight.svg\";\n\nexport function AboutTab() {\n  const getTheme = localStorage.getItem(\"theme\");\n\n  let logoImage;\n\n  if (getTheme === \"codemate-ai-light\") {\n    logoImage = codemateLogoDarkImage;\n  } else {\n    logoImage = codemateLogoLightImage;\n  }\n\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar text-[--textColor]\">\n      <h1 className=\"text-2xl font-semibold mb-6\">About</h1>\n      <div className=\"flex items-center justify-center h-full\">\n        <div>\n          <img src={logoImage} alt=\"codemate.ai-logo\" className=\"mb-3 h-20\" />\n          <p className=\"text-[--textColor] custom-font-size flex justify-center mb-2\">\n            v0.0.1\n          </p>\n          <p className=\"text-[--textColor] custom-font-size flex justify-center\">\n            Copyright 2024 Codemate.ai\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\n\nexport function TeamTab() {\n  const [teamName, setTeamName] = useState<string>(\"\");\n\n  const handleCreateTeam = () => {\n    setTeamName(\"\");\n  };\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar\">\n      <h2 className=\"custom-font-size font-bold mb-2\">Teams</h2>\n      <h3 className=\"custom-font-size font-semibold mb-2\">Create a team</h3>\n      <p className=\"custom-font-size text-[--textColor] mb-4\">\n        When you create a team, you can collaborate async or in real-time with\n        shared notebooks (runbooks), workflows (like aliases), and terminal\n        sessions.\n      </p>\n\n      <div className=\"flex space-x-2\">\n        <input\n          type=\"text\"\n          placeholder=\"Team name\"\n          className=\"flex-grow bg-[--grayColor] p-2 rounded\"\n          value={teamName}\n          onChange={(e) => setTeamName(e.target.value)}\n        />\n        <button\n          className=\"bg-[--blueColor] text-[--textColor] px-4 py-2 rounded hover:bg-[--darkBlueColor] transition-colors\"\n          onClick={handleCreateTeam}\n        >\n          Create\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport { IoMdClose } from \"react-icons/io\";\nimport { FaCheck, FaBan, FaArrowRight } from \"react-icons/fa\";\n\nexport function SubShellTab() {\n  const [addedCommand, setAddedCommand] = useState<string>(\"\");\n  const [blockedCommand, setBlockedCommand] = useState<string>(\"\");\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar\">\n      <p className=\"custom-font-size text-[--textColor] mb-2\">\n        Configure whether CodeMate.ai attempts to \"CodeMate.aiify\" the subshell\n        for certain commands. CodeMate.ai supports bash, zsh, and fish\n        subshells.\n      </p>\n      <a\n        href=\"#\"\n        className=\"text-[--blueColor] hover:underline mb-4 inline-block\"\n      >\n        Learn more\n      </a>\n\n      <div className=\"mb-4\">\n        <h3 className=\"custom-font-size font-semibold flex items-center mb-2\">\n          <FaCheck className=\"mr-2 text-[--greenColor]\" /> Added commands\n        </h3>\n        <div className=\"relative\">\n          <input\n            type=\"text\"\n            placeholder=\"command (supports regex)\"\n            className=\"w-full bg-[--grayColor] p-2 pr-8 rounded\"\n            value={addedCommand}\n            onChange={(e) => setAddedCommand(e.target.value)}\n          />\n          <FaArrowRight className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-[--textColor]\" />\n        </div>\n      </div>\n\n      <div>\n        <h3 className=\"custom-font-size font-semibold flex items-center mb-2\">\n          <FaBan className=\"mr-2 text-[--redColor]\" /> Blocklisted commands\n        </h3>\n        <div className=\"relative\">\n          <input\n            type=\"text\"\n            placeholder=\"command\"\n            className=\"w-full bg-[--grayColor] p-2 pr-8 rounded\"\n            value={blockedCommand}\n            onChange={(e) => setBlockedCommand(e.target.value)}\n          />\n          <FaArrowRight className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-[--textColor]\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { FaEye, FaEyeSlash, FaCopy } from \"react-icons/fa\";\n\ninterface CurrentModelDetailsProps {\n  provider: string;\n  name: string;\n  params: Record<string, string>;\n}\n\nexport default function CurrentModelDetails({\n  provider,\n  name,\n  params,\n}: CurrentModelDetailsProps) {\n  const [visibleParams, setVisibleParams] = useState<Record<string, boolean>>(\n    {}\n  );\n\n  const toggleParamVisibility = (param: string) => {\n    setVisibleParams((prev) => ({ ...prev, [param]: !prev[param] }));\n  };\n\n  const copyToClipboard = async (text: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n    } catch (err) {\n      console.error(\"Failed to copy text: \", err);\n    }\n  };\n\n  const handleIconClick = (e: React.MouseEvent) => {\n    e.stopPropagation(); // Prevent form submission\n  };\n\n  return (\n    <div className=\"w-full bg-[--bgColor] border border-[--borderColor] rounded-lg p-4 mt-4\">\n      <div className=\"mb-4\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"custom-font-size font-semibold text-[--textColor]\">\n            Current Model Details\n          </h2>\n        </div>\n        {/* <div className=\"bg-[--bgGradientEnd] text-[--textColor] px-2 py-1 rounded custom-font-size\">\n            {provider}\n          </div> */}\n        <div className=\"flex items-center space-x-2\">\n          <h2 className=\"custom-font-size  text-[--textColor] opacity-70\">\n            Provider\n          </h2>\n          <p className=\"custom-font-size text-[--textColor] opacity-70\">\n            {provider}\n          </p>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <h2 className=\"custom-font-size  text-[--textColor] opacity-70\">\n            Model Name\n          </h2>\n          <p className=\"custom-font-size text-[--textColor] opacity-70\">\n            {name}\n          </p>\n        </div>\n        {/* <p className=\"custom-font-size text-[--textColor] opacity-70 mt-1\">{name}</p> */}\n        {/* <p className=\"custom-font-size text-[--textColor] opacity-70 mt-1\">{name}</p> */}\n      </div>\n      <div className=\"space-y-4\">\n        {Object.entries(params).map(([key, value]) => (\n          <div key={key}>\n            <label className=\"block custom-font-size font-medium text-[--textColor] opacity-70 mb-1\">\n              {key}\n            </label>\n            <div className=\"flex items-center bg-[--bgGradientEnd] border border-[--borderColor] rounded overflow-hidden\">\n              <div className=\"flex-1 overflow-x-auto whitespace-nowrap hide-scrollbar py-2 px-3\">\n                <code className=\"font-mono custom-font-size text-[--textColor]\">\n                  {visibleParams[key] ? value : \"•\".repeat(value.length)}\n                </code>\n              </div>\n              <div className=\"flex items-center border-l border-[--borderColor] bg-[--bgGradientEnd] px-2\">\n                <button\n                  onClick={(e) => {\n                    toggleParamVisibility(key);\n                    handleIconClick(e);\n                  }}\n                  className=\"p-1 hover:bg-[--bgColor] rounded transition-colors\"\n                  aria-label={\n                    visibleParams[key] ? `Hide ${key}` : `Show ${key}`\n                  }\n                >\n                  {visibleParams[key] ? (\n                    <FaEyeSlash className=\"w-4 h-4 text-[--textColor]\" />\n                  ) : (\n                    <FaEye className=\"w-4 h-4 text-[--textColor]\" />\n                  )}\n                </button>\n                <button\n                  onClick={(e) => {\n                    copyToClipboard(value);\n                    handleIconClick(e);\n                  }}\n                  className=\"p-1 hover:bg-[--bgColor] rounded transition-colors ml-1\"\n                  aria-label={`Copy ${key}`}\n                >\n                  <FaCopy className=\"w-4 h-4 text-[--textColor]\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { createContext, ReactNode, useContext, useState, useCallback } from \"react\";\n\ntype ShortcutContextType = {\n  registerListener: (shortcutKey: Set<string>, eventHandler: () => void) => void;\n  removeListener: (shortcutKey: Set<string>) => void;\n  triggerListener: (shortcutKey: Set<string>) => void;\n};\n\nconst initialValue: ShortcutContextType = {\n  registerListener: () => {},\n  removeListener: () => {},\n  triggerListener: () => {},\n};\n\nexport const shortcutContext = createContext<ShortcutContextType>(initialValue);\n\nconst buildShortcutIndex = (keys: Set<string>) => Array.from(keys).join('+');\n\nconst ShortcutContextProvider = ({ children }: { children: ReactNode }) => {\n\n  const [listeners, setListeners] = useState<Map<string, () => void>>(new Map());\n\n  const registerListener = useCallback((shortcutKey: Set<string>, eventHandler: () => void) => {\n    const keyString = buildShortcutIndex(shortcutKey);\n    setListeners((prevListeners) => new Map(prevListeners).set(keyString, eventHandler));\n  }, []);\n  \n\n  const removeListener = useCallback((shortcutKey: Set<string>) => {\n    listeners.delete(buildShortcutIndex(shortcutKey))\n  }, []);\n\n  const triggerListener = useCallback((shortcutKey: Set<string>) => {\n    const keyString = listeners.get(buildShortcutIndex(shortcutKey))\n    if(keyString) keyString()\n  }, [listeners]);\n\n  return (\n    <shortcutContext.Provider value={{ registerListener, removeListener, triggerListener }}>\n      {children}\n    </shortcutContext.Provider>\n  );\n};\n\nconst useShortcutContext = () => {\n  const context = useContext(shortcutContext);\n  if (!context) {\n    throw new Error(\"useShortcutContext must be used within a ShortcutContextProvider\");\n  }\n  return context;\n};\n\nexport { ShortcutContextProvider, useShortcutContext };\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport modelData from \"../../../models/models.json\";\nimport { Socket } from \"socket.io-client\";\nimport { LLMCurrentModel, LLMModel } from \"../../../types/models\";\nimport CurrentModelDetails from \"./CurrentModelDetails\";\nimport { User } from \"../../../types/user\";\nimport { shortcutContext } from \"../../../context/shortCutContext\";\n\nconst providerParams: { [key: string]: string[] } = {\n  openai: [\"apiKey\"],\n  openaiAzure: [\"deployment_name\", \"apiKey\", \"endpoint\", \"api_version\"],\n  google: [\"apiKey\"],\n  anthropic: [\"apiKey\"],\n};\n\ninterface LLMModelProps {\n  socket: Socket | null;\n  isConnected: boolean;\n}\n\n\n\ninterface ToggleProps {\n  label?: string\n  defaultChecked?: boolean\n  onChange?: (checked: boolean) => void\n  className?: string\n  socket: Socket | null;\n  isConnected: boolean;\n}\n\nexport function Toggle({\n  label,\n  defaultChecked = false,\n  onChange,\n  className = \"\",\n  socket, isConnected\n}: ToggleProps) {\n  const [isChecked, setIsChecked] = useState(defaultChecked);\n\n  useEffect(() => {\n    if (socket && isConnected) {\n      // Emit event to check if Codemate model is selected\n      socket.emit(\"checkCodemateModelStatus\");\n\n      // Listen for the response from the server\n      socket.on(\"codemateModelStatus\", (response) => {\n        if (response && response.selected !== undefined) {\n          setIsChecked(response.selected);\n        } else {\n          setIsChecked(false); // Fallback value\n        }\n      });\n\n      // Cleanup the event listener on unmount\n      return () => {\n        socket.off(\"codemateModelStatus\");\n      };\n    } else {\n      console.log(\"Socket not connected, cannot emit event\");\n    }\n  }, [socket, isConnected]);\n\n\n\n  useEffect(() => {\n    const selected = localStorage.getItem(\"selected\");\n\n    // If 'selected' exists in localStorage, parse it as a boolean\n    setIsChecked(selected === \"true\"); // This will convert \"true\" to true, \"false\" to false, and null to false\n  }, []); // Empty dependency array ensures this runs on mount\n\n\n\n  const handleToggle = () => {\n    const newValue = !isChecked\n    setIsChecked(newValue)\n    onChange?.(newValue)\n\n    if (socket && isConnected) {\n      socket.emit(\"updateCodemateModel\", { selected: newValue });\n      // setIsChecked(newValue)\n    }\n\n    localStorage.setItem(\"selected\", JSON.stringify(newValue));\n    // setIsChecked()\n\n  }\n\n\n  return (\n    <div className={`flex items-center justify-between ${className} mb-4`} >\n      {label && (\n        <span className=\"text-sm text-[--primaryTextColor] mr-2\">{label}</span>\n      )}\n      <button\n        role=\"switch\"\n        aria-checked={isChecked}\n        onClick={handleToggle}\n        className={`\n          relative inline-flex h-6 w-11 items-center rounded-full\n          transition-colors duration-200 ease-in-out focus:outline-none\n          focus-visible:ring-2 focus-visible:ring-[--primaryTextColor] focus-visible:ring-opacity-75\n          ${isChecked ? 'bg-[--darkBlueColor]' : 'bg-[--lightGrayColor]'}\n        `}\n      >\n        <span className=\"sr-only\">\n          {label || \"Toggle\"}\n        </span>\n        <span\n          className={`\n            inline-block h-4 w-4 transform rounded-full\n            bg-[--primaryTextColor] transition duration-200 ease-in-out\n            ${isChecked ? 'translate-x-6' : 'translate-x-1'}\n          `}\n        />\n      </button>\n    </div>\n  )\n}\n\n\n\nexport default function LLMModelTab({ socket, isConnected }: LLMModelProps) {\n\n  const {registerListener, removeListener} = useContext(shortcutContext) \n\n\n  const [selectedProvider, setSelectedProvider] = useState<string>(\"\");\n  const [selectedModel, setSelectedModel] = useState<LLMModel | null>(null);\n  const [params, setParams] = useState<{ [key: string]: string }>({});\n  const [user, setUser] = useState<User | null>(null);\n  const [models, setModels] = useState<LLMModel[]>(modelData.models);\n  const [providers, setProviders] = useState<string[]>([]);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [successMessage, setSuccessMessage] = useState<string>(\"\");\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(false);\n\n  const [currentModel, setCurrentModel] = useState<LLMCurrentModel | null>(\n    null\n  );\n\n  const [isSelected, setIsSelected] = useState<boolean>(false);\n\n\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n\n    const uniqueProviders = Array.from(\n      new Set(models.map((model) => model.provider))\n    );\n    setProviders(uniqueProviders);\n\n    if (socket && isConnected) {\n      socket.emit(\"get_current_model\");\n\n      const handleCurrentModel = (currentModel: any) => {\n        if (currentModel) {\n          setCurrentModel(currentModel);\n        } else {\n          setCurrentModel(null);\n        }\n      };\n\n      socket.on(\"currentModelRetrieved\", handleCurrentModel);\n\n      return () => {\n        socket.off(\"currentModelRetrieved\", handleCurrentModel);\n      };\n    }\n  }, [socket, isConnected, models]);\n\n  useEffect(() => {\n    setIsAuthenticated(!!localStorage.getItem('session_token'));\n  }, []);\n\n\n  useEffect(() => {\n    const storedValue = localStorage.getItem(\"selected\");\n    if (storedValue) {\n      setIsSelected(storedValue === 'true');\n    }\n  }, []);\n\n  const handleProviderChange = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      const provider = e.target.value;\n      setSelectedProvider(provider);\n      setSelectedModel(null);\n      setParams({});\n    },\n    []\n  );\n\n  const handleModelChange = useCallback(\n    (e: React.ChangeEvent<HTMLSelectElement>) => {\n      const modelId = e.target.value;\n      const model = models.find((m) => m.id === modelId);\n      setSelectedModel(model || null);\n\n      if (model) {\n        const provider = model.providerId || \"\";\n        const newParams: { [key: string]: string } = {};\n        providerParams[provider]?.forEach((param) => {\n          newParams[param] = \"\";\n        });\n        setParams(newParams);\n\n        if (socket && isConnected) {\n          socket.emit(\"get_model_details\", { modelId });\n        }\n      } else {\n        setParams({});\n      }\n    },\n    [socket, isConnected, models]\n  );\n\n  useEffect(() => {\n    if (socket && isConnected && selectedModel) {\n      const handleModelDetails = (modelDetails: any) => {\n        if (modelDetails && modelDetails.params) {\n          setParams(modelDetails.params);\n        } else {\n          const provider = selectedModel.providerId || \"\";\n          const newParams: { [key: string]: string } = {};\n          providerParams[provider]?.forEach((param) => {\n            newParams[param] = \"\";\n          });\n          setParams(newParams);\n        }\n      };\n\n      const handleError = (error: any) => {\n        const provider = selectedModel.providerId || \"\";\n        const newParams: { [key: string]: string } = {};\n        providerParams[provider]?.forEach((param) => {\n          newParams[param] = \"\";\n        });\n        setParams(newParams);\n      };\n\n      socket.on(\"modelDetailsRetrieved\", handleModelDetails);\n      socket.on(\"error\", handleError);\n\n      return () => {\n        socket.off(\"modelDetailsRetrieved\", handleModelDetails);\n        socket.off(\"error\", handleError);\n      };\n    }\n  }, [socket, isConnected, selectedModel]);\n\n  const handleParamChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setParams((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (socket && isConnected && selectedModel) {\n      setIsLoading(true);\n      setSuccessMessage(\"\");\n      const modelDetails = {\n        model: selectedModel,\n        params: params,\n      };\n\n      socket.emit(\"saveModelDetails\", modelDetails);\n    }\n  };\n\n  useEffect(() => {\n    if (socket && isConnected) {\n      const handleModelDetailsSaved = (response: { message: string }) => {\n        setIsLoading(false);\n        setSuccessMessage(response.message);\n\n        // Set a timeout to clear the success message after 3 seconds\n        const timer = setTimeout(() => {\n          setSuccessMessage(\"\");\n        }, 3000);\n\n        // Clear the timeout if the component unmounts\n        return () => clearTimeout(timer);\n      };\n\n      const handleError = (error: any) => {\n        setIsLoading(false);\n        setSuccessMessage(\"An error occurred while saving model details.\");\n\n        // Set a timeout to clear the error message after 3 seconds\n        const timer = setTimeout(() => {\n          setSuccessMessage(\"\");\n        }, 3000);\n\n        // Clear the timeout if the component unmounts\n        return () => clearTimeout(timer);\n      };\n\n      socket.on(\"modelDetailsSaved\", handleModelDetailsSaved);\n      socket.on(\"error\", handleError);\n\n      return () => {\n        socket.off(\"modelDetailsSaved\", handleModelDetailsSaved);\n        socket.off(\"error\", handleError);\n      };\n    }\n  }, [socket, isConnected]);\n\n  const filteredModels =\n    user?.planType === \"pro\"\n      ? [\n        ...models.filter((model) => model.provider === selectedProvider),\n        {\n          id: \"codemate.ai-model\",\n          provider: \"CodeMate.ai\",\n          providerId: \"codemate\",\n          name: \"CodeMate.ai Model\",\n          multiModal: true,\n        },\n      ]\n      : models.filter((model) => model.provider === selectedProvider);\n\n      useEffect(() => {\n        // Define the keys for the shortcut (Ctrl + .)\n        const keys = new Set([\"control\", \".\"]);\n    \n        // Define the action for this shortcut\n        const handleClearValues = () => {\n          setSelectedProvider(\"\");\n          setSelectedModel(null);\n          setParams({});\n          setSuccessMessage(\"\");\n        };\n    \n        // Register the listener with registerListener\n        registerListener(keys, handleClearValues);\n    \n        // Cleanup: Remove the listener when the component unmounts\n        return () => {\n          removeListener(keys);\n        };\n      }, [registerListener, removeListener, setSelectedProvider, setSelectedModel, setParams, setSuccessMessage]);\n\n\n\n  const updateIsSelected = (newValue) => {\n    setIsSelected(newValue);\n  };\n\n\nconst renderCurrentModelDetails = () => {\n  if (isLoading) {\n    return <p>Loading current model...</p>;  // Show loading state until model is set\n  }\n\n  if (currentModel) {\n    // Render the model details when it is set\n    if (isSelected) {\n      return (\n        <div className=\"w-full bg-[--bgColor] border border-[--borderColor] rounded-lg p-4 mt-4\">\n          <div className=\"space-y-4\">\n            <p className=\"text-xl text-center text-[--secondaryTextColor]\">\n              Using CodeMate.ai for Advanced Code Assistance\n            </p>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <CurrentModelDetails\n          provider={currentModel.id.provider}\n          name={currentModel.id.name}\n          params={currentModel.params}\n        />\n      );\n    }\n  }\n\n  return <p>No current model selected.</p>;  // Render a fallback message if model is null\n};\n\n\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar\">\n      <h1 className=\"text-2xl font-semibold mb-6\">LLM Models</h1>\n\n      {\n        isAuthenticated && (\n          <Toggle\n            label=\"Activate CodeMate.ai for Advanced Code Assistance\"\n            defaultChecked={true}\n            onChange={updateIsSelected}\n            socket={socket}\n            isConnected={isConnected}\n          />\n        )\n      }\n\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label\n            htmlFor=\"provider\"\n            className=\"block custom-font-size font-medium text-[--textColor]\"\n          >\n            Select Provider\n          </label>\n          <div className=\"relative\">\n            <select\n              id=\"provider\"\n              value={selectedProvider}\n              onChange={handleProviderChange}\n              className=\"block w-full bg-[--bgGradientEnd] border-[--borderColor] rounded-md py-2 pl-3 pr-10 text-[--textColor] focus:outline-none focus:ring-1 focus:ring-[--blueColor] focus:border-[--blueColor] sm:custom-font-size appearance-none hide-scrollbar max-h-[100px] overflow-auto\"\n            >\n              <option value=\"\">Select a provider</option>\n              {providers.map((provider) => (\n                <option key={provider} value={provider}>\n                  {provider}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n        {selectedProvider && (\n          <div>\n            <label\n              htmlFor=\"model\"\n              className=\"block custom-font-size font-medium text-[--textColor]\"\n            >\n              Select Model\n            </label>\n            <div className=\"relative\">\n              <select\n                id=\"model\"\n                value={selectedModel ? selectedModel.id : \"\"}\n                onChange={handleModelChange}\n                className=\"block w-full bg-[--bgColor] border-[--borderColor] rounded-md py-2 pl-3 pr-10 text-[--textColor] focus:outline-none focus:ring-1 focus:ring-[--blueColor] focus:border-[--blueColor] sm:custom-font-size appearance-none hide-scrollbar max-h-[100px] overflow-auto\"\n              >\n                <option value=\"\">Select a model</option>\n                {filteredModels.map((model) => (\n                  <option key={model.id} value={model.id}>\n                    {model.name}\n                  </option>\n                ))}\n              </select>\n            </div>\n          </div>\n        )}\n        {selectedModel && Object.keys(params).length > 0 && (\n          <div className=\"space-y-2\">\n            {Object.entries(params).map(([key, value]) => (\n              <div key={key}>\n                <label\n                  htmlFor={key}\n                  className=\"block custom-font-size font-medium text-[--textColor]\"\n                >\n                  {key}\n                </label>\n                <input\n                  type=\"text\"\n                  id={key}\n                  name={key}\n                  value={value}\n                  onChange={handleParamChange}\n                  className=\"block w-full bg-[--bgColor] border-[--borderColor] rounded-md py-2 pl-3 pr-10 text-[--textColor] focus:outline-none focus:ring-1 focus:ring-[--blueColor] focus:border-[--blueColor] sm:custom-font-size appearance-none hide-scrollbar max-h-[100px] overflow-auto\"\n                />\n              </div>\n            ))}\n          </div>\n        )}\n\n\n        <button\n          type=\"submit\"\n          disabled={\n            !selectedModel || Object.values(params).some((v) => !v) || isLoading\n          }\n          className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm custom-font-size font-medium  bg-[--darkBlueColorGradientStart] hover:bg-[--darkBlueColorGradientStart] bg-gradient-to-l from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--textColor] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[--darkBlueColorGradientStart] disabled:opacity-50\"\n        >\n          {isLoading ? \"Loading...\" : \"Select\"}\n        </button>\n      </form>\n\n\n      {renderCurrentModelDetails()}\n\n      {successMessage && (\n        <div className=\"mt-4 text-green-500 text-center\">{successMessage}</div>\n      )}\n      <div className=\"mt-4 custom-font-size text-[--grayColor] text-center\">\n        Press Ctrl + . to close the model selection\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { FaExternalLinkAlt } from \"react-icons/fa\";\n\n// Define the type for the product tab item\ninterface Product {\n  title: string;\n  imageSrc: string;\n  installText: string;\n  actionLinks: {\n    install: string;\n    marketplace?: string;\n    viewDocumentation: string;\n  };\n  isWeb: boolean;\n  description?: string;\n}\n\ninterface ProductTabProps {\n  products: Product[];\n}\n\ninterface ElectronAPI {\n  openFile: () => Promise<string[]>;\n  readFile: (filePath: string) => Promise<string>;\n  saveFile: (filePath: string, content: string) => Promise<void>;\n  createFile: (\n    fileName: string,\n    content: string,\n    currentDir: string\n  ) => Promise<string>;\n\n  openExternalLink: (url: string) => Promise<string>;\n}\n\ndeclare global {\n  interface Window {\n    electron: ElectronAPI;\n  }\n}\n\nexport const ProductTab: React.FC<ProductTabProps> = ({ products }) => {\n  const handleAction = (url: string) => {\n    // Use the openExternalLink method exposed by Electron\n    window.electron\n      .openExternalLink(url)\n      .then((response) => {\n      })\n      .catch((error) => {\n        console.error(\"Error opening URL:\", error);\n      });\n  };\n\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar text-[--textColor]\">\n      <h1 className=\"text-2xl font-semibold mb-6\">Products</h1>\n      {products.map((product, index) => (\n        <div\n          key={index}\n          className=\"bg-[--bgColor] border border-[--borderColor] rounded-lg p-4 mb-4\"\n        >\n          <div className=\"flex items-center mb-4\">\n            <img\n              src={product.imageSrc}\n              alt={product.title}\n              className=\"mr-2 h-6\"\n            />\n            <div className=\"flex items-center justify-center\">\n              <span className=\"custom-font-size mt-1\">{product.title}</span>\n            </div>\n          </div>\n\n          <button\n            onClick={() => handleAction(product.actionLinks.install)}\n            className=\"bg-[--darkBlueColorGradientStart] text-[--textColor] py-2 px-4 rounded-md mb-3 hover:bg-[--darkBlueColorGradientEnd] transition-colors custom-font-size\"\n          >\n            {product.installText}\n          </button>\n\n          <div className=\"custom-font-size text-[--textColor]\">\n            {!product.isWeb && (\n              <>\n                {product?.actionLinks?.marketplace && (\n                  <button\n                    onClick={() =>\n                      handleAction(product.actionLinks.marketplace)\n                    }\n                    className=\"flex items-center hover:text-[--lightGrayColor] transition-colors mb-1 custom-font-size\"\n                  >\n                    <span>View in VS Code Marketplace</span>\n                    <FaExternalLinkAlt className=\"ml-1 w-3 h-3\" />\n                  </button>\n                )}\n\n                <button\n                  onClick={() =>\n                    handleAction(product.actionLinks.viewDocumentation)\n                  }\n                  className=\"flex items-center hover:text-[--lightGrayColor] transition-colors custom-font-size\"\n                >\n                  <span>View in Documentation</span>\n                  <FaExternalLinkAlt className=\"ml-1 w-3 h-3\" />\n                </button>\n              </>\n            )}\n            {product.description && (\n              <span className=\"custom-font-size text-[--textColor]\">\n                {product.description}\n              </span>\n            )}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Example usage of the ProductTab component\n","export default \"__VITE_ASSET__EQEa3L47__\"","export default \"__VITE_ASSET__DjF$P3Wu__\"","export default \"__VITE_ASSET__CdDOlEDo__\"","import { Socket } from \"socket.io-client\";\nimport { useEffect, useState } from \"react\";\n\ninterface AITabProps {\n  socket: Socket | null;\n  isConnected: boolean;\n}\n\nexport function AITab({ socket, isConnected }: AITabProps) {\n  // States to hold the rate limit data\n  const [rateLimitData, setRateLimitData] = useState({\n    remaining: 0,\n    total: 0,\n    resetTime: \"\", // Format: \"Jan 03, 2025\"\n  });\n\n  // Function to format the reset time (assuming it's a Unix timestamp)\n  const formatResetTime = (timestamp: number) => {\n    const resetDate = new Date(timestamp * 1000); // Convert to milliseconds\n    return resetDate.toLocaleString('en-US', {\n      weekday: 'short',\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric',\n    });\n  };\n\n  // Effect to listen for the rate limit data from the backend\n  useEffect(() => {\n    // Check for session_token in localStorage\n    const sessionToken = localStorage.getItem('session_token');\n\n    // If the session_token is present, proceed with socket logic\n    if (sessionToken && socket && isConnected) {\n\n      socket.emit(\"user_request_rate_limit\");\n\n      // Listen for the event that provides rate limit data\n      socket.on(\"rateLimitData\", (data: { remaining: number, total: number, reset: number }) => {\n\n        setRateLimitData({\n          remaining: data.total - data.remaining,\n          total: data.total,\n          resetTime: formatResetTime(data.reset),\n        });\n      });\n\n      // Cleanup the event listener on unmount\n      return () => {\n        socket.off(\"rateLimitData\");\n      };\n    }\n\n    // If no session_token, log or handle accordingly\n    else {\n      console.log(\"No session_token found in localStorage. Socket call not made.\");\n    }\n  }, [socket, isConnected]);\n\n  const sessionToken = localStorage.getItem('session_token');\n\n\n  return (\n    <div className=\"overflow-y-auto w-3/4 p-4 max-h-[552px] hide-scrollbar text-[--textColor]\">\n      <h1 className=\"text-2xl font-semibold mb-6\">AI</h1>\n\n      {sessionToken ? (\n        <div className=\"space-y-8\">\n          <div className=\"space-y-2\">\n            <h2 className=\"text-[--secondaryTextColor] text-sm\">Request Usage</h2>\n            <div className=\"flex items-center justify-between flex-1\">\n              <p className=\"text-sm text-[--secondaryTextColor]\">\n                This is the monthly limit of AI requests for your account.{\" \"}\n                <button className=\"text-[--darkBlueColor] hover:underline\" onClick={() => window.electron.openExternalLink(\"https://codemate.ai/#pricing\")}>\n                  Upgrade\n                </button>\n                {\" \"}to get more requests.\n              </p>\n              <div className=\"text-right flex-none w-1/4\">\n                {/* Dynamic display of current usage, total limit, and remaining requests */}\n                <p className=\"text-sm font-medium\">{rateLimitData.remaining}/{rateLimitData.total}</p>\n                {/* <p className=\"text-xs text-[#8F8F8F]\">Resets {rateLimitData.resetTime}</p> */}\n                <p className=\"text-xs text-[--secondaryTextColor]\">\n                  Resets {new Date(rateLimitData.resetTime).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          <p className=\"text-xl text-center text-[--secondaryTextColor]\">\n            Please sign in to use CodeMate.ai and access AI features.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { FaTimes } from \"react-icons/fa\"; // Importing the close icon\nimport { AccountTab } from \"../Account/accountTab\";\nimport { AppearanceTab } from \"../Appearance/appearanceTab\";\nimport { FeaturesTab } from \"../Features/featuresTab\";\nimport { SharedBlocksTab } from \"../SharedBlock/sharedBlocksTab\";\nimport { KeyboardShortcutsTab } from \"../KeyboardShortcuts/KeyboardShortcutsTab\";\nimport { AboutTab } from \"../About/aboutTab\";\nimport { TeamTab } from \"../Team/teamTab\";\nimport { SubShellTab } from \"../SubShell/subShellTab\";\n\nimport { Socket } from \"socket.io-client\";\nimport LLMModelTab from \"../LLMModels/LLMModelsTab\";\nimport { ProductTab } from \"../Products/productTab\";\n\nimport vsCodeImage from \"../../../../assets/vsCode.png\";\nimport webLogoLightImage from \"../../../../assets/web-icon.png\";\nimport webLogoDarkImage from \"../../../../assets/web-icon-dark.png\";\nimport { AITab } from \"../AI/aiTab\";\n\ninterface SettingsModalProps {\n  isModalOpen: boolean;\n  setIsModalOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  socket: Socket | null;\n  isConnected: boolean;\n  sendMessage: (event: string, data: any) => void;\n}\n\nexport default function SettingsModal({\n  isModalOpen,\n  setIsModalOpen,\n  socket,\n  isConnected,\n  sendMessage,\n}: SettingsModalProps) {\n  const [activeTab, setActiveTab] = useState(\"account\");\n\n  const getTheme = localStorage.getItem(\"theme\");\n\n  let logoImage;\n\n  if (getTheme === \"codemate-ai-light\") {\n    logoImage = webLogoLightImage;\n  } else {\n    logoImage = webLogoDarkImage;\n  }\n\n  const products = [\n    {\n      title: \"Visual Studio Code\",\n      imageSrc: vsCodeImage,\n      installText: \"Install our VS Code Extension\",\n      actionLinks: {\n        install:\n          \"vscode:extension/AyushSinghal.Code-Mate\",\n        marketplace:\n          \"https://marketplace.visualstudio.com/items?itemName=AyushSinghal.Code-Mate\",\n        viewDocumentation: \"https://docs.codemate.ai/\",\n      },\n      isWeb: false,\n    },\n    {\n      title: \"Web\",\n      imageSrc: logoImage,\n      installText: \"Try CodeMate on the web\",\n      actionLinks: {\n        install: \"https://app.codemate.ai/app/dashboard\",\n        viewDocumentation: \"https://docs.codemate.ai/\",\n      },\n      isWeb: false,\n      // description: \"Chat with codemate.ai\"\n    },\n  ];\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case \"account\":\n      return <AccountTab socket={socket}\n      isConnected={isConnected}\n      sendMessage={sendMessage}/>;\n      case \"appearance\":\n        return (\n          <AppearanceTab\n            socket={socket}\n            isConnected={isConnected}\n            sendMessage={sendMessage}\n          />\n        );\n      // case \"features\":\n      //   return <FeaturesTab />;\n      case \"shared-blocks\":\n        return <SharedBlocksTab />;\n      case \"keyboard-shortcuts\":\n        return <KeyboardShortcutsTab />;\n      case \"about\":\n        return <AboutTab />;\n      case \"team\":\n        return <TeamTab />;\n      case \"subShells\":\n        return <SubShellTab />;\n      case \"products\":\n        return <ProductTab products={products} />;\n      case \"llm-Models\":\n        return <LLMModelTab socket={socket} isConnected={isConnected} />;\n        case \"ai\":\n        return <AITab socket={socket} isConnected={isConnected} />;\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <div\n      className={`fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 ${\n        isModalOpen ? \"block\" : \"hidden\"\n      } z-10`}\n    >\n      <div className=\"bg-opacity-50 bg-gradient-to-b from-[--bgGradientStart] to-[--bgGradientEnd] text-[--textColor] rounded-lg xl:w-2/4 w-[600px] shadow-xl h-[500px]\">\n        <div className=\"flex justify-between items-center p-4 border-b border-[--borderColor]\">\n          <h2 className=\"custom-font-size font-semibold\">Settings</h2>\n          <button\n            onClick={() => setIsModalOpen(false)}\n            className=\"text-[--textColor]\"\n          >\n            <FaTimes className=\"h-6 w-6\" />\n          </button>\n        </div>\n        <div className=\"flex h-[434px]\">\n          <nav className=\"w-1/4  border-r border-[--borderColor] p-2\">\n            <ul className=\"space-y-4\">\n              <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"account\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"account\")}\n              >\n                Account\n              </li>\n              <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"appearance\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"appearance\")}\n              >\n                Appearance\n              </li>\n              {/* <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"features\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"features\")}\n              >\n                Features\n              </li> */}\n              <li\n                className={`w-full text-left p-2 rounded  cursor-pointer ${\n                  activeTab === \"llm-Models\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"llm-Models\")}\n              >\n                LLM Models\n              </li>\n              {/* <li\n                className={`w-full text-left p-2 rounded  cursor-pointer ${\n                  activeTab === \"shared-blocks\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"shared-blocks\")}\n              >\n                Shared blocks\n              </li> */}\n              <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"keyboard-shortcuts\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"keyboard-shortcuts\")}\n              >\n                Keyboard shortcuts\n              </li>\n              {/* <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"team\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"team\")}\n              >\n                Team\n              </li> */}\n              {/* <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"subShells\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"subShells\")}\n              >\n                SubShells\n              </li> */}\n              <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"products\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"products\")}\n              >\n                Products\n              </li>\n              {/* <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"Referrals\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"Referrals\")}\n              >\n                Referrals\n              </li> */}\n              <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"ai\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"ai\")}\n              >\n                AI\n              </li>\n              <li\n                className={`w-full text-left p-2 rounded cursor-pointer ${\n                  activeTab === \"about\"\n                    ? \"bg-opacity-50 bg-gradient-to-r from-[--darkBlueColorGradientStart] to-[--purpleColor] text-[--primaryTextColor]\"\n                    : \"text-[--secondaryTextColor] hover:[--darkGrayColor]\"\n                }`}\n                onClick={() => setActiveTab(\"about\")}\n              >\n                About\n              </li>\n            </ul>\n          </nav>\n          <>{renderTabContent()}</>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { IoSettingsOutline } from \"react-icons/io5\";\nimport SettingsModal from \"../Settings/Model/settingModel\";\nimport { FaTimes } from \"react-icons/fa\";\nimport {\n  FiChevronDown,\n  FiChevronRight,\n  FiSend,\n  FiFileText,\n  FiMessageSquare,\n  FiMessageCircle,\n} from \"react-icons/fi\";\nimport { Socket } from \"socket.io-client\";\nimport { shortcutContext } from \"../../context/shortCutContext\";\n\ninterface Section {\n  title: string;\n  items: Array<{ text: string; description: string; completed: boolean }>;\n}\n\n\ninterface NavHeadProps {\n  onTabChange: (id: string) => void; // Change type to string\n  onAddTab: () => void;\n  onTabRemove: (id: string) => void; // Change type to string\n  tabs: TabData[]; // List of tab names\n  activeTabId: string; // ID of the active tab\n  setActiveTab: (id: string) => void; // Change type to string\n  isSliderOpen: boolean;\n  setIsSliderOpen: (isOpen: boolean) => void;\n  socket: Socket | null;\n  isConnected: boolean;\n  sendMessage: (event: string, data: any) => void;\n  updateTabName: (id: string, name: string) => void;\n}\n\nconst NavHead: React.FC<NavHeadProps> = ({\n  onTabChange,\n  onAddTab,\n  onTabRemove,\n  tabs,\n  activeTabId,\n  setActiveTab,\n  isSliderOpen,\n  setIsSliderOpen,\n  socket,\n  isConnected,\n  sendMessage,\n  updateTabName,\n}) => {\n  const {registerListener, removeListener} = useContext(shortcutContext)\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [hoveredTabId, setHoveredTabId] = useState<string | null>(null);\n\n  const handleTabClick = (id: string) => {\n    onTabChange(id);\n  };\n\n  const handleTabRemove = (id: string, event: React.MouseEvent) => {\n    event.stopPropagation();\n    onTabRemove(id);\n\n    // if(socket && isConnected){\n    //   socket.emit('terminate_session', { terminal_id: id });\n    // }\n  };\n\n  const [sections, setSections] = useState<Section[]>([\n    {\n      title: \"What's New?\",\n      items: [],\n    },\n    {\n      title: \"Getting Started\",\n      items: [\n        {\n          text: \"Create your first block\",\n          description: \"Run a command to see your command and output grouped.\",\n          completed: true,\n        },\n        {\n          text: \"Navigate blocks\",\n          description: \"Click to select a block and navigate with arrow keys.\",\n          completed: true,\n        },\n        {\n          text: \"Take an action on block\",\n          description: \"Right click on a block to copy/paste, share, more.\",\n          completed: true,\n        },\n        {\n          text: \"Open command palette\",\n          description: \"Access all of CodeMate.ai via the keyboard.\",\n          completed: false,\n        },\n        {\n          text: \"Set your theme\",\n          description: \"Make CodeMate.ai your own by choosing a theme.\",\n          completed: false,\n        },\n      ],\n    },\n    {\n      title: \"Maximize CodeMate.ai\",\n      items: [\n        {\n          text: \"Create your first block\",\n          description: \"Run a command to see your command and output grouped.\",\n          completed: true,\n        },\n        {\n          text: \"Navigate blocks\",\n          description: \"Click to select a block and navigate with arrow keys.\",\n          completed: true,\n        },\n        {\n          text: \"Take an action on block\",\n          description: \"Right click on a block to copy/paste, share, more.\",\n          completed: true,\n        },\n        {\n          text: \"Open command palette\",\n          description: \"Access all of CodeMate.ai via the keyboard.\",\n          completed: false,\n        },\n        {\n          text: \"Set your theme\",\n          description: \"Make CodeMate.ai your own by choosing a theme.\",\n          completed: false,\n        },\n      ],\n    },\n    {\n      title: \"Advanced Setup\",\n      items: [\n        {\n          text: \"Create your first block\",\n          description: \"Run a command to see your command and output grouped.\",\n          completed: true,\n        },\n        {\n          text: \"Navigate blocks\",\n          description: \"Click to select a block and navigate with arrow keys.\",\n          completed: true,\n        },\n        {\n          text: \"Take an action on block\",\n          description: \"Right click on a block to copy/paste, share, more.\",\n          completed: true,\n        },\n        {\n          text: \"Open command palette\",\n          description: \"Access all of CodeMate.ai via the keyboard.\",\n          completed: false,\n        },\n        {\n          text: \"Set your theme\",\n          description: \"Make CodeMate.ai your own by choosing a theme.\",\n          completed: false,\n        },\n      ],\n    },\n  ]);\n\n  const [expandedSections, setExpandedSections] = useState<{\n    [key: string]: boolean;\n  }>({\n    \"What's New?\": true,\n    \"Getting Started\": true,\n    \"Maximize CodeMate.ai\": false,\n    \"Advanced Setup\": false,\n  });\n\n  const toggleSection = (title: string) => {\n    setExpandedSections((prev) => ({ ...prev, [title]: !prev[title] }));\n  };\n\n  const toggleItem = (sectionIndex: number, itemIndex: number) => {\n    setSections((prevSections) => {\n      const newSections = [...prevSections];\n      newSections[sectionIndex].items[itemIndex].completed =\n        !newSections[sectionIndex].items[itemIndex].completed;\n      return newSections;\n    });\n  };\n\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingTabId, setEditingTabId] = useState<string | null>(null);\n  const [newTabName, setNewTabName] = useState(\"\");\n\n  useEffect(() => {\n    const keys = new Set([\"f2\"]);\n  \n    // Define the action for F2 key press\n    const handleKeyPress = () => {\n      if (activeTabId) {\n        setEditingTabId(activeTabId);\n        const activeTab = tabs.find((tab) => tab.id === activeTabId);\n        if (activeTab) {\n          setNewTabName(activeTab.name);\n        }\n        setIsEditing(true);\n      }\n    };\n  \n    // Register the listener for the F2 key combination\n    registerListener(keys, handleKeyPress);\n  \n    // Cleanup: Remove the listener when the component unmounts or dependencies change\n    return () => {\n      removeListener(keys);\n    };\n  }, [activeTabId, tabs, registerListener, removeListener]);\n  \n\n  const handleTabDoubleClick = (tabId: string) => {\n    // Trigger the same behavior as F2 or double-click to start editing\n    setEditingTabId(tabId);\n    const activeTab = tabs.find((tab) => tab.id === tabId);\n    if (activeTab) {\n      setNewTabName(activeTab.name);\n    }\n    setIsEditing(true);\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setNewTabName(e.target.value);\n  };\n\n  const handleInputBlur = () => {\n    if (editingTabId) {\n      updateTabName(editingTabId, newTabName);\n    }\n    setIsEditing(false);\n    setEditingTabId(null);\n  };\n\n  const handleInputKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      handleInputBlur();\n    }\n  };\n\n  const [hoverInfo, setHoverInfo] = useState<{\n    show: boolean;\n    text: string;\n    x: number;\n    y: number;\n  }>({\n    show: false,\n    text: \"\",\n    x: 0,\n    y: 0,\n  });\n\n  const showHoverInfo = (text: string, event: React.MouseEvent) => {\n    setHoverInfo({ show: true, text, x: event.clientX, y: event.clientY });\n  };\n\n  const hideHoverInfo = () => {\n    setHoverInfo({ ...hoverInfo, show: false });\n  };\n\n\n  const shortcuts = [\n    {\n      keys: new Set([\"control\", \"d\"]),\n      action: (event: KeyboardEvent, activeTabId: string, onTabRemove: Function) => {\n        event.preventDefault();\n        onTabRemove(activeTabId);\n      },\n    },\n    {\n      keys: new Set([\"control\", \",\"]),\n      action: (event: KeyboardEvent, setIsModalOpen: Function) => {\n        event.preventDefault();\n        setIsModalOpen(true);\n      },\n    },\n    {\n      keys: new Set([\"control\", \".\"]),\n      action: (event: KeyboardEvent, setIsModalOpen: Function) => {\n        event.preventDefault();\n        setIsModalOpen(false);\n      },\n    },\n    {\n      keys: new Set([\"control\", \"shift\", \"r\"]),\n      action: (event: KeyboardEvent, setIsSliderOpen: Function) => {\n        event.preventDefault();\n        setIsSliderOpen(false);\n      },\n    },\n    {\n      keys: new Set([\"control\", \"shift\", \"t\"]),\n      action: (event: KeyboardEvent, onAddTab: Function) => {\n        event.preventDefault();\n        onAddTab();\n      },\n    },\n    {\n      keys: new Set([\"control\", \"escape\"]),\n      action: (event: KeyboardEvent, activeTabId: string, onTabRemove: Function) => {\n        event.preventDefault();\n        onTabRemove(activeTabId);\n      },\n    },\n  ];\n\n  \n\n  useEffect(() => {\n    const handleKeyPress = (event: KeyboardEvent) => {\n      switch (event.key) {\n        case \"D\":\n          if (event.ctrlKey) {\n            event.preventDefault();\n            onTabRemove(activeTabId);\n          }\n          break;\n        case \",\":\n          if (event.ctrlKey) {\n            event.preventDefault();\n            setIsModalOpen(true);\n          }\n          break;\n        case \".\":\n          if (event.ctrlKey) {\n            event.preventDefault();\n            setIsModalOpen(false);\n          }\n          break;\n        case \"R\":\n          if (event.ctrlKey && event.shiftKey) {\n            event.preventDefault();\n            setIsSliderOpen(false);\n          }\n          break;\n        case \"T\":\n          if (event.ctrlKey && event.shiftKey) {\n            event.preventDefault();\n            onAddTab();\n          }\n          break;\n        case \"Escape\":\n          if (event.ctrlKey) {\n            event.preventDefault();\n            onTabRemove(activeTabId);\n          }\n        default:\n          break;\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyPress);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  }, [activeTabId, onTabRemove, onAddTab, setIsModalOpen, setIsSliderOpen]);\n\n  return (\n    <div className=\"flex  items-center bg-[--bgColor] shadow-lg shadow-[--shadowColor]/50 w-full z-10 relative h-8\">\n      <div className=\"flex items-center space-x-1 overflow-x-auto mr-16 hide-scrollbar \">\n        {tabs.map((tab) => (\n          <div\n            key={tab.id}\n            className={`flex text-center text-[--textColor] hover:bg-[--darkGrayColor] transition-colors cursor-pointer h-9 items-center bg-opacity-50 bg-gradient-to-b from-[--bgGradientStart] to-[--bgGradientEnd] px-3 py-1 w-40 isolate  bg-[--grayColor] shadow-lg ring-1 ring-[--shadowColor] ${\n              tab.id === activeTabId\n                ? \"relative bg-[--selectionBackgroundColor] font-medium border-b-2 border-gradient hide-scrollbar \"\n                : \"\"\n            }`}\n            onClick={() => handleTabClick(tab.id)}\n            onDoubleClick={() => handleTabDoubleClick(tab.id)}\n            onMouseEnter={() => setHoveredTabId(tab.id)}\n            onMouseLeave={() => setHoveredTabId(null)}\n          >\n            {isEditing && editingTabId === tab.id ? (\n              <input\n                type=\"text\"\n                value={newTabName}\n                onChange={handleInputChange}\n                onBlur={handleInputBlur}\n                onKeyDown={handleInputKeyDown}\n                className=\"custom-font-size text-[--textColor] bg-transparent  border-[--textColor] focus:outline-none hide-scrollbar w-full\"\n                autoFocus\n              />\n            ) : (\n              <span className=\"custom-font-size text-[--primaryTextColor]\">\n                {tab.name}\n              </span>\n            )}\n            {hoveredTabId === tab.id && (\n              <FaTimes\n                className=\"ml-auto h-4 w-4 text-[--primaryTextColor] cursor-pointer\"\n                style={{ transform: \"scale(0.8)\", filter: \"contrast(0.5)\" }}\n                onClick={(event) => handleTabRemove(tab.id, event)}\n              />\n            )}\n          </div>\n        ))}\n        <button\n          className=\"inline-block text-center px-4 py-2 cursor-pointer text-[--textColor] hover:bg-[--selectionBackgroundColor] transition-colors\"\n          onClick={onAddTab}\n          onMouseEnter={(e) => showHoverInfo(\"New tab (Ctrl+Shift+T)\", e)}\n          onMouseLeave={hideHoverInfo}\n        >\n          +\n        </button>\n      </div>\n\n      <div\n        className={`fixed inset-y-0 right-0 w-80 bg-[--bgColor] shadow-lg transition-transform transform duration-300 ${\n          isSliderOpen ? \"translate-x-0\" : \"translate-x-full\"\n        }`}\n      >\n        <div className=\"flex justify-between items-center p-4 border-b border-[--borderColor] text-[--textColor]\">\n          <h2 className=\"custom-font-size font-semibold\">\n            CodeMate.AI Essentials\n          </h2>\n          <button onClick={() => setIsSliderOpen(false)}>\n            <FaTimes className=\"w-5 h-5\" />\n          </button>\n        </div>\n        <div className=\"bg-[--bgColor] text-[--textColor] w-full font-sans h-full overflow-y-auto hide-scrollbar\">\n          <div className=\"p-4\">\n            <button className=\"w-full bg-[--bgColor] text-[--blueColor] border border-[--darkBlueColor] rounded py-2 px-4 flex items-center justify-center mb-4\">\n              <FiSend className=\"w-4 h-4 mr-2\" />\n              Invite a friend to CodeMate.ai\n            </button>\n\n            <div className=\"text-right custom-font-size text-[--secondaryTextColor] mb-4 cursor-pointer\">\n              Mark all as read\n            </div>\n          </div>\n\n          <div className=\"flex-grow px-4\">\n            {sections.map((section, sectionIndex) => (\n              <div key={section.title} className=\"mb-4\">\n                <div\n                  className=\"flex items-center justify-between mb-2 cursor-pointer\"\n                  onClick={() => toggleSection(section.title)}\n                >\n                  <div className=\"flex items-center\">\n                    {expandedSections[section.title] ? (\n                      <FiChevronDown className=\"w-4 h-4 mr-1\" />\n                    ) : (\n                      <FiChevronRight className=\"w-4 h-4 mr-1\" />\n                    )}\n                    <span className=\"custom-font-size font-medium\">\n                      {section.title}\n                    </span>\n                  </div>\n                  {section.title === \"What's New?\" && (\n                    <span className=\"custom-font-size text-[--blueColor]\">\n                      Read all changelogs\n                    </span>\n                  )}\n                  {section.items.length > 0 &&\n                    section.title !== \"What's New?\" && (\n                      <span className=\"custom-font-size text-[--textColor]\">\n                        {section.items.filter((item) => item.completed).length}/\n                        {section.items.length}\n                      </span>\n                    )}\n                </div>\n                {expandedSections[section.title] && (\n                  <div className=\"ml-5 space-y-3\">\n                    {section.items.map((item, itemIndex) => (\n                      <div key={item.text} className=\"flex items-start\">\n                        {section.title !== \"What's New?\" ? (\n                          <div\n                            className={`w-3 h-3 rounded-full mt-1 mr-2 cursor-pointer ${\n                              item.completed\n                                ? \"bg-[--blueColor]\"\n                                : \"border-2 border-[--borderColor]\"\n                            }`}\n                            onClick={() => toggleItem(sectionIndex, itemIndex)}\n                          ></div>\n                        ) : null}\n                        <div>\n                          <div className=\"custom-font-size\">{item.text}</div>\n                          <div className=\"custom-font-size text-[--textColor]\">\n                            {item.description}\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n\n          <div className=\"p-4\">\n            <div className=\"custom-font-size text-[--textColor] mb-4\">\n              v0.0.1\n            </div>\n\n            <div className=\"flex justify-between custom-font-size text-[--textColor]\">\n              <div className=\"flex items-center cursor-pointer\">\n                <FiFileText className=\"w-4 h-4 mr-1\" />\n                Docs\n              </div>\n              <div className=\"flex items-center cursor-pointer\">\n                <FiMessageSquare className=\"w-4 h-4 mr-1\" />\n                Discord\n              </div>\n              <div className=\"flex items-center cursor-pointer\">\n                <FiMessageCircle className=\"w-4 h-4 mr-1\" />\n                Feedback\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center space-x-4 absolute right-0 h-8 mr-4\">\n        <IoSettingsOutline\n          onClick={() => setIsModalOpen(true)}\n          style={{ color: \"var(--textColor)\" }}\n          size={16}\n          className=\"cursor-pointer\"\n          onMouseEnter={(e) => showHoverInfo(\"Settings (Ctrl+,)\", e)}\n          onMouseLeave={hideHoverInfo}\n        />\n        {/* {!isSliderOpen && (\n          <IoBulbOutline\n            style={{ color: \"var(--textColor)\" }}\n            size={16}\n            className=\"cursor-pointer\"\n            onClick={() => setIsSliderOpen(true)}\n            onMouseEnter={(e) => showHoverInfo('Codemate Essentials (Ctrl+Shift+E)', e)}\n            onMouseLeave={hideHoverInfo}\n          />\n        )} */}\n      </div>\n\n      {hoverInfo.show && (\n        <div\n          style={{\n            position: \"fixed\",\n            top: hoverInfo.y + 10,\n            left: hoverInfo.x - 50,\n            backgroundColor: \"#161b22\",\n            color: \"white\",\n            padding: \"5px\",\n            borderRadius: \"3px\",\n            zIndex: 1000,\n            fontSize: \"12px\",\n          }}\n        >\n          {hoverInfo.text}\n        </div>\n      )}\n\n      {isModalOpen && (\n        <SettingsModal\n          isModalOpen={isModalOpen}\n          setIsModalOpen={setIsModalOpen}\n          socket={socket}\n          isConnected={isConnected}\n          sendMessage={sendMessage}\n        />\n      )}\n    </div>\n    // </div>\n  );\n};\n\nexport default NavHead;\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport function useTabs() {\n  // State to manage the global split level and depth of tabs\n  const [globalSplitLevel, setGlobalSplitLevel] = useState(0);\n  const [globalDepth, setGlobalDepth] = useState(0);\n\n  // Function to create a default child object for a tab\n  const createDefaultChild = (\n    tabId: string,\n    type: \"ai\" | \"editor\" | \"terminal\" | \"preview\",\n    splitLevel: number,\n    depth: number,\n    direction: \"horizontal\" | \"vertical\"\n  ): ChildData => ({\n    id: `${tabId}-${type}-${splitLevel}-${depth}`,\n    type,\n    content: [],\n    splitLevel,\n    contentType: type,\n    depth,\n    direction,\n  });\n\n  // Function to create a default tab object\n  const createDefaultTab = (\n    type: \"ai\" | \"editor\" | \"terminal\" | \"preview\" = \"terminal\",\n    filePath?: string\n  ): TabData => {\n    const tabId = uuidv4();\n\n    const defaultChild = createDefaultChild(tabId, type, 0, 0, \"horizontal\");\n\n    if (filePath) {\n      defaultChild.filePath = filePath;\n    }\n\n    return {\n      id: tabId,\n      name: \"~\",\n      children: [defaultChild],\n      splitLevel: 0,\n      isSudoPassword: false,\n    };\n  };\n\n  // State to manage the list of tabs and the active tab ID\n  const [tabs, setTabs] = useState<TabData[]>(() => {\n    const savedTabs = sessionStorage.getItem(\"tabs\");\n    return savedTabs ? JSON.parse(savedTabs) : [createDefaultTab()];\n  });\n\n  const [activeTabId, setActiveTabId] = useState<string>(() => {\n    const savedActiveTabId = sessionStorage.getItem(\"activeTabId\");\n    return savedActiveTabId || tabs[0].id;\n  });\n\n  // Effect to save tabs and active tab ID to session storage whenever they change\n  useEffect(() => {\n    sessionStorage.setItem(\"tabs\", JSON.stringify(tabs));\n    sessionStorage.setItem(\"activeTabId\", activeTabId);\n  }, [tabs, activeTabId]);\n\n  // Function to add a new tab\n  const addTab = () => {\n    const newTab = createDefaultTab();\n\n    setTabs((prevTabs) => {\n      const updatedTabs = [...prevTabs, newTab];\n      sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n      return updatedTabs;\n    });\n\n    setActiveTabId(newTab.id);\n  };\n\n  // Function to add a new tab and return its ID\n  const addTabAndReturnId = (\n    filePath?: string,\n    type: \"ai\" | \"editor\" | \"terminal\" | \"preview\" = \"terminal\"\n  ): string => {\n    const newTab = createDefaultTab(type, filePath);\n    setTabs((prevTabs) => [...prevTabs, newTab]);\n    setActiveTabId(newTab.id);\n\n    return newTab.id;\n  };\n\n  // Function to remove a tab by its ID\n  const removeTab = (id: string) => {\n    setTabs((prevTabs) => {\n      const newTabs = prevTabs.filter((tab) => tab.id !== id);\n      const newActiveId =\n        id === activeTabId && newTabs.length > 0\n          ? newTabs[newTabs.length - 1].id\n          : activeTabId;\n\n      setActiveTabId(newActiveId);\n      return newTabs;\n    });\n  };\n\n  // Function to handle tab change by setting the active tab ID\n  const handleTabChange = (id: string) => {\n    setActiveTabId(id);\n  };\n\n  // Function to split a child within a tab and return the new child's ID\n  const splitChild = useCallback(\n    (\n      tabId: string,\n      childId: string,\n      direction: \"horizontal\" | \"vertical\",\n      type: \"ai\" | \"editor\" | \"terminal\" | \"preview\" = \"terminal\"\n    ): string => {\n      let newChildId: string = \"\";\n\n      setTabs((prevTabs) => {\n        const updatedTabs = prevTabs.map((tab) => {\n          if (tab.id !== tabId) return tab;\n\n          const updateChildren = (children: ChildData[]): ChildData[] => {\n            return children.flatMap((child) => {\n              if (child.id === childId) {\n                const newSplitLevel =\n                  direction === \"horizontal\"\n                    ? child.splitLevel + 1\n                    : child.splitLevel;\n                const newDepth =\n                  direction === \"vertical\" ? child.depth + 1 : child.depth;\n\n                const newChild = createDefaultChild(\n                  tabId,\n                  type,\n                  newSplitLevel,\n                  newDepth,\n                  direction\n                );\n                newChildId = newChild.id;\n\n                return [\n                  {\n                    ...child,\n                    splitLevel: newSplitLevel,\n                    depth: newDepth,\n                    direction,\n                  },\n                  newChild,\n                ];\n              }\n              return [child];\n            });\n          };\n\n          const updatedChildren = updateChildren(tab.children);\n          return { ...tab, children: updatedChildren };\n        });\n\n        sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n        return updatedTabs;\n      });\n\n      return newChildId;\n    },\n    []\n  );\n\n  // Function to close a child within a tab\n  const closeChild = (tabId: string, childId: string) => {\n    setTabs((prevTabs) => {\n      const updatedTabs = prevTabs.map((tab) => {\n        if (tab.id !== tabId) return tab;\n\n        const filteredChildren = tab.children.filter(\n          (child) => child.id !== childId\n        );\n\n        if (filteredChildren.length === 0) {\n          const newChild = createDefaultChild(\n            tabId,\n            \"terminal\",\n            0,\n            0,\n            \"horizontal\"\n          );\n          return { ...tab, children: [newChild] };\n        }\n\n        return { ...tab, children: filteredChildren };\n      });\n\n      sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n      return updatedTabs;\n    });\n  };\n\n  // Function to update a child's data within a tab\n  const updateChildData = (\n    tabId: string,\n    childId: string,\n    newData: { contentType: \"ai\" | \"editor\" | \"terminal\" | \"preview\" },\n    filePath?: string\n  ) => {\n    setTabs((prevTabs) => {\n      const updatedTabs = prevTabs.map((tab) => {\n        if (tab.id !== tabId) return tab;\n\n        const updatedChildren = tab.children.map((child) => {\n          if (child.id === childId) {\n            // Create a new id based on the new contentType\n            const newId = `${tabId}-${newData.contentType}-${child.splitLevel}-${child.depth}`;\n            return {\n              ...child,\n              id: newId,\n              contentType: newData.contentType,\n              type: newData.contentType,\n              filePath: filePath,\n              content: [],\n            };\n          }\n          return child;\n        });\n\n        return { ...tab, children: updatedChildren };\n      });\n\n      sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n      return updatedTabs;\n    });\n  };\n\n  // Function to update a tab's name\n  const updateTabName = (id: string, newName: string) => {\n    setTabs((prevTabs) => {\n      const updatedTabs = prevTabs.map((tab) =>\n        tab.id === id ? { ...tab, name: newName } : tab\n      );\n      sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n      return updatedTabs;\n    });\n  };\n\n  // Function to add terminal data to a child within a tab\n  const addTerminalData = (\n    tabId: string,\n    childId: string,\n    data: TerminalData\n  ) => {\n    setTabs((prevTabs) => {\n      const updatedTabs = prevTabs.map((tab) => {\n        if (tab.id !== tabId) {\n          return tab;\n        }\n\n        const updatedChildren = tab.children.map((child) => {\n          if (\n            child.id === childId &&\n            (child.contentType === \"terminal\" || child.contentType === \"ai\")\n          ) {\n            return {\n              ...child,\n              content: [...child.content, data],\n            };\n          }\n          return child;\n        });\n\n        return { ...tab, children: updatedChildren };\n      });\n      sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n      return updatedTabs;\n    });\n  };\n\n  // Function to add preview code to a child within a tab\n  const addPreviewCode = useCallback(\n    (tabId: string, childId: string, data: PreviewData[]) => {\n      setTabs((prevTabs) => {\n        const updatedTabs = prevTabs.map((tab) => {\n          if (tab.id !== tabId) return tab;\n\n          const updatedChildren = tab.children.map((child) => {\n            if (child.id === childId && child.contentType === \"preview\") {\n              const updatedPreview = Array.isArray(child.preview)\n                ? [...child.preview, ...data]\n                : [...data];\n\n              return {\n                ...child,\n                preview: updatedPreview,\n              };\n            }\n\n            return child;\n          });\n\n          return { ...tab, children: updatedChildren };\n        });\n        sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n        return updatedTabs;\n      });\n    },\n    []\n  );\n\n  // Function to clear terminal data from a child within a tab\n  const clearTerminalData = (tabId: string, childId: string) => {\n    setTabs((prevTabs) => {\n      const updatedTabs = prevTabs.map((tab) => {\n        if (tab.id !== tabId) return tab;\n\n        const updatedChildren = tab.children.map((child) => {\n          if (\n            child.id === childId &&\n            (child.contentType === \"terminal\" || child.contentType === \"ai\")\n          ) {\n            return {\n              ...child,\n              content: [],\n            };\n          }\n          return child;\n        });\n\n        return { ...tab, children: updatedChildren };\n      });\n      sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n      return updatedTabs;\n    });\n  };\n\n  // Function to split a child and add preview code within a tab\n  const splitChildAndAddPreview = useCallback(\n    (\n      tabId: string,\n      childId: string,\n      direction: \"horizontal\" | \"vertical\",\n      codeBlocks: PreviewData[]\n    ): string => {\n      let newChildId: string = \"\";\n\n      setTabs((prevTabs) => {\n        const updatedTabs = prevTabs.map((tab) => {\n          if (tab.id !== tabId) return tab;\n\n          const updateChildren = (children: ChildData[]): ChildData[] => {\n            return children.flatMap((child) => {\n              if (child.id === childId) {\n                const newSplitLevel =\n                  direction === \"horizontal\"\n                    ? child.splitLevel + 1\n                    : child.splitLevel;\n                const newDepth =\n                  direction === \"vertical\" ? child.depth + 1 : child.depth;\n\n                const newChild: ChildData = {\n                  id: `${tabId}-preview-${newSplitLevel}-${newDepth}`,\n                  type: \"preview\",\n                  content: [],\n                  preview: codeBlocks,\n                  splitLevel: newSplitLevel,\n                  contentType: \"preview\",\n                  depth: newDepth,\n                  direction: direction,\n                };\n                newChildId = newChild.id;\n\n                return [\n                  {\n                    ...child,\n                    splitLevel: newSplitLevel,\n                    depth: newDepth,\n                    direction,\n                  },\n                  newChild,\n                ];\n              }\n              return [child];\n            });\n          };\n\n          const updatedChildren = updateChildren(tab.children);\n          return { ...tab, children: updatedChildren };\n        });\n        sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n        return updatedTabs;\n      });\n\n      return newChildId;\n    },\n    []\n  );\n\n  const setSudoPasswordTab = (tabId: string, password: string) => {\n    setTabs((prevTabs) => {\n      const updatedTabs = prevTabs.map((tab) => {\n        if (tab.id !== tabId) {\n          return tab;\n        }\n\n        return {\n          ...tab,\n          isSudoPassword: true,\n          sudoPassword: password,\n        };\n      });\n      sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n      return updatedTabs;\n    });\n  };\n\n  // Function to check if a tab is a sudo password tab\n  const getIsSudoPassword = (tabId: string): boolean => {\n    const tab = tabs.find((tab) => tab.id === tabId);\n    return tab ? tab.isSudoPassword : false;\n  };\n\n  // Function to get the sudo password of a tab\n  const getSudoPassword = (tabId: string): string => {\n    const tab = tabs.find((tab) => tab.id === tabId);\n    return tab ? tab.sudoPassword : \"\";\n  };\n\n  // Function to update streaming content for a child within a tab\n  const updateStreamingContent = useCallback(\n    (tabId: string, childId: string, newContent: string) => {\n      setTabs((prevTabs) => {\n        const updatedTabs = prevTabs.map((tab) => {\n          if (tab.id !== tabId) return tab;\n\n          const updatedChildren = tab.children.map((child) => {\n            if (child.id === childId) {\n              const existingContent = child?.streamingContent || \"\";\n              const updatedContent = existingContent + newContent;\n              return {\n                ...child,\n                streamingContent: updatedContent,\n              };\n            }\n            return child;\n          });\n\n          return { ...tab, children: updatedChildren };\n        });\n\n        sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n        return updatedTabs;\n      });\n    },\n    []\n  );\n\n  // Function to clear streaming content from a child within a tab\n  const clearStreamingContent = useCallback(\n    (tabId: string, childId: string) => {\n      setTabs((prevTabs) => {\n        const updatedTabs = prevTabs.map((tab) => {\n          if (tab.id !== tabId) return tab;\n          const updatedChildren = tab.children.map((child) => {\n            if (\n              child.id === childId &&\n              (child.contentType === \"terminal\" || child.contentType === \"ai\")\n            ) {\n              return {\n                ...child,\n                streamingContent: undefined,\n              };\n            }\n            return child;\n          });\n          return { ...tab, children: updatedChildren };\n        });\n\n        sessionStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n\n        return updatedTabs;\n      });\n    },\n    []\n  );\n\n  return {\n    tabs,\n    activeTabId,\n    addTab,\n    removeTab,\n    handleTabChange,\n    splitChild,\n    closeChild,\n    updateChildData,\n    updateTabName,\n    addTerminalData,\n    addTabAndReturnId,\n    clearTerminalData,\n    addPreviewCode,\n    splitChildAndAddPreview,\n    setSudoPasswordTab,\n    getIsSudoPassword,\n    getSudoPassword,\n    updateStreamingContent,\n    clearStreamingContent,\n  };\n}\n","import React, { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { vscDarkPlus } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport { FiCopy, FiCheck } from \"react-icons/fi\";\nimport { FaTerminal } from \"react-icons/fa6\";\nimport { FaRegFileAlt } from \"react-icons/fa\";\n\n// Define the properties that the EnhancedMarkdown component can accept\ninterface EnhancedMarkdownProps {\n  markdownContent: string; // Markdown content to render\n  onCopyCommand: (command: string) => void; // Function to handle command copy\n  onExecuteCommand: (command: string) => void; // Function to handle command execution\n  onCopyCode: (code: string) => void; // Function to handle code copy\n  onCreateCode: (code: string) => void; // Function to handle code creation\n  isStreaming: boolean; // Flag to indicate if content is streaming\n}\n\nconst CustomH1: React.FC<{ children: React.ReactNode }> = ({\n  children,\n  ...props\n}) => (\n  <h1\n    className=\"custom-font-size font-bold mb-4 border-b-2 border-[--darkBlueColor] text-[--textColor] pb-2\"\n    {...props}\n  >\n    {children}\n  </h1>\n);\n\nconst CustomH2: React.FC<{ children: React.ReactNode }> = ({\n  children,\n  ...props\n}) => (\n  <h2 className=\" font-semibold mb-3 text-[--textColor] mt-6\" {...props}>\n    {children}\n  </h2>\n);\n\nconst CustomH3: React.FC<{ children: React.ReactNode }> = ({\n  children,\n  ...props\n}) => (\n  <h3 className=\" font-medium mb-2 text-[--textColor] mt-4\" {...props}>\n    {children}\n  </h3>\n);\n\nconst CustomParagraph: React.FC<{ children: React.ReactNode }> = ({\n  children,\n  ...props\n}) => (\n  <p className=\"mb-4 leading-relaxed text-[--textColor]\" {...props}>\n    {children}\n  </p>\n);\n\nconst CustomList: React.FC<{\n  children: React.ReactNode;\n  ordered?: boolean;\n}> = ({ children, ordered }) => {\n  const ListComponent = ordered ? \"ol\" : \"ul\";\n  return (\n    <ListComponent className=\"mb-4 pl-5 text-[--textColor]\">\n      {children}\n    </ListComponent>\n  );\n};\n\nconst CustomListItem: React.FC<{ children: React.ReactNode }> = ({\n  children,\n  ...props\n}) => (\n  <li className=\"mb-2 text-[--textColor]\" {...props}>\n    {children}\n  </li>\n);\n\nconst CustomBlockquote: React.FC<{ children: React.ReactNode }> = ({\n  children,\n  ...props\n}) => (\n  <blockquote\n    className=\"border-l-4 border-[--darkBlueColor] pl-4 italic my-4 text-[--darkGrayColor]\"\n    {...props}\n  >\n    {children}\n  </blockquote>\n);\n\n// const CustomLink: React.FC<{ href: string; children: React.ReactNode }> = ({\n//   href,\n//   children,\n//   ...props\n// }) => (\n//   <a\n//     href={href}\n//     className=\"text-[--darkBlueColor] hover:underline\"\n//     target=\"_blank\"\n//     rel=\"noopener noreferrer\"\n//     {...props}\n//   >\n//     {children}\n//   </a>\n// );\n\n\nconst CustomLink: React.FC<{ href: string; children: React.ReactNode }> = ({\n  href,\n  children,\n  ...props\n}) => {\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();  // Prevent the default behavior (i.e., navigating within the app)\n    \n    // Check if window.electron exists (in case you're running in a non-Electron environment)\n    if (window.electron && window.electron.openExternalLink) {\n      window.electron.openExternalLink(href)\n        .then(() => {\n          console.log(`Link opened in external browser: ${href}`);\n        })\n        .catch((error) => {\n          console.error('Failed to open external link:', error);\n        });\n    } else {\n      // Fallback if Electron API is not available, open link in the default browser\n      window.open(href, '_blank');\n    }\n  };\n\n  return (\n    <a\n      href={href}\n      className=\"text-[--darkBlueColor] hover:underline\"\n      onClick={handleClick}  // Handle the custom behavior on click\n      {...props}\n    >\n      {children}\n    </a>\n  );\n};\n\n\n\nconst CustomCode: React.FC<any> = ({\n  node,\n  inline,\n  className,\n  children,\n  onCopyCode,\n  onCreateCode,\n  isStreaming,\n}) => {\n  const match = /language-(\\w+)/.exec(className || \"\");\n  const [copied, setCopied] = useState(false);\n  const [created, setCreated] = useState(false);\n\n  const handleCopy = () => {\n    if (!isStreaming) return;\n    const codeToCopy = String(children).trim();\n    navigator.clipboard.writeText(codeToCopy).then(() => {\n      onCopyCode(codeToCopy);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    });\n  };\n\n  const handleCreate = () => {\n    if (!isStreaming) return;\n    const codeToCreate = String(children).trim();\n    onCreateCode(codeToCreate);\n    setCreated(true);\n    setTimeout(() => setCreated(false), 2000);\n  };\n\n  const buttonClass = isStreaming\n    ? \"text-[--darkBlueColor] hover:text-[--blueColor] cursor-pointer\"\n    : \"text-[--darkGrayColor] cursor-not-allowed\";\n\n  return !inline && match ? (\n    <div className=\"relative hide-scrollbar\">\n      <button\n        onClick={handleCopy}\n        className={`absolute top-0 right-10 m-2 ${buttonClass}`}\n        title=\"Copy Code\"\n        disabled={!isStreaming}\n      >\n        {copied ? <FiCheck size={20} /> : <FiCopy size={20} />}\n      </button>\n      {/* <button\n        onClick={handleCreate}\n        className={`absolute top-0 right-2 m-2 ${buttonClass}`}\n        title=\"Create Code\"\n        disabled={!isStreaming}\n      >\n        {created ? <FiCheck size={20} /> : <FaRegFileAlt size={20} />}\n      </button> */}\n      <SyntaxHighlighter\n        style={vscDarkPlus}\n        language={match[1]}\n        PreTag=\"div\"\n        className=\"rounded-md hide-scrollbar\"\n      >\n        {String(children).replace(/\\n$/, \"\")}\n      </SyntaxHighlighter>\n    </div>\n  ) : (\n    <code className=\"bg-[--selectionBackgroundColor] text-[--greenColor] px-1 rounded\">\n      {children}\n    </code>\n  );\n};\n\nconst CustomCommand: React.FC<any> = ({\n  children,\n  className,\n  onCopyCommand,\n  onExecuteCommand,\n  isStreaming,\n}) => {\n  const [copied, setCopied] = useState(false);\n  const [executed, setExecuted] = useState(false);\n\n  const handleCopy = () => {\n    if (!isStreaming) return;\n    const commandToCopy = String(children).trim();\n    navigator.clipboard.writeText(commandToCopy).then(() => {\n      onCopyCommand(commandToCopy);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    });\n  };\n\n  const handleExecute = () => {\n    if (!isStreaming) return;\n    const commandToExecute = String(children).trim();\n    onExecuteCommand(commandToExecute);\n    setExecuted(true);\n    setTimeout(() => setExecuted(false), 2000);\n  };\n\n  const buttonClass = isStreaming\n    ? \"text-[--darkBlueColor] hover:text-[--blueColor] cursor-pointer\"\n    : \"text-[--darkGrayColor] cursor-not-allowed\";\n\n  return (\n    <div className=\"relative mb-4 hide-scrollbar\">\n      <button\n        onClick={handleCopy}\n        className={`absolute top-0 right-10 m-2 ${buttonClass}`}\n        title=\"Copy Command\"\n        disabled={!isStreaming}\n      >\n        {copied ? <FiCheck size={20} /> : <FiCopy size={20} />}\n      </button>\n      <button\n        onClick={handleExecute}\n        className={`absolute top-0 right-2 m-2 ${buttonClass}`}\n        title=\"Execute Command\"\n        disabled={!isStreaming}\n      >\n        {executed ? <FiCheck size={20} /> : <FaTerminal size={20} />}\n      </button>\n      <SyntaxHighlighter\n        style={vscDarkPlus}\n        language=\"bash\"\n        PreTag=\"div\"\n        className=\"rounded-md hide-scrollbar\"\n      >\n        {String(children).trim()}\n      </SyntaxHighlighter>\n    </div>\n  );\n};\n\n// EnhancedMarkdown component definition\nconst EnhancedMarkdown: React.FC<EnhancedMarkdownProps> = ({\n  markdownContent,\n  onCopyCommand,\n  onExecuteCommand,\n  onCopyCode,\n  onCreateCode,\n  isStreaming,\n}) => {\n  return (\n    <div className=\"w-full mx-auto p-2 shadow-lg rounded-lg overflow-x-auto hide-scrollbar\">\n      <ReactMarkdown\n        components={{\n          // Custom components for rendering markdown headers and paragraphs\n          h1: CustomH1,\n          h2: CustomH2,\n          h3: CustomH3,\n          p: CustomParagraph,\n          ul: ({ children }) => (\n            <CustomList ordered={false}>{children}</CustomList>\n          ),\n          ol: ({ children }) => (\n            <CustomList ordered={true}>{children}</CustomList>\n          ),\n          li: CustomListItem,\n          blockquote: CustomBlockquote,\n          a: CustomLink,\n          // Custom component for rendering code blocks\n          code: (props) => {\n            // Check for both language-bash and language-sh\n            if (\n              props.className?.includes(\"language-bash\") ||\n              props.className?.includes(\"language-sh\")\n            ) {\n              return (\n                <CustomCommand\n                  {...props}\n                  onCopyCommand={onCopyCommand}\n                  onExecuteCommand={onExecuteCommand}\n                  isStreaming={isStreaming}\n                />\n              );\n            } else {\n              return (\n                <CustomCode\n                  {...props}\n                  onCopyCode={onCopyCode}\n                  onCreateCode={onCreateCode}\n                  isStreaming={isStreaming}\n                />\n              );\n            }\n          },\n        }}\n      >\n        {markdownContent}\n      </ReactMarkdown>\n    </div>\n  );\n};\n\nexport default EnhancedMarkdown;\n","// utils/detectOS.ts\nexport const detectOS = (): string => {\n    const platform = navigator.platform.toLowerCase();\n    const userAgent = navigator.userAgent.toLowerCase();\n  \n    if (platform.includes(\"win\")) {\n      return \"Windows\";\n    }\n    if (platform.includes(\"mac\")) {\n      return \"MacOS\";\n    }\n    if (platform.includes(\"linux\")) {\n      return \"Linux\";\n    }\n    if (userAgent.includes(\"android\")) {\n      return \"Android\";\n    }\n    if (userAgent.includes(\"iphone\") || userAgent.includes(\"ipad\")) {\n      return \"iOS\";\n    }\n  \n    return \"Unknown\";\n  };\n  ","// interface CodeBlock {\n//     language: string;\n//     code: string;\n// }\n\n// const extractCodeBlocks = (nplResponse: string): CodeBlock[] => {\n//     // const regex = /```(?:(html|css|js|javascript|jsx|json)?\\s*)\\n([\\s\\S]*?)(?:```|$)/g;\n//     const regex = /```(\\s*(html|css|js|javascript|jsx|json)?\\s*)?\\n([\\s\\S]*?)(?:```|$)/g;\n\n//     const matches = [...nplResponse.matchAll(regex)];\n\n//     return matches\n//         .map(match => ({\n//             language: match[1] || 'plaintext',\n//             code: match[2].trim(),\n//         }))\n//         .filter(block => !['bash', 'sh', 'plaintext'].includes(block.language)); // Exclude specified languages\n// };\n\n// export default extractCodeBlocks;\n\n\n\ninterface CodeBlock {\n    language: string;\n    code: string;\n}\n\nconst extractCodeBlocks = (nplResponse: string): CodeBlock[] => {\n    // Updated regex to be more flexible with language specification\n    const regex = /```([\\s\\S]*?)```/g;\n    const languageRegex = /^([\\w.-]+)?\\s*$/;\n\n    const matches = nplResponse.match(regex);\n\n    if (!matches) {\n        console.warn(\"No code blocks found in the response\");\n        return [];\n    }\n\n    return matches\n        .map(block => {\n            const lines = block.split('\\n');\n            const firstLine = lines[0].replace('```', '').trim();\n            const language = firstLine.match(languageRegex)?.[1]?.toLowerCase() || 'plaintext';\n            const code = lines.slice(1, -1).join('\\n').trim();\n\n            // Handle JSX and React\n            const jsxLanguages = ['jsx', 'react', 'tsx'];\n            if (jsxLanguages.includes(language) || (language === 'javascript' && code.includes('React'))) {\n                return { language: 'react', code };\n            }\n\n            // Handle CSS modules\n            if (language === 'module.css' || language.endsWith('.module.css')) {\n                return { language: 'css', code };\n            }\n\n            return { language, code };\n        })\n        .filter(block => block.code.trim() !== '' && !['bash', 'sh', 'plaintext'].includes(block.language));\n};\n\nexport default extractCodeBlocks;\n","// fileSystemUtils.ts\n\nexport type FileSystemItem = {\n    mode: string;\n    name: string;\n    isDirectory: boolean;\n    lastWriteTime: string;\n    length: string;\n  };\n  \n  export const parseDirectoryListing = (\n    output: string,\n    platform: string\n  ): FileSystemItem[] => {\n    let fileSystemItems: FileSystemItem[] = [];\n  \n    switch (platform.toLowerCase()) {\n      case \"windows\":\n        fileSystemItems = parseWindowsDirectoryListing(output);\n        break;\n  \n      case \"linux\":\n      case \"macos\":\n        fileSystemItems = parseUnixDirectoryListing(output);\n        break;\n  \n      default:\n        throw new Error(\"Unsupported platform\");\n    }\n  \n    return fileSystemItems;\n  };\n  \n  const parseWindowsDirectoryListing = (output: string): FileSystemItem[] => {\n    const lines = output.trim().split(\"\\n\");\n  \n    if (lines.length < 3) {\n      return [];\n    }\n  \n    const dataLines = lines.slice(3); // Skip header lines\n  \n    return dataLines.map((line) => {\n      const parts = line.split(/\\s+/);\n      const mode = parts[0];\n      const date = parts[1];\n      const time = parts[2];\n      const length = /^\\d+$/.test(parts[3]) ? parts[3] : \"\";\n      const nameParts = length ? parts.slice(4) : parts.slice(3);\n      const isDirectory = mode.startsWith(\"d\") || parts.includes(\"<DIR>\");\n  \n      return {\n        mode,\n        name: nameParts.join(\" \"),\n        isDirectory,\n        lastWriteTime: `${date} ${time}`,\n        length,\n      };\n    });\n  };\n  \n  const parseUnixDirectoryListing = (output: string): FileSystemItem[] => {\n    const lines = output.trim().split(\"\\n\");\n  \n    if (lines.length === 0) {\n      return [];\n    }\n  \n    const dataLines = lines.filter((line) => line && !line.startsWith(\"total\"));\n  \n    return dataLines.map((line) => {\n      const parts = line.split(/\\s+/);\n      const mode = parts[0];\n      const lastWriteTime = `${parts[5]} ${parts[6]} ${parts[7]}`;\n      const length = parts[4];\n      const name = parts.slice(8).join(\" \");\n      const isDirectory = mode.startsWith(\"d\");\n  \n      return {\n        mode,\n        name,\n        isDirectory,\n        lastWriteTime,\n        length,\n      };\n    });\n  };\n  \n  ","import { ImSpinner2 } from 'react-icons/im';\n\nconst CircularLoader = () => (\n  <ImSpinner2 className=\"animate-spin text-[--promptColorGradientEnd] ml-1 mb-1\" />\n);\n\nexport default CircularLoader;\n\n","\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Socket } from 'socket.io-client';\nimport { Terminal } from 'xterm';\nimport { FitAddon } from 'xterm-addon-fit';\n\ninterface HtopTerminalProps {\n  socket: Socket;\n  isConnected: boolean;\n  setHtopSession: (value: boolean) => void; // Function to update htopSession in the parent component\n}\n\nconst HtopTerminal: React.FC<HtopTerminalProps> = React.memo(({ socket, isConnected, setHtopSession }) => {\n  const terminalRef = useRef<HTMLDivElement | null>(null); // Reference to the terminal container\n  const [isMounted, setIsMounted] = useState(false);  // Track if the terminal has been mounted\n  const [term, setTerm] = useState<Terminal | null>(null); // Store the Terminal instance\n\n  useEffect(() => {\n    setIsMounted(true);\n    return () => {\n      setIsMounted(false);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!isMounted || !terminalRef.current) {\n      return;  // Exit early if the terminal is not yet mounted\n    }\n\n\n    const newTerm = new Terminal();\n    const fitAddon = new FitAddon();\n    newTerm.loadAddon(fitAddon);\n\n    newTerm.open(terminalRef.current);\n    fitAddon.fit(); // Ensure terminal fits into the container when it's ready\n    setTerm(newTerm);\n\n\n    // Listen for window resizing to update terminal size dynamically\n    const updateTerminalSize = () => {\n      const { width, height } = terminalRef.current?.getBoundingClientRect() || { width: 0, height: 0 };\n      const newRows = Math.floor(height / 20); // Approximate row height\n      const newCols = Math.floor(width / 10);  // Approximate column width\n      socket.emit(\"resize_terminal\", { rows: newRows, cols: newCols });\n    };\n\n    // Initial size calculation\n    updateTerminalSize();\n\n    // Update terminal size on window resize\n    window.addEventListener('resize', updateTerminalSize);\n\n    // Socket listener for htop output\n    socket.on(\"htop_output\", (data: { data: string }) => {\n      newTerm.write(data.data);\n    });\n\n    newTerm.onData((data: string) => {\n      socket.emit(\"htop_input\", data);\n    });\n\n    // Listen for resize events from the backend and resize the terminal\n    socket.on('resize_terminal', (data: { rows: number, cols: number }) => {\n      if (newTerm) {\n        newTerm.resize(data.cols, data.rows);\n      }\n    });\n\n    // Add listener for F10 key press to terminate the session\n    newTerm.onKey((event) => {\n    \n    //   // Check if the key is F10 (escape sequence: \\u001b[21~)\n      if (event.key === '\\x1b[21~') {\n        \n    //     // Notify the parent component to stop rendering the terminal\n        setHtopSession(false);  \n        \n    //     // Emit the terminate signal to the backend\n    //     socket.emit(\"terminate_htop_session\");  \n      }\n    });\n    \n    \n    \n\n    // Cleanup function to remove event listeners and dispose of the terminal\n    return () => {\n      socket.off(\"htop_output\");\n      socket.off(\"resize_terminal\");\n      newTerm.dispose();\n      window.removeEventListener('resize', updateTerminalSize);\n    };\n  }, [socket, isMounted, setHtopSession]);\n\n  return (\n    <div\n      ref={terminalRef}\n      style={{\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden',\n      }}\n    ></div>\n  );\n})\n\nexport default HtopTerminal;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from \"react\";\nimport { Socket } from \"socket.io-client\";\nimport {\n  FiAlertTriangle,\n  FiCheckCircle,\n  FiMessageCircle,\n  FiCopy,\n  FiCheck,\n  FiFolder,\n  FiLoader,\n} from \"react-icons/fi\";\nimport EnhancedMarkdown from \"../../common/enhancedMarkdown\";\nimport { detectOS } from \"../../utils/detectOS\";\nimport extractCodeBlocks from \"../../utils/extractedCode\";\n\nimport Convert from \"ansi-to-html\";\nimport {\n  CodeBlock,\n  Directory,\n  FileSystemItem,\n  Message,\n  TerminalProps,\n} from \"../../types/terminalTypes\";\nimport { useTabs } from \"../../hooks/useTab\";\nimport { parseDirectoryListing } from \"../../utils/fileSystem\";\nimport CircularLoader from \"../../utils/circularLoader\";\nimport HtopTerminal from \"../HtopTerminal\";\nimport { shortcutContext } from \"../../context/shortCutContext\";\n\n// Creating an instance of the Convert class\nconst convert = new Convert();\n\ninterface ElectronAPI {\n  openFile: () => Promise<string[]>;\n  readFile: (filePath: string) => Promise<string>;\n  saveFile: (filePath: string, content: string) => Promise<void>;\n  createFile: (\n    fileName: string,\n    content: string,\n    currentDir: string\n  ) => Promise<string>;\n  openExternalLink: (url: string) => Promise<string>;\n}\n\n// Declare the global window object to include the ElectronAPI\ndeclare global {\n  interface Window {\n    electron: ElectronAPI;\n  }\n}\n\n// Define a debounce delay constant\nconst DEBOUNCE_DELAY = 300;\n\n// Define the Terminal component\nexport const Terminal: React.FC<TerminalProps> = ({\n  socket,\n  isConnected,\n  terminalId,\n  tabId,\n  content,\n  addTerminalData,\n  onFileSelect,\n  handleCreateFile,\n  clearTerminalData,\n  onShowPreview,\n}) => {\n  // Destructure the useTabs hook to get and set the sudo password\n  const { setSudoPasswordTab, getIsSudoPassword, getSudoPassword } = useTabs();\n\n  const {registerListener, removeListener} = useContext(shortcutContext)\n\n  // Define references for various DOM elements\n  const inputRef = useRef<HTMLInputElement>(null);\n  const historyRef = useRef<HTMLDivElement>(null);\n  const messagesContainerRef = useRef<HTMLDivElement>(null);\n\n  // Define state variables for managing terminal state\n  const [terminalHistory, setTerminalHistory] = useState<string[]>([]);\n  const [input, setInputValue] = useState<string>(\"\");\n  const [showHistory, setShowHistory] = useState<boolean>(false);\n  const [historyIndex, setHistoryIndex] = useState<number>(-1);\n  const [suggestion, setSuggestion] = useState<string>(\"\");\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [copiedCommands, setCopiedCommands] = useState<{\n    [key: string]: boolean;\n  }>({});\n  const [promptLabel, setPromptLabel] = useState<string>(\"starting bash \");\n  const debounceRef = useRef<NodeJS.Timeout | null>(null);\n\n  const [isCreatingFile, setIsCreatingFile] = useState<boolean>(false);\n  const [fileCode, setFileCode] = useState<string>(\"\");\n  const [streamingContent, setStreamingContent] = useState<string>(\"\");\n  const [isStreaming, setIsStreaming] = useState<boolean>(false);\n  const [isInteractiveMode, setIsInteractiveMode] = useState<boolean>(false);\n  const [interactiveOutput, setInteractiveOutput] = useState<string>(\"\");\n\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isAiThinking, setIsAiThinking] = useState<boolean>(false);\n\n  const [isPasswordPromptOpen, setIsPasswordPromptOpen] =\n    useState<boolean>(false);\n  const [sudoPassword, setSudoPassword] = useState<string>(\"\");\n  const [previousCmd, setPreviousCmd] = useState<string>(\"\");\n  const [prompt, setPrompt] = useState<boolean>(false);\n\n  const [isSudoCommandExecuting, setIsSudoCommandExecuting] =\n    useState<boolean>(false);\n  const [aiInputValue, setAiInputValue] = useState<string>(\"\");\n\n  const outputRef = useRef<HTMLPreElement>(null);\n  const [selectedContext, setSelectedContext] = useState<Message[]>([]);\n\n  const [showDirectoryList, setShowDirectoryList] = useState<boolean>(true);\n  const [directories, setDirectories] = useState<Directory[]>([]);\n  const [selectedIndex, setSelectedIndex] = useState<number>(0);\n  const [isConfirmationPromptOpen, setIsConfirmationPromptOpen] = useState<boolean>(false);\n  const [htopSession, setHtopSession] = useState<boolean>(false);\n  const listRef = useRef<HTMLDivElement>(null);\n\n  // Detect the operating system\n  const platform = detectOS();\n  let filePromptLabel = \"Enter filename:\";\n\n  const loadingTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const clearOutputTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Scroll to the bottom of the output when interactiveOutput changes\n  useEffect(() => {\n    if (outputRef.current) {\n      outputRef.current.scrollTop = outputRef.current.scrollHeight;\n    }\n  }, [interactiveOutput]);\n\n  // Ensure selected item is visible in the list when selectedIndex changes\n  useEffect(() => {\n    if (listRef.current) {\n      const selectedElement = listRef.current.children[selectedIndex];\n      if (selectedElement) {\n        selectedElement.scrollIntoView({\n          block: \"nearest\",\n        });\n      }\n    }\n  }, [selectedIndex]);\n\n  // Handle the F10 key click to end interactive mode\n  const handleF10Click = () => {\n    if (isInteractiveMode) {\n      socket.emit(\"interactive_end_f10\", { terminal_id: terminalId });\n      setIsInteractiveMode(false);\n      setInteractiveOutput(\"\");\n    }\n  };\n\n  // Request the current directory when the tabId changes\n  useEffect(() => {\n    if (!Socket || !isConnected) return;\n    socket.emit(\"getCurrentDirectory\", { terminal_id: terminalId });\n  }, [tabId, socket, isConnected]);\n\n  // Add event listener for Ctrl+I keypress to toggle agenting mode\n  useEffect(() => {\n    const keys = new Set([\"control\", \"i\"]); // Define the shortcut (Ctrl + i)\n\n    // Define the action for this shortcut\n    const handleToggleMode = () => {\n      toggleMode(); // Call the toggleMode function\n    };\n\n    // Register the shortcut with registerListener\n    registerListener(keys, handleToggleMode);\n\n    // Cleanup: Remove the listener when the component unmounts\n    return () => {\n      removeListener(keys);\n    };\n  }, [registerListener, removeListener]);\n\n  // Toggle the prompt mode\n  const toggleMode = () => {\n    setPrompt((prevPrompt) => !prevPrompt);\n  };\n\n  const handleShowCodePreview = async (codeBlocks: CodeBlock[]) => {\n    onShowPreview(codeBlocks);\n  };\n\n  // Add event listener for Ctrl+Shift+Alt keypress to focus input\n  useEffect(() => {\n    // Define the keys for the shortcut (Ctrl + Shift + Alt)\n    const keys = new Set([\"control\", \"shift\", \"alt\"]);\n\n    // Define the action for this shortcut\n    const handleFocusInput = () => {\n      inputRef.current?.focus(); // Focus the input element\n    };\n\n    // Register the listener with registerListener\n    registerListener(keys, handleFocusInput);\n\n    // Cleanup: Remove the listener when the component unmounts\n    return () => {\n      removeListener(keys);\n    };\n  }, [registerListener, removeListener]);\n\n  // Clear suggestion when input changes\n  useEffect(() => {\n    if (input.length === 0) {\n      setSuggestion(\"\");\n    }\n  }, [input, suggestion]);\n\n  // Add a message to the terminal\n  const addMessage = useCallback(\n    (\n      text: React.ReactNode,\n      type: \"error\" | \"success\" | \"nlp\",\n      current_cmd: string,\n      commands?: string[],\n      fileSystem?: FileSystemItem[],\n      isStreaming: boolean = false\n    ) => {\n      const timestamp = new Date().toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n      });\n\n      const newMessage: Message = {\n        id: Date.now(),\n        text,\n        type,\n        timestamp,\n        current_cmd,\n        commands,\n        fileSystem,\n        isStreaming,\n      };\n\n      setMessages((prevMessages) => [newMessage, ...prevMessages]);\n\n      const newTerminalData: TerminalData = {\n        inputCmd: current_cmd,\n        output: String(text),\n        status: type,\n        timestamp,\n      };\n\n      addTerminalData(tabId, terminalId, newTerminalData);\n    },\n    [tabId, terminalId, addTerminalData]\n  );\n\n  const fetchTerminalHistory = useCallback(async () => {\n    if (!socket) return;\n    socket.emit(\"get_history\");\n    socket.once(\"history\", (data) => {\n      if (data.error) {\n        console.error(\"Error fetching terminal history:\", data.error);\n        return;\n      }\n      const { history_cmd } = data;\n      setTerminalHistory(history_cmd);\n    });\n  }, [socket]);\n\n  // Copy a command to the clipboard\n  const copyCommand = useCallback((command: string) => {\n    navigator.clipboard.writeText(command).then(() => {\n      setInputValue(command);\n      inputRef.current?.focus();\n      setCopiedCommands((prev) => ({ ...prev, [command]: true }));\n      setTimeout(() => {\n        setCopiedCommands((prev) => ({ ...prev, [command]: false }));\n      }, 2000);\n    });\n  }, []);\n\n  // Execute a command in the terminal\n  const executeCommand = useCallback(\n    (command: string) => {\n      setStreamingContent(\"\");\n      setInputValue(\"\");\n      if (!socket) return;\n\n      const contextContent = selectedContext.map((msg) => ({\n        role: msg.type === \"nlp\" ? \"assistant\" : \"user\",\n        content: msg.current_cmd + \"\\n\" + msg.text,\n      }));\n\n      const isContext = selectedContext.length > 0;\n\n      const lastMessages = messages.slice(5).map((msg) => ({\n        role: msg.type === \"nlp\" ? \"assistant\" : \"user\",\n        command: msg.current_cmd,\n        content: msg.text,\n      }));\n\n      const isSudoPassword = getIsSudoPassword(tabId);\n      const sessionToken = localStorage.getItem('session_token')\n      socket.emit(\"exec\", {\n        terminal_id: terminalId,\n        input: command,\n        sudoPassword: isSudoPassword\n          ? getSudoPassword(tabId)\n          : sudoPassword,\n        prompt: prompt,\n        isContext: isContext,\n        isTerminal: true,\n        lastTerminalMessages: lastMessages,\n        context: isContext ? contextContent : undefined,\n        user_session: sessionToken\n      });\n\n      setTerminalHistory((prev) => [...prev, command]);\n    },\n    [socket, terminalId, selectedContext]\n  );\n\n  // Handle file system item click\n  const handleFileSystemItemClick = useCallback(\n    (item: FileSystemItem) => {\n      if (item.isDirectory) {\n        const command = `cd ${item.name}`;\n        // Execute commands if it's a directory\n        setInputValue(command);\n        if (socket && isConnected) {\n          socket.emit(\"exec\", { terminal_id: terminalId, input: command, isTerminal: true });\n          socket.emit(\"getCurrentDirectory\", { terminal_id: terminalId });\n          setInputValue(\"\");\n        }\n        inputRef.current?.focus();\n      } else {\n        let filePath;\n\n        switch (platform.toLowerCase()) {\n          case \"windows\":\n            filePath = `${promptLabel}\\\\${item.name}`;\n            break;\n\n          case \"linux\":\n          case \"macos\":\n            filePath = `${promptLabel}/${item.name}`;\n            break;\n\n          default:\n            throw new Error(\"Unsupported platform\");\n        }\n        onFileSelect(filePath);\n      }\n    },\n    [socket, isConnected, terminalId, promptLabel, onFileSelect]\n  );\n\n  // Focus input on component mount\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, [terminalId]);\n\n  // Handle interactive mode events\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const handleInteractiveStart = (data: {\n      terminal_id: string;\n      command: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        setIsInteractiveMode(true);\n        setInteractiveOutput(\"\");\n      }\n    };\n\n    const handleInteractiveOutput = (data: {\n      terminal_id: string;\n      output: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        setIsLoading(false);\n        const finalOutput = convert.toHtml(data.output);\n        setInteractiveOutput((prev) => prev + finalOutput);\n      }\n    };\n\n    const handleInteractiveEnd = (data: { terminal_id: string }) => {\n      if (data.terminal_id === terminalId) {\n        setIsInteractiveMode(false);\n        setInteractiveOutput(\"\");\n        socket.emit(\"interactive_end_f10\", { terminal_id: terminalId });\n      }\n    };\n\n    socket.on(\"interactive_start\", handleInteractiveStart);\n    socket.on(\"interactive_output\", handleInteractiveOutput);\n    socket.on(\"interactive_end\", handleInteractiveEnd);\n\n    return () => {\n      socket.off(\"interactive_start\", handleInteractiveStart);\n      socket.off(\"interactive_output\", handleInteractiveOutput);\n      socket.off(\"interactive_end\", handleInteractiveEnd);\n    };\n  }, [socket, isConnected, terminalId, addMessage, interactiveOutput]);\n\n  const handleInteractiveInput = useCallback(\n    (input: string) => {\n      if (socket && isConnected) {\n        socket.emit(\"interactive_input\", { terminal_id: terminalId, input });\n        if (input === \":wq\") {\n          setIsInteractiveMode(false);\n          setInteractiveOutput(\"\");\n        }\n      }\n    },\n    [socket, isConnected, terminalId]\n  );\n\n  /**\n   * useEffect hook to automatically scroll the history container to the bottom\n   * whenever the terminal history or showHistory state changes.\n   *\n   * Dependencies: [terminalHistory, showHistory]\n   */\n  useEffect(() => {\n    if (historyRef.current && showHistory) {\n      historyRef.current.scrollTop = historyRef.current.scrollHeight;\n    }\n  }, [terminalHistory, showHistory]);\n\n  /**\n   * useEffect hook to automatically scroll the messages container to the top\n   * whenever the messages state changes.\n   *\n   * Dependencies: [messages]\n   */\n  useEffect(() => {\n    if (messagesContainerRef.current) {\n      messagesContainerRef.current.scrollTop = 0;\n    }\n  }, [messages]);\n\n  /**\n   * Function to simulate a key press event for the \"Ctrl + ,\" key combination.\n   * This creates a new KeyboardEvent and dispatches it to the document.\n   */\n  function simulateKeyPress() {\n    const ctrlKey = new KeyboardEvent(\"keydown\", {\n      key: \",\",\n      code: \"Comma\",\n      ctrlKey: true,\n      bubbles: true,\n      cancelable: true,\n    });\n\n    document.dispatchEvent(ctrlKey);\n  }\n\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n    const handleSuccessSudoPassword = (data: {\n      terminal_id: string;\n      password: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        if (!getIsSudoPassword(tabId)) {\n          setSudoPasswordTab(tabId, data.password);\n        }\n      }\n    };\n    socket.on(\"success_sudo_password\", handleSuccessSudoPassword);\n    return () => {\n      socket.off(\"success_sudo_password\", handleSuccessSudoPassword);\n    };\n  }, [\n    tabId,\n    terminalId,\n    getIsSudoPassword,\n    setSudoPasswordTab,\n    socket,\n    isConnected,\n  ]);\n\n  // Handle socket events for current directory and create session\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const storedTabs = JSON.parse(\n      localStorage.getItem(\"tabs\") || \"[]\"\n    ) as TabData[];\n    const currentTab = storedTabs.find((tab) => tab.id === tabId);\n\n    if (currentTab) {\n      const terminalChild = currentTab.children.find(\n        (child) => child.id === terminalId\n      );\n      if (terminalChild) {\n        if (!terminalChild.curr_dir) {\n          socket.emit(\"getCurrentDirectory\", { terminal_id: terminalId });\n        } else {\n          setPromptLabel(terminalChild.curr_dir);\n        }\n      }\n    }\n\n    const handleCurrentDirectory = (data: {\n      directory: string;\n      terminal_id: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        if (currentTab) {\n          const updatedChildren = currentTab.children.map((child) => {\n            if (child.id === terminalId) {\n              return { ...child, curr_dir: data.directory };\n            }\n            return child;\n          });\n          const updatedTab = { ...currentTab, children: updatedChildren };\n          const updatedTabs = storedTabs.map((tab) =>\n            tab.id === tabId ? updatedTab : tab\n          );\n          localStorage.setItem(\"tabs\", JSON.stringify(updatedTabs));\n        }\n\n        setPromptLabel(data.directory);\n      }\n    };\n\n    const handle_signUp_model = (data) => {\n      if (data.terminal_id === terminalId) {\n        simulateKeyPress();\n        if (loadingTimeoutRef.current) {\n          clearTimeout(loadingTimeoutRef.current);\n        }\n        setIsLoading(false);\n        setIsAiThinking(false);\n      }\n    };\n\n    const handleSessionStarted = () => {\n      socket.emit(\"getCurrentDirectory\", { terminal_id: terminalId });\n    };\n\n    socket.on(\"currentDirectory\", handleCurrentDirectory);\n    socket.on(\"session_started\", handleSessionStarted);\n\n    socket.on(\"require_signup_and_model_selection\", handle_signUp_model);\n\n    socket.emit(\"create_session\", { terminal_id: terminalId });\n\n    return () => {\n      socket.off(\"currentDirectory\", handleCurrentDirectory);\n      socket.off(\"session_started\", handleSessionStarted);\n    };\n    // }, [socket, terminalId, tabId, isConnected]);\n  }, [socket, isConnected]);\n\n  useEffect(() => {\n    fetchTerminalHistory();\n  }, [fetchTerminalHistory]);\n\n  /**\n   * useEffect hook to update the messages state whenever the content changes.\n   * This hook maps over the content array and transforms each item into a message object\n   * with properties such as id, text, type, timestamp, current_cmd, fileSystem, and isStreaming.\n   * If the input command starts with \"dir\" or \"ls\", it parses the output to generate a file system structure.\n   *\n   * Dependencies: [content]\n   */\n  useEffect(() => {\n    setMessages(\n      content.map((item, index) => ({\n        id: index,\n        text: item.output,\n        type: item.status,\n        timestamp: item.timestamp,\n        current_cmd: item.inputCmd,\n        fileSystem:\n          item.inputCmd.startsWith(\"dir\") || \n          // item.inputCmd.startsWith(\"ls\")\n          item.inputCmd === \"ls\" || item.inputCmd === \"ls -l\"\n            ? parseDirectoryListing(item.output, platform)\n            : undefined,\n        isStreaming: false,\n      }))\n    );\n  }, [content]);\n\n  // Handle input change Handler\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const value = e.target.value;\n      setInputValue(value);\n      setHistoryIndex(-1);\n      setShowHistory(false);\n      if (value.length === 0) {\n        setSuggestion(\"\");\n      }\n\n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n\n      debounceRef.current = setTimeout(() => {\n        socket?.emit(\"input\", { input: value, terminal_id: terminalId });\n      }, DEBOUNCE_DELAY);\n    },\n    [socket, terminalId]\n  );\n  const scrollToCurrentHistory = useCallback(() => {\n    if (historyRef.current && historyIndex !== -1) {\n      const currentItem = historyRef.current.children[\n        terminalHistory.length - 1 - historyIndex\n      ] as HTMLElement;\n      if (currentItem) {\n        historyRef.current.scrollTop =\n          currentItem.offsetTop -\n          historyRef.current.clientHeight / 2 +\n          currentItem.clientHeight / 2;\n      }\n    }\n  }, [historyIndex, terminalHistory.length]);\n\n  // Handle creation of new code\n  const onCreateCode = (code: string) => {\n    setFileCode(code);\n    setIsCreatingFile(true);\n    setInputValue(\"\");\n    inputRef.current?.focus();\n  };\n\n  const handleTabCompletion = useCallback(() => {\n    if (input.startsWith(\"cd \") && !showDirectoryList) {\n      setShowDirectoryList(true);\n      // fetchDirectories();\n    }\n  }, [input, showDirectoryList]);\n\n\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n    socket.on('request_password', (data: { message: string; terminal_id: string }) => {\n      if (data.terminal_id == terminalId) {\n        setIsPasswordPromptOpen(true);\n        setIsSudoCommandExecuting(false);\n        if (loadingTimeoutRef.current) {\n          clearTimeout(loadingTimeoutRef.current); // Clear the loading timeout\n        }\n      }\n    });\n\n    socket.on('request_confirmation', (data: { message: string; terminal_id: string }) => {\n      if (data.terminal_id == terminalId) {\n        setIsConfirmationPromptOpen(true);\n        setIsSudoCommandExecuting(false);\n        if (loadingTimeoutRef.current) {\n          clearTimeout(loadingTimeoutRef.current); // Clear the loading timeout\n        }\n      }\n    });\n\n    return () => {\n      socket.off('request_password');\n      socket.off('request_confirmation');\n    };\n  }, [socket, isConnected]);\n\n\n\n  // Handle key down events for input\n  const handleInputKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      if (e.key === \"Tab\") {\n        e.preventDefault();\n        handleTabCompletion();\n        return;\n      }\n\n      if (e.key === \"Escape\") {\n        e.preventDefault();\n        setShowDirectoryList(false);\n        setShowHistory(false);\n        return;\n      }\n\n      // if (showDirectoryList) {\n      //   switch (e.key) {\n      //     case \"Escape\":\n      //       setShowDirectoryList(false);\n      //       break;\n      //     case \"ArrowUp\":\n      //       e.preventDefault();\n      //       setSelectedIndex(prev => (prev > 0 ? prev - 1 : directories.length - 1));\n      //       return;\n      //     case \"ArrowDown\":\n      //       e.preventDefault();\n      //       setSelectedIndex(prev => (prev < directories.length - 1 ? prev + 1 : 0));\n      //       return;\n      //     case \"Enter\":\n      //       if (directories[selectedIndex]) {\n      //         setInputValue(`cd ${directories[selectedIndex].name}`);\n      //         setShowDirectoryList(false);\n      //       }\n      //       return;\n      //   }\n      // }\n\n      if (isCreatingFile && socket) {\n        if (e.key === \"Enter\") {\n          e.preventDefault();\n          const fileName = input.trim();\n          if (fileName) {\n            handleCreateFile(fileCode, fileName, promptLabel);\n            setInputValue(\"\");\n            setIsCreatingFile(false);\n            socket.emit(\"getCurrentDirectory\", { terminal_id: terminalId });\n          }\n        }\n        return;\n      }\n      switch (e.key) {\n        case \"Enter\":\n          if (socket && isConnected && input.trim()) {\n            const commandToExecute = input.trim();\n            const finalCommand = commandToExecute;\n\n            const contextContent = selectedContext.map((msg) => ({\n              role: msg.type === \"nlp\" ? \"assistant\" : \"user\",\n              command: msg.current_cmd,\n              content: msg.text,\n            }));\n\n            const lastMessages = messages.slice(-5).map((msg) => ({\n              role: msg.type === \"nlp\" ? \"assistant\" : \"user\",\n              command: msg.current_cmd,\n              content: msg.text,\n            }));\n\n            const isSudoPassword = getIsSudoPassword(tabId);\n\n            const isContext = selectedContext.length > 0;\n            const sessionToken = localStorage.getItem('session_token');\n            if (\n              finalCommand === \"clear\" && !prompt &&\n              (platform === \"Linux\" || platform === \"MacOS\")\n            ) {\n              clearTerminalData(tabId, terminalId);\n              setInputValue(\"\");\n              setSuggestion(\"\");\n              return;\n            } else if (finalCommand === \"cls\" && !prompt && platform === \"Windows\") {\n              clearTerminalData(tabId, terminalId);\n              setInputValue(\"\");\n              setSuggestion(\"\");\n              return;\n            }\n\n            // if (commandToExecute.startsWith(\"sudo \") && !isSudoPassword) {\n            //   setIsPasswordPromptOpen(true);\n            //   setPreviousCmd(finalCommand);\n            //   setInputValue(\"\");\n            //   setHistoryIndex(-1);\n            //   setSuggestion(\"\");\n            //   setShowHistory(false);\n            //   return;\n            // }\n            // if (isInteractiveMode) {\n            //   handleInteractiveInput(finalCommand);\n            // }\n\n\n            if (isPasswordPromptOpen) {\n              setIsPasswordPromptOpen(false);\n              // setSudoPassword(finalCommand);\n              socket.emit('password_response', {\n                terminal_id: terminalId,\n                password: finalCommand,\n              });\n              setIsSudoCommandExecuting(true);\n              setIsLoading(false);\n              if (loadingTimeoutRef.current) {\n                clearTimeout(loadingTimeoutRef.current);\n              }\n              setShowHistory(false);\n              setInputValue(\"\");\n              setHistoryIndex(-1);\n              setSuggestion(\"\");\n              return;\n\n\n            }\n\n            if (isConfirmationPromptOpen) {\n              setIsConfirmationPromptOpen(false);\n              socket.emit('confirmation_response', {\n                terminal_id: terminalId,\n                response: finalCommand.trim().toLowerCase(),\n              });\n              // setIsSudoCommandExecuting(true);\n              setIsLoading(false);\n              if (loadingTimeoutRef.current) {\n                clearTimeout(loadingTimeoutRef.current);\n              }\n              setShowHistory(false);\n              setInputValue(\"\");\n              setHistoryIndex(-1);\n              setSuggestion(\"\");\n              // setIsAiThinking(false);\n\n              return;\n            }\n\n            if (finalCommand == 'htop' || finalCommand == \"top\") {\n              socket.emit(\"exec\", {\n                terminal_id: terminalId,\n                input: finalCommand,\n                isTerminal: true,\n              })\n              setHtopSession(true);\n              setShowHistory(false);\n              setTerminalHistory((prev) => [...prev, input]);\n              setInputValue(\"\");\n              setHistoryIndex(-1);\n              setSuggestion(\"\");\n              return\n            }\n            else {\n              if (commandToExecute.startsWith(\"sudo \") && isSudoPassword) {\n                setIsSudoCommandExecuting(true);\n              }\n\n              loadingTimeoutRef.current = setTimeout(() => {\n                setIsLoading(true);\n              }, 2000);\n\n              clearOutputTimeoutRef.current = setTimeout(() => {\n                setIsLoading(false); // Clear the output after 20 seconds if no response\n              }, 240000);\n\n              socket.emit(\"exec\", {\n                terminal_id: terminalId,\n                input: finalCommand,\n                sudoPassword: isSudoPassword\n                  ? getSudoPassword(tabId)\n                  : sudoPassword,\n                prompt: prompt,\n                isContext: isContext,\n                isTerminal: true,\n                lastTerminalMessages: lastMessages,\n                context: isContext ? contextContent : undefined,\n                user_session: sessionToken\n              });\n            }\n            if (prompt || finalCommand.includes('sudo')) {\n              setIsAiThinking(true);\n              setIsLoading(false);\n              if (loadingTimeoutRef.current) {\n                clearTimeout(loadingTimeoutRef.current);\n              }\n            }\n\n            socket.emit(\"getCurrentDirectory\", { terminal_id: terminalId });\n            setShowHistory(false);\n            setTerminalHistory((prev) => [...prev, input]);\n            setInputValue(\"\");\n            setHistoryIndex(-1);\n            setSuggestion(\"\");\n          }\n\n          break;\n\n        case \"ArrowUp\":\n          e.preventDefault();\n          if (terminalHistory.length > 0) {\n            if (!showHistory) {\n              setShowHistory(true);\n              setHistoryIndex(terminalHistory.length - 1);\n              setInputValue(terminalHistory[terminalHistory.length - 1] || \"\");\n            } else {\n              setHistoryIndex((prevIndex) => {\n                const newIndex = Math.max(prevIndex - 1, 0);\n                setInputValue(terminalHistory[newIndex] || \"\");\n                scrollToCurrentHistory();\n                return newIndex;\n              });\n            }\n          } else {\n            setShowHistory(true);\n          }\n          break;\n\n        case \"ArrowDown\":\n          e.preventDefault();\n          if (terminalHistory.length > 0) {\n            if (showHistory) {\n              if (historyIndex < terminalHistory.length - 1) {\n                const newIndex = historyIndex + 1;\n                setInputValue(terminalHistory[newIndex] || \"\");\n                setHistoryIndex(newIndex);\n                scrollToCurrentHistory();\n              } else {\n                setHistoryIndex(-1);\n                setInputValue(\"\");\n                setShowHistory(false);\n              }\n            }\n          } else {\n            setShowHistory(false);\n          }\n          break;\n\n        case \"ArrowRight\":\n          e.preventDefault();\n          if (suggestion) {\n            setInputValue(suggestion);\n            setSuggestion(\"\");\n            inputRef.current?.focus();\n          }\n          break;\n\n        default:\n          break;\n      }\n    },\n    [\n      socket,\n      isConnected,\n      input,\n      terminalId,\n      terminalHistory,\n      showHistory,\n      historyIndex,\n      suggestion,\n      scrollToCurrentHistory,\n      handleCreateFile,\n      fileCode,\n    ]\n  );\n\n\n  // Handle socket events for command output and suggestions\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const handleCommandOutput = (data: {\n      output: string;\n      status: \"error\" | \"success\" | \"nlp\";\n      current_cmd: string;\n      commands?: string[];\n      terminal_id: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        if (loadingTimeoutRef.current) {\n          clearTimeout(loadingTimeoutRef.current); // Clear timeout when response is received\n        }\n        if (clearOutputTimeoutRef.current) {\n          clearTimeout(clearOutputTimeoutRef.current); // Clear the output timeout\n        }\n        setIsLoading(false);\n        setIsSudoCommandExecuting(false);\n        setIsAiThinking(false);\n        const fileSystem =\n          data.current_cmd.startsWith(\"dir\") ||\n            // data.current_cmd.startsWith(\"ls\")\n            data.current_cmd === \"ls\" || data.current_cmd === \"ls -l\"\n            ? parseDirectoryListing(data.output, platform)\n            : undefined;\n\n        const finalOutput = convert.toHtml(data.output);\n\n        addMessage(\n          finalOutput,\n          data.status,\n          data.current_cmd,\n          data.commands,\n          fileSystem\n        );\n      }\n    };\n\n    const handleSuggestions = (data: {\n      suggestions: string | string[];\n      terminal_id: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        if (typeof data.suggestions === \"string\") {\n          setSuggestion(data.suggestions);\n        } else if (Array.isArray(data.suggestions)) {\n          setSuggestion(data.suggestions.join(\", \"));\n        } else {\n          console.error(\"Unexpected data format:\", data);\n          setSuggestion(\"\");\n        }\n      }\n    };\n\n    const handleTerminalCommand = (data: {\n      terminal_id: string;\n      output: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        if (loadingTimeoutRef.current) {\n          clearTimeout(loadingTimeoutRef.current);\n        }\n        setIsLoading(false);\n        setIsAiThinking(false);\n\n        let cleanedOutput = data.output.trim();\n\n        const regex = /^```([a-zA-Z]*)\\n([\\s\\S]*)\\n```$/;\n\n        const match = cleanedOutput.match(regex);\n        if (match) {\n          cleanedOutput = match[2].trim();\n        }\n        const commands = cleanedOutput\n          .split(\"\\n\")\n          .filter((line) => line.trim() !== \"\");\n\n        if (commands.length > 0) {\n          setInputValue(commands[0]);\n        } else {\n          setInputValue(cleanedOutput);\n        }\n\n        setPrompt(false);\n      }\n    };\n\n    socket.on(\"command_output\", handleCommandOutput);\n    socket.on(\"suggestions\", handleSuggestions);\n    socket.on(\"send_terminal_command\", handleTerminalCommand);\n\n    return () => {\n      socket.off(\"command_output\", handleCommandOutput);\n      socket.off(\"suggestions\", handleSuggestions);\n    };\n  }, [socket, isConnected, terminalId, addMessage]);\n\n  // Handle socket events for streaming chunks and end\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const handleStreamingChunk = (data: {\n      chunk: string;\n      terminal_id: string;\n      command: string;\n    }) => {\n      if (data.terminal_id === terminalId) {\n        setIsStreaming(true);\n        setIsAiThinking(false);\n        setIsLoading(false);\n        setStreamingContent((prev) => prev + data.chunk);\n        setAiInputValue(data.command);\n      }\n    };\n\n    const handleStreamingEnd = (data: {\n      status: \"error\" | \"success\" | \"nlp\";\n      output: string;\n      current_cmd: string;\n      terminal_id: string;\n      commands?: string[];\n    }) => {\n      if (data.terminal_id === terminalId) {\n        setAiInputValue(\"\");\n        setIsLoading(false);\n        const fileSystem =\n          data.current_cmd.startsWith(\"dir\") ||\n            // data.current_cmd.startsWith(\"ls\")\n            data.current_cmd === \"ls\" || data.current_cmd === \"ls -l\"\n            ? parseDirectoryListing(streamingContent, platform)\n            : undefined;\n\n        addMessage(\n          data.output,\n          data.status,\n          data.current_cmd,\n          data.commands,\n          fileSystem\n        );\n\n        const codeBlocks = extractCodeBlocks(streamingContent);\n\n        if (codeBlocks.length > 0) {\n          handleShowCodePreview(codeBlocks);\n        }\n\n        setStreamingContent(\"\");\n        setIsStreaming(false);\n      }\n    };\n\n    socket.on(\"streaming_chunk\", handleStreamingChunk);\n    socket.on(\"streaming_end\", handleStreamingEnd);\n\n    return () => {\n      socket.off(\"streaming_chunk\", handleStreamingChunk);\n      socket.off(\"streaming_end\", handleStreamingEnd);\n    };\n  }, [\n    socket,\n    isConnected,\n    terminalId,\n    streamingContent,\n    addMessage,\n    handleShowCodePreview,\n  ]);\n\n\n  /**\n   * Toggles the selection state of a given message in the context.\n   * If the message is already selected, it will be removed from the selected context.\n   * If the message is not selected, it will be added to the selected context.\n   *\n   * @param {Message} message - The message object to be toggled in the selected context.\n   */\n\n  const toggleMessageSelection = useCallback((message: Message) => {\n    setSelectedContext((prevContext) => {\n      const isAlreadySelected = prevContext.some(\n        (msg) => msg.id === message.id\n      );\n      if (isAlreadySelected) {\n        return prevContext.filter((msg) => msg.id !== message.id);\n      } else {\n        return [...prevContext, message];\n      }\n    });\n  }, []);\n\n  // Handle creation of copy value\n  const onCopyCode = () => { };\n\n\n  return (\n    <>\n      {htopSession && socket && isConnected && (\n        <HtopTerminal socket={socket} isConnected={isConnected} setHtopSession={setHtopSession} />\n      )}\n      <div className=\"custom-flex-grow-for-message-container flex pb-10 w-full h-full hide-scrollbar\">\n        {isAiThinking && prompt && (\n          <div className=\"absolute bottom-11 left-4 right-0 bg-[--bgColor] p-2\">\n            <div className=\"flex items-center\">\n              <FiLoader className=\"animate-spin mr-2\" />\n              <span>AI is thinking...</span>\n            </div>\n          </div>\n        )}\n\n        {isSudoCommandExecuting && (\n          <div className=\"absolute bottom-11 left-4 right-0 bg-[--bgColor] p-2\">\n            <div className=\"flex items-center\">\n              <FiLoader className=\"animate-spin mr-2\" />\n              <span>Installing packages</span>\n            </div>\n          </div>\n        )}\n\n        {isLoading && (\n          <div className=\"absolute bottom-11 left-4 right-0 bg-[--bgColor] p-2\">\n            <div className=\"flex items-center\">\n              <FiLoader className=\"animate-spin mr-2\" />\n              <span>Executing command</span>\n            </div>\n          </div>\n        )}\n\n        <div\n          ref={messagesContainerRef}\n          className=\"overflow-auto flex flex-col-reverse hide-scrollbar w-full\"\n        >\n          {isStreaming && (\n            <div className=\"p-4 bg-opacity-50 bg-gradient-to-l from-[--bgGradientStart] to-[--scrollbarThumbColor] text-[--primaryTextColor] border-l-4 border-l-[--borderColor]\">\n              <span className=\"custom-font-size pt-2\">{aiInputValue}</span>\n              <EnhancedMarkdown\n                markdownContent={streamingContent}\n                onCopyCommand={copyCommand}\n                onExecuteCommand={executeCommand}\n                onCopyCode={onCopyCode}\n                onCreateCode={onCreateCode}\n                isStreaming={false}\n              />\n            </div>\n          )}\n          {messages\n            .slice()\n            .reverse()\n            .map((message, index) => (\n              <div\n                key={message.id}\n                className={`\n        p-4 \n        ${selectedContext.some((msg) => msg.id === message.id)\n                    ? \"border-[1px] border-[--yellowColor]\"\n                    : \"border-t-[1px] border-opacity-50 border-t-[--outputBorderColor] \"\n                  }\n        ${message.type === \"error\"\n                    ? \"bg-opacity-50 bg-gradient-to-l from-[--bgGradientStart] to-[--redColorGradientStart] text-[--primaryTextColor] border-l-4 border-l-[--darkRedColor]\"\n                    : message.type === \"success\"\n                      ? \"bg-opacity-10 text-[--primaryTextColor] border-l-4 border-l-[--darkGreenColor]\"\n                      : \"bg-opacity-50 bg-gradient-to-l from-[--bgGradientStart] to-[--scrollbarThumbColor] text-[--primaryTextColor] border-l-4 border-l-[--borderColor]\"\n                  }\n                  ${index === 0 && isAiThinking ? \"mb-12\" : \"\"}\n                  ${index === 0 && isSudoCommandExecuting ? \"mb-12\" : \"\"}\n                  ${index === 0 && isLoading ? \"mb-12\" : \"\"}\n      `}\n                onDoubleClick={() => {\n                  if (prompt) {\n                    toggleMessageSelection(message);\n                  }\n                }}\n              >\n                <span className=\"custom-font-size pt-2\">\n                  {message.current_cmd}\n                </span>\n                {message.fileSystem ? (\n                  // Check if it's a 'ls -l' command\n                  message.current_cmd === \"ls -l\" ? (\n                    <div className=\"font-mono custom-font-size p-4 rounded-lg overflow-x-auto whitespace-nowrap hide-scrollbar\">\n                      <table className=\"w-full\">\n                        <tbody>\n                          {message.fileSystem.map((item, index) => (\n                            <tr key={index} className=\"grid grid-cols-5\">\n                              <td className=\"pr-4 col-span-1\">{item.mode}</td>\n                              <td className=\"pr-4 col-span-2\">\n                                {item.lastWriteTime}\n                              </td>\n                              {/* <td className=\"pr-4 col-span-2\">{item.length}</td> */}\n                              <td\n                                className=\"pr-4 col-span-2 cursor-pointer hover:text-[--textColor]\"\n                                onClick={() => handleFileSystemItemClick(item)}\n                              >\n                                {item.name}\n                              </td>\n                            </tr>\n                          ))}\n                        </tbody>\n                      </table>\n                    </div>\n                  ) : (\n                    <div className=\"font-mono custom-font-size rounded-lg overflow-x-auto hide-scrollbar\">\n                      <div className=\"flex flex-wrap\">\n                        {message.fileSystem.map((item, index) => (\n                          <div\n                            key={index}\n                            className=\"p-2 cursor-pointer hover:text-[--textColor]\"\n                            onClick={() => handleFileSystemItemClick(item)}\n                          >\n                            {item.name}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )\n                ) : message.type === \"nlp\" ? (\n                  <EnhancedMarkdown\n                    markdownContent={String(message.text)}\n                    onCopyCommand={copyCommand}\n                    onExecuteCommand={executeCommand}\n                    onCopyCode={onCopyCode}\n                    onCreateCode={onCreateCode}\n                    isStreaming={true}\n                  />\n                ) : (\n                  <pre\n                    className=\"whitespace-pre-wrap hide-scrollbar overflow-x-auto p-2\"\n                    dangerouslySetInnerHTML={{ __html: message.text }}\n                  >\n                    {/* {message.text} */}\n                  </pre>\n                )}\n                {message.commands && (\n                  <div className=\"mt-2 space-y-2\">\n                    {message.commands.map((command, index) => (\n                      <div\n                        key={index}\n                        className=\"flex items-center bg-[--darkGrayColor] p-2 rounded\"\n                      >\n                        <code className=\"flex-grow text-[--textColor]\">\n                          {command}\n                        </code>\n                        <button\n                          onClick={() => copyCommand(command)}\n                          className=\"ml-2 text-[--lightGrayColor] hover:text-[--textColor] focus:outline-none\"\n                        >\n                          {copiedCommands[command] ? (\n                            <FiCheck className=\"text-[--greenColor]\" />\n                          ) : (\n                            <FiCopy />\n                          )}\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n        </div>\n      </div>\n      <div\n        className={`absolute z-10 bottom-0 h-10 text-[--textColor] p-2 custom-font-size leading-relaxed font-mono w-full bg-[--bgColor] border-t border-[--borderColor] ${prompt ? \"border border-[--yellowColor]\" : \"\"\n          } ${htopSession ? \"hidden\" : \"\"}`}\n      >\n        <div\n          ref={historyRef}\n          className={`absolute left-0 right-0 bottom-10 overflow-y-auto hide-scrollbar bg-[--darkGrayColor]  flex flex-col-reverse z-100 max-h-[8.75rem] p-4 w-full ${showHistory ? \"\" : \"hidden\"\n            }`}\n        >\n          {terminalHistory.length > 0 ? (\n            terminalHistory\n              .slice()\n              .reverse()\n              .map((line, index) => (\n                <div\n                  key={index}\n                  className={`rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 mb-2 ${historyIndex === terminalHistory.length - 1 - index\n                    ? \"bg-gradient-to-br from-[--blueColor] to-[--darkBlueColor] text-[--textColor]\"\n                    : \"\"\n                    }`}\n                >\n                  <div\n                    className={`p-1 ${historyIndex === terminalHistory.length - 1 - index\n                      ? \"text-[--textColor]\"\n                      : \"text-[--primaryTextColor]\"\n                      }`}\n                  >\n                    <h3 className=\"custom-font-size font-normal\">{line}</h3>\n                  </div>\n                </div>\n              ))\n          ) : (\n            <div className=\"bg-gradient-to-br from-[--scrollbarThumbColor] to-[--scrollbarTrackColor] rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 mb-2\">\n              <div className=\"p-1 text-[--textColor]\">\n                <h3 className=\"custom-font-size font-normal\">\n                  No Record Found\n                </h3>\n              </div>\n            </div>\n          )}\n        </div>\n        <div className=\"flex items-center w-full overflow-hidden\">\n          <div className={`text-transparent bg-clip-text bg-gradient-to-r from-[--promptColorGradientStart] to-[--promptColorGradientEnd] `}>\n            {isPasswordPromptOpen\n              ? \"Please enter your password:\"\n              : isConfirmationPromptOpen ? \"Do you want to continue? (y/n):\"\n                : isCreatingFile\n                  ? filePromptLabel\n                  : promptLabel}\n          </div>\n          {!isPasswordPromptOpen && !isCreatingFile && promptLabel.startsWith(\"starting bash\") && (\n            <CircularLoader />\n          )}\n          <div className=\"relative flex-1 ml-4 flex items-center text-[--textColor]\">\n            <div className=\"relative w-full\">\n              {isPasswordPromptOpen ? (\n                <input\n                  type=\"password\"\n                  value={input}\n                  onChange={handleInputChange}\n                  onKeyDown={handleInputKeyDown}\n                  ref={inputRef}\n                  className=\"w-full bg-transparent text-transparent border-0 outline-none custom-font-size caret-transparent\"\n                  autoComplete=\"off\"\n                  aria-label=\"Password input\"\n                  placeholder=\"Enter password\"\n                />\n              ) : isConfirmationPromptOpen ? (\n                <input\n                  type=\"text\"\n                  value={input}\n                  onKeyDown={handleInputKeyDown}\n                  onChange={handleInputChange}\n                  ref={inputRef}\n                  className=\"flex-1 bg-transparent text-[--textColor] border-0 outline-none custom-font-size leading-relaxed font-mono w-full \"\n                  placeholder=\"Enter Your Choice\"\n                />\n              ) : (\n                <input\n                  type=\"text\"\n                  value={input}\n                  onKeyDown={handleInputKeyDown}\n                  onChange={handleInputChange}\n                  ref={inputRef}\n                  className=\"flex-1 bg-transparent text-[--textColor] border-0 outline-none custom-font-size leading-relaxed font-mono w-full \"\n                  placeholder={\n                    prompt\n                      ? \"Ask in natural language\"\n                      : \"Use Ctrl + I to enter agenting mode\"\n                  }\n                />\n              )}\n              {showDirectoryList && (\n                <div\n                  ref={listRef}\n                  className=\"absolute left-0 right-0 mt-2 max-h-[200px] overflow-y-auto bg-zinc-800 border border-zinc-700 rounded-md\"\n                >\n                  {directories.map((dir, index) => (\n                    <div\n                      key={dir.name}\n                      className={`flex items-center gap-2 px-4 py-2 cursor-pointer ${index === selectedIndex\n                        ? \"bg-pink-500 text-[--textColor]\"\n                        : \"hover:bg-zinc-700\"\n                        }`}\n                      onClick={() => {\n                        setInputValue(`cd ${dir.name}`);\n                        setShowDirectoryList(false);\n                      }}\n                    >\n                      <FiFolder className=\"shrink-0\" />\n                      <span>{dir.name}</span>\n                      <span className=\"ml-auto custom-font-size text-zinc-400\">\n                        Directory\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {suggestion && (\n                <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none\">\n                  {\n                    !isPasswordPromptOpen && (\n                      <>\n                        <span className=\"text-[--textColor]\">{input}</span>\n                        <span className=\"text-[--commentColor]\">\n                          {suggestion.slice(input.length)}\n                        </span></>\n                    )\n                  }\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, forwardRef, useState } from \"react\";\nimport AceEditor from \"react-ace\";\n\n// Import Ace Editor themes and modes\nimport \"ace-builds/src-noconflict/theme-twilight\";\nimport \"ace-builds/src-noconflict/mode-text\";\nimport \"ace-builds/src-noconflict/mode-javascript\";\nimport \"ace-builds/src-noconflict/mode-python\";\nimport \"ace-builds/src-noconflict/mode-java\";\nimport \"ace-builds/src-noconflict/mode-html\";\nimport \"ace-builds/src-noconflict/mode-css\";\nimport \"ace-builds/src-noconflict/mode-php\";\nimport \"ace-builds/src-noconflict/mode-c_cpp\";\nimport \"ace-builds/src-noconflict/mode-csharp\";\nimport \"ace-builds/src-noconflict/mode-ruby\";\nimport \"ace-builds/src-noconflict/mode-golang\";\nimport \"ace-builds/src-noconflict/mode-swift\";\nimport \"ace-builds/src-noconflict/mode-typescript\";\nimport \"ace-builds/src-noconflict/mode-sql\";\nimport \"ace-builds/src-noconflict/mode-sh\";\nimport \"ace-builds/src-noconflict/mode-markdown\";\nimport \"ace-builds/src-noconflict/mode-json\";\nimport \"ace-builds/src-noconflict/mode-xml\";\nimport \"ace-builds/src-noconflict/mode-yaml\";\nimport \"ace-builds/src-noconflict/mode-kotlin\";\nimport \"ace-builds/src-noconflict/mode-r\";\nimport \"ace-builds/src-noconflict/mode-lua\";\nimport \"ace-builds/src-noconflict/mode-scala\";\nimport \"ace-builds/src-noconflict/mode-vbscript\";\nimport \"ace-builds/src-noconflict/mode-pascal\";\nimport \"ace-builds/src-noconflict/mode-powershell\";\n\nconst getModeFromFilePath = (filePath: string): string => {\n  const extension = filePath.split(\".\").pop()?.toLowerCase();\n\n  switch (extension) {\n    case \"js\":\n      return \"javascript\";\n    case \"ts\":\n      return \"typescript\";\n    case \"py\":\n      return \"python\";\n    case \"java\":\n      return \"java\";\n    case \"html\":\n      return \"html\";\n    case \"css\":\n      return \"css\";\n    case \"php\":\n      return \"php\";\n    case \"c\":\n    case \"cpp\":\n      return \"c_cpp\";\n    case \"cs\":\n      return \"csharp\";\n    case \"rb\":\n      return \"ruby\";\n    case \"go\":\n      return \"golang\";\n    case \"swift\":\n      return \"swift\";\n    case \"json\":\n      return \"json\";\n    case \"sql\":\n      return \"sql\";\n    case \"sh\":\n      return \"sh\"; \n    case \"md\":\n      return \"markdown\";\n    case \"xml\":\n      return \"xml\";\n    case \"yaml\":\n    case \"yml\":\n      return \"yaml\";\n    case \"kt\":\n      return \"kotlin\";\n    case \"r\":\n      return \"r\";\n    case \"lua\":\n      return \"lua\";\n    case \"scala\":\n      return \"scala\";\n    case \"vb\":\n      return \"vbscript\";\n    case \"pas\":\n      return \"pascal\";\n    case \"ps1\":\n      return \"powershell\"; \n    default:\n      return \"text\"; \n  }\n};\n\ninterface TerminalData {\n  inputCmd: string;\n  output: string;\n  status: \"error\" | \"success\" | \"nlp\";\n  timestamp: string;\n}\n\ninterface ChildData {\n  id: string;\n  type: \"ai\" | \"editor\" | \"terminal\";\n  content: TerminalData[];\n  splitLevel: number;\n  contentType: \"terminal\" | \"ai\" | \"editor\";\n  depth: number;\n  direction: \"horizontal\" | \"vertical\";\n  filePath?: string;\n}\n\ninterface TabData {\n  id: string;\n  name: string;\n  children: ChildData[];\n  splitLevel: number;\n}\ninterface CodeBlock {\n  language: string;\n  code: string;\n}\n\ninterface ElectronAPI {\n  openFile: () => Promise<string[]>;\n  readFile: (filePath: string) => Promise<string>;\n  saveFile: (filePath: string, content: string) => Promise<void>;\n  createFile: (\n    fileName: string,\n    content: string,\n    currentDir: string\n  ) => Promise<string>;\n  openExternalLink: (url: string) => Promise<string>;\n}\n\ninterface EditorComponentProps {\n  tabId: string;\n  editorId: string;\n}\n\ndeclare global {\n  interface Window {\n    electron: ElectronAPI;\n  }\n}\n\nconst EditorComponent = forwardRef<HTMLDivElement, EditorComponentProps>(\n  ({ tabId, editorId }, ref) => {\n    const [fileContentValue, setFileContentValue] = useState<string>(\"\");\n    const [mode, setMode] = useState<string>(\"text\");\n    const [filePath, setFilePath] = useState<string>(\"\");\n\n    useEffect(() => {\n      const fetchFileContent = async () => {\n        // Fetch stored tabs from sessionStorage\n        const storedTabs: TabData[] = JSON.parse(\n          sessionStorage.getItem(\"tabs\") || \"[]\"\n        );\n\n        // Find the tab with the matching tabId\n        const tab = storedTabs.find((tab: TabData) => tab.id === tabId);\n        if (!tab) {\n          console.warn(`No tab found with id: ${tabId}`);\n          return;\n        }\n\n        // Find the editor within the tab using the editorId\n        const editor = tab.children.find(\n          (child: ChildData) => child.id === editorId\n        );\n        if (!editor) {\n          console.warn(`No editor found with id: ${editorId}`);\n          return;\n        }\n\n        // Check if the editor has a filePath and proceed to load file content\n        if (editor.filePath) {\n          const currentFilePath = editor.filePath.trim();\n\n          setFilePath(currentFilePath);\n          setMode(getModeFromFilePath(currentFilePath));\n\n          if (currentFilePath) {\n            try {\n              // Attempt to read the file content\n              const content = await window.electron.readFile(currentFilePath);\n              setFileContentValue(content);\n            } catch (error) {\n              console.error(`Error reading file at path: ${currentFilePath}`);\n              console.error(\"Error:\", error);\n              setFileContentValue(\"\"); // Clear content if the file can't be read\n              setFilePath(\"\"); // Clear filePath if the file doesn't exist\n              alert(\n                \"File not found or could not be read. Please check the file path.\"\n              );\n            }\n          } else {\n            console.warn(\"No valid file path available to load content from.\");\n          }\n        } else {\n          console.warn(\"Editor does not have a filePath defined.\");\n        }\n      };\n\n      // Delay the fetching of the file content to simulate debouncing\n      const timer = setTimeout(fetchFileContent, 500);\n      return () => {\n        clearTimeout(timer); // Clean up timeout when component unmounts or dependencies change\n      };\n    }, [tabId, editorId]); // Dependencies: Re-run effect when tabId or editorId changes\n\n    useEffect(() => {\n      const autoSave = async () => {\n        // If file path exists but content is empty, provide feedback\n        if (filePath && fileContentValue.trim() === \"\") {\n          console.warn(\"File is empty. No content to save.\");\n          return; // Do not proceed with auto-save\n        }\n\n        // Only proceed if the file path is valid and content is non-empty\n        if (filePath && fileContentValue.trim() !== \"\") {\n          try {\n            await window.electron.saveFile(filePath, fileContentValue);\n          } catch (error) {\n            console.error(\"Error saving file:\", error);\n          }\n        }\n      };\n\n      // Only auto-save if the file path and content are valid\n      const timer = setTimeout(autoSave, 2000);\n      return () => clearTimeout(timer);\n    }, [fileContentValue, filePath]);\n\n    return (\n      <div ref={ref} className=\"h-full w-full\">\n        <AceEditor\n          mode={mode}\n          theme=\"twilight\"\n          value={fileContentValue}\n          onChange={setFileContentValue}\n          name=\"editor\"\n          editorProps={{ $blockScrolling: true }}\n          setOptions={{\n            fontSize: 14,\n            showLineNumbers: true,\n            tabSize: 4,\n            wrap: true,\n            highlightActiveLine: true,\n            highlightGutterLine: true,\n            useWorker: false,\n          }}\n          width=\"100%\"\n          height=\"100%\"\n        />\n      </div>\n    );\n  }\n);\n\nexport default EditorComponent;\n","import React, { useCallback, useContext, useEffect, useRef, useState } from \"react\";\nimport { Socket } from \"socket.io-client\";\nimport {\n  FiMessageCircle,\n  FiCopy,\n  FiCheck,\n  FiLoader,\n  FiAlertTriangle,\n} from \"react-icons/fi\";\nimport EnhancedMarkdown from \"../../common/enhancedMarkdown\";\nimport extractCodeBlocks from \"../../utils/extractedCode\";\nimport {\n  CodeBlock,\n  FileSystemItem,\n  Message,\n  StreamingMessage,\n} from \"../../types/terminalTypes\";\nimport { useTabs } from \"../../hooks/useTab\";\nimport { shortcutContext } from \"../../context/shortCutContext\";\n\n// Define the Electron API interface for type safety\ninterface ElectronAPI {\n  openFile: () => Promise<string[]>;\n  readFile: (filePath: string) => Promise<string>;\n  saveFile: (filePath: string, content: string) => Promise<void>;\n  createFile: (\n    fileName: string,\n    content: string,\n    currentDir: string\n  ) => Promise<string>;\n  openExternalLink: (url: string) => Promise<string>;\n}\n\n// Declare the Electron API globally\ndeclare global {\n  interface Window {\n    electron: ElectronAPI;\n  }\n}\n\n// Debounce delay constant\nconst DEBOUNCE_DELAY = 300;\n\n// Define the AiChat component\nexport const AiChat: React.FC<AiChatProps> = ({\n  socket,\n  isConnected,\n  chatId,\n  tabId,\n  content,\n  addTerminalData,\n  handleCreateFile,\n  clearTerminalData,\n  onShowPreview,\n}) => {\n  // Define refs for input, history, and messages container\n  const inputRef = useRef<HTMLInputElement>(null);\n  const historyRef = useRef<HTMLDivElement>(null);\n  const messagesContainerRef = useRef<HTMLDivElement>(null);\n\n  // Define state variables\n  const [chatHistory, setChatHistory] = useState<string[]>([]);\n  const [input, setInputValue] = useState<string>(\"\");\n  const [showHistory, setShowHistory] = useState<boolean>(false);\n  const [historyIndex, setHistoryIndex] = useState<number>(-1);\n  const [suggestion, setSuggestion] = useState<string>(\"\");\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [copiedCommands, setCopiedCommands] = useState<{\n    [key: string]: boolean;\n  }>({});\n  const debounceRef = useRef<NodeJS.Timeout | null>(null);\n\n  const [streamingContent, setStreamingContent] = useState<string>(\"\");\n  const [isStreaming, setIsStreaming] = useState<boolean>(false);\n  const [isAiThinking, setIsAiThinking] = useState(false);\n  const [fileCode, setFileCode] = useState<string>(\"\");\n  const [isCreatingFile, setIsCreatingFile] = useState<boolean>(false);\n  const [aiInputValue, setAiInputValue] = useState<string>(\"\");\n\n  // Custom hook for managing tabs\n  const { tabs, updateStreamingContent, clearStreamingContent } = useTabs();\n\n  const {registerListener, removeListener} = useContext(shortcutContext)\n\n  // Handle showing code preview\n  const handleShowCodePreview = async (codeBlocks: CodeBlock[]) => {\n    onShowPreview(codeBlocks);\n  };\n\n  // Add keypress listener for focusing the input\n  useEffect(() => {\n    const keys = new Set([\"control\", \"shift\", \"alt\"]);\n  \n    const handleKeyPress = () => {\n      inputRef.current?.focus();\n    };\n  \n    registerListener(keys, handleKeyPress);\n  \n    return () => {\n      removeListener(keys);\n    };\n  }, [registerListener, removeListener]);\n  \n\n  // Add a new message to the chat\n  const addMessage = useCallback(\n    (\n      text: React.ReactNode,\n      type: \"error\" | \"success\" | \"nlp\",\n      current_cmd: string,\n      commands?: string[],\n      fileSystem?: FileSystemItem[],\n      isStreaming: boolean = false\n    ) => {\n      const timestamp = new Date().toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n      });\n\n      const newMessage: Message = {\n        id: Date.now(),\n        text,\n        type,\n        timestamp,\n        current_cmd,\n        commands,\n        fileSystem,\n        isStreaming,\n      };\n\n      setMessages((prevMessages) => [...prevMessages, newMessage]);\n\n      const newTerminalData: TerminalData = {\n        inputCmd: current_cmd,\n        output: String(text),\n        status: type,\n        timestamp,\n      };\n      addTerminalData(tabId, chatId, newTerminalData);\n    },\n    [tabId, chatId, addTerminalData]\n  );\n\n  // Copy command to clipboard\n  const copyCommand = useCallback((command: string) => {\n    navigator.clipboard.writeText(command).then(() => {\n      setInputValue(command);\n      inputRef.current?.focus();\n      setCopiedCommands((prev) => ({ ...prev, [command]: true }));\n      setTimeout(() => {\n        setCopiedCommands((prev) => ({ ...prev, [command]: false }));\n      }, 2000);\n    });\n  }, []);\n\n  // Execute a command\n  const executeCommand = useCallback(\n    (command: string) => {\n      setStreamingContent(\"\");\n      setInputValue(\"\");\n      const sessionToken = localStorage.getItem('session_token')\n      if (!socket) return;\n\n      const contextContent = messages.map((msg) => ({\n        role: msg.type === \"nlp\" ? \"assistant\" : \"user\",\n        content: msg.current_cmd + \"\\n\" + msg.text,\n      }));\n\n      const isContext = messages.length > 0;\n\n      socket.emit(\"exec\", {\n        terminal_id: chatId,\n        input: command,\n        prompt: true,\n        isContext: isContext,\n        context: isContext ? contextContent : undefined,\n        user_session: sessionToken\n      });\n\n      setChatHistory((prev) => [...prev, command]);\n    },\n    [socket, chatId, messages]\n  );\n\n  // Focus the input on mount\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, [chatId]);\n\n  // Scroll the history to the bottom when it changes\n  useEffect(() => {\n    if (historyRef.current && showHistory) {\n      historyRef.current.scrollTop = historyRef.current.scrollHeight;\n    }\n  }, [chatHistory, showHistory]);\n\n  // Scroll the messages container to the top when messages change\n  useEffect(() => {\n    if (messagesContainerRef.current) {\n      messagesContainerRef.current.scrollTop = 0;\n    }\n  }, [messages]);\n\n  // Simulate keypress for specific conditions\n  function simulateKeyPress() {\n    const ctrlKey = new KeyboardEvent(\"keydown\", {\n      key: \",\",\n      code: \"Comma\",\n      ctrlKey: true,\n      bubbles: true,\n      cancelable: true,\n    });\n\n    document.dispatchEvent(ctrlKey);\n  }\n\n  // Handle socket events for session management\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const handle_signUp_model = (data) => {\n      // if (data.terminal_id === chatId) {\n        // simulateKeyPress();\n        // setIsAiThinking(false);\n      // }\n      // window.electron.openExternalLink(\"https://codemate.ai/#pricing\")\n    };\n\n    const handleSessionStarted = () => {};\n\n    socket.on(\"session_started\", handleSessionStarted);\n\n    socket.on(\"require_signup_and_model_selection\", handle_signUp_model);\n\n    socket.on(\"limit_exceed\", handle_signUp_model);\n\n    socket.emit(\"create_session\", { terminal_id: chatId });\n\n    return () => {\n      socket.off(\"session_started\", handleSessionStarted);\n    };\n  }, [socket, isConnected]);\n\n  useEffect(() => {\n    setMessages(\n      content.map((item, index) => ({\n        id: index,\n        text: item.output,\n        type: item.status,\n        timestamp: item.timestamp,\n        current_cmd: item.inputCmd,\n        fileSystem: undefined,\n        isStreaming: false,\n      }))\n    );\n  }, [content]);\n\n  // Handle input change with debounce\n  const handleInputChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const value = e.target.value;\n      setInputValue(value);\n      setHistoryIndex(-1);\n      setShowHistory(false);\n      if (value.length === 0) {\n        setSuggestion(\"\");\n      }\n\n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n\n      debounceRef.current = setTimeout(() => {\n        socket?.emit(\"input\", { input: value, terminal_id: chatId });\n      }, DEBOUNCE_DELAY);\n    },\n    [socket, chatId]\n  );\n\n  // Scroll to the current history item\n  const scrollToCurrentHistory = useCallback(() => {\n    if (historyRef.current && historyIndex !== -1) {\n      const currentItem = historyRef.current.children[\n        chatHistory.length - 1 - historyIndex\n      ] as HTMLElement;\n      if (currentItem) {\n        historyRef.current.scrollTop =\n          currentItem.offsetTop -\n          historyRef.current.clientHeight / 2 +\n          currentItem.clientHeight / 2;\n      }\n    }\n  }, [historyIndex, chatHistory.length]);\n\n  // Handle key down events for input\n  const handleInputKeyDown = useCallback(\n    (e: React.KeyboardEvent<HTMLInputElement>) => {\n      const sessionToken = localStorage.getItem('session_token')\n      \n      if (e.key === \"Escape\") {\n        setShowHistory(false);\n        return;\n      }\n\n      if (isCreatingFile && socket) {\n        if (e.key === \"Enter\") {\n          e.preventDefault();\n          const fileName = input.trim();\n          if (fileName) {\n            setInputValue(\"\");\n            setIsCreatingFile(false);\n          }\n        }\n        return;\n      }\n      switch (e.key) {\n        case \"Enter\":\n          if (socket && isConnected && input.trim()) {\n            const commandToExecute = input.trim();\n            const contextContent = messages.map((msg) => ({\n              role: msg.type === \"nlp\" ? \"assistant\" : \"user\",\n              command: msg.current_cmd,\n              content: msg.text,\n            }));\n\n            const isContext = messages.length > 0;\n\n            socket.emit(\"exec\", {\n              terminal_id: chatId,\n              input: commandToExecute,\n              prompt: true,\n              isContext: isContext,\n              context: isContext ? contextContent : undefined,\n              user_session: sessionToken\n            });\n\n            setIsAiThinking(true);\n            setShowHistory(false);\n            setChatHistory((prev) => [...prev, input]);\n            setInputValue(\"\");\n            setHistoryIndex(-1);\n            setSuggestion(\"\");\n          }\n          break;\n        case \"ArrowUp\":\n          e.preventDefault();\n          if (chatHistory.length > 0) {\n            if (!showHistory) {\n              setShowHistory(true);\n              setHistoryIndex(chatHistory.length - 1);\n              setInputValue(chatHistory[chatHistory.length - 1] || \"\");\n            } else {\n              setHistoryIndex((prevIndex) => {\n                const newIndex = Math.max(prevIndex - 1, 0);\n                setInputValue(chatHistory[newIndex] || \"\");\n                scrollToCurrentHistory();\n                return newIndex;\n              });\n            }\n          } else {\n            setShowHistory(true);\n          }\n          break;\n\n        case \"ArrowDown\":\n          e.preventDefault();\n          if (chatHistory.length > 0) {\n            if (showHistory) {\n              if (historyIndex < chatHistory.length - 1) {\n                const newIndex = historyIndex + 1;\n                setInputValue(chatHistory[newIndex] || \"\");\n                setHistoryIndex(newIndex);\n                scrollToCurrentHistory();\n              } else {\n                setHistoryIndex(-1);\n                setInputValue(\"\");\n                setShowHistory(false);\n              }\n            }\n          } else {\n            setShowHistory(false);\n          }\n          break;\n\n        case \"ArrowRight\":\n          e.preventDefault();\n          if (suggestion) {\n            setInputValue(suggestion);\n            setSuggestion(\"\");\n            inputRef.current?.focus();\n          }\n          break;\n\n        default:\n          break;\n      }\n    },\n    [\n      socket,\n      isConnected,\n      input,\n      chatId,\n      chatHistory,\n      showHistory,\n      historyIndex,\n      suggestion,\n      scrollToCurrentHistory,\n      handleCreateFile,\n    ]\n  );\n\n  // Clear suggestion if input is empty\n  useEffect(() => {\n    if (input.length === 0) {\n      setSuggestion(\"\");\n    }\n  }, [input, suggestion]);\n\n  // Handle socket events for command output and suggestions\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const handleCommandOutput = (data: {\n      output: string;\n      status: \"error\" | \"success\" | \"nlp\";\n      current_cmd: string;\n      commands?: string[];\n      terminal_id: string;\n    }) => {\n      if (data.terminal_id === chatId) {\n        setIsAiThinking(false);\n        const fileSystem = undefined;\n        // setSuggestion(\"\");\n        addMessage(\n          data.output,\n          data.status,\n          data.current_cmd,\n          data.commands,\n          fileSystem\n        );\n      }\n    };\n\n    const handleSuggestions = (data: {\n      suggestions: string | string[];\n      terminal_id: string;\n    }) => {\n      if (data.terminal_id === chatId) {\n        if (typeof data.suggestions === \"string\") {\n          setSuggestion(data.suggestions);\n        } else if (Array.isArray(data.suggestions)) {\n          setSuggestion(data.suggestions.join(\", \"));\n        } else {\n          setSuggestion(\"\");\n        }\n      }\n    };\n\n    socket.on(\"command_output\", handleCommandOutput);\n    socket.on(\"suggestions\", handleSuggestions);\n\n    return () => {\n      socket.off(\"command_output\", handleCommandOutput);\n      socket.off(\"suggestions\", handleSuggestions);\n    };\n  }, [socket, isConnected, chatId, addMessage]);\n\n  // Handle socket events for streaming chunks and end\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const handleStreamingChunk = (data: {\n      chunk: string;\n      terminal_id: string;\n      command: string;\n    }) => {\n      if (data.terminal_id === chatId) {\n        setIsStreaming(true);\n        setIsAiThinking(false);\n\n        // Update the content using updateStreamingContent\n        updateStreamingContent(tabId, chatId, data.chunk);\n\n        // Set the AI input value\n        setAiInputValue(data.command);\n      } else {\n      }\n    };\n\n    const handleStreamingEnd = (data: {\n      status: \"error\" | \"success\" | \"nlp\";\n      output: string;\n      current_cmd: string;\n      terminal_id: string;\n      commands?: string[];\n    }) => {\n      if (data.terminal_id === chatId) {\n        setIsAiThinking(false);\n        setAiInputValue(\"\");\n        const fileSystem = undefined;\n\n        addMessage(\n          data.output,\n          data.status,\n          data.current_cmd,\n          data.commands,\n          fileSystem\n        );\n\n        const codeBlocks = extractCodeBlocks(data.output);\n\n        if (codeBlocks.length > 0) {\n          handleShowCodePreview(codeBlocks);\n        }\n\n        clearStreamingContent(tabId, chatId);\n        setIsStreaming(false);\n      }\n    };\n\n    socket.on(\"streaming_chunk\", handleStreamingChunk);\n    socket.on(\"streaming_end\", handleStreamingEnd);\n\n    return () => {\n      socket.off(\"streaming_chunk\", handleStreamingChunk);\n      socket.off(\"streaming_end\", handleStreamingEnd);\n    };\n  }, [\n    socket,\n    isConnected,\n    chatId,\n    streamingContent,\n    addMessage,\n    handleShowCodePreview,\n    updateStreamingContent,\n    clearStreamingContent,\n    onShowPreview,\n  ]);\n\n  // Update streaming content when tabs change\n  useEffect(() => {\n    if (tabs) {\n      const tab = tabs.find((t) => t.id === tabId); // Assuming you want to track specific tabId\n      if (tab) {\n        const child = tab.children.find((c) => c.id === chatId);\n        if (child) {\n          const updatedContent = child.streamingContent;\n          setStreamingContent(updatedContent); // You can use the updated content here\n        }\n      }\n    }\n  }, [tabs, tabId, chatId]);\n\n\n  // Handle creation of new code\n  const onCreateCode = (code: string) => {\n    setFileCode(code);\n    setIsCreatingFile(true);\n    setInputValue(\"\");\n    inputRef.current?.focus();\n  };\n\n  const onCopyCode = () => {};\n  return (\n    <>\n      <div className=\"custom-flex-grow-for-message-container flex pb-10 w-full h-full hide-scrollbar\">\n        {isAiThinking && (\n          <div className=\"absolute bottom-11 left-4 right-0 bg-[--bgColor] p-2\">\n            <div className=\"flex items-center\">\n              <FiLoader className=\"animate-spin mr-2\" />\n              <span>AI is thinking...</span>\n            </div>\n          </div>\n        )}\n        <div\n          ref={messagesContainerRef}\n          className=\"overflow-auto flex flex-col-reverse hide-scrollbar w-full\"\n        >\n          {isStreaming && (\n            <div className=\"p-4 bg-opacity-50 bg-gradient-to-l from-[--bgGradientStart] to-[--scrollbarThumbColor] text-[--primaryTextColor] border-l-4 border-l-[--borderColor]\">\n              <span className=\"custom-font-size pt-2\">{aiInputValue}</span>\n              <EnhancedMarkdown\n                markdownContent={streamingContent}\n                onCopyCommand={copyCommand}\n                onExecuteCommand={executeCommand}\n                onCopyCode={onCopyCode}\n                onCreateCode={onCreateCode}\n                isStreaming={false}\n              />\n            </div>\n          )}\n\n          {messages\n            .slice()\n            .reverse()\n            .map((message, index) => (\n              <div\n                key={message.id}\n                className={`\n                                        p-4 \n                                        border-t-[1px] \n                                        border-opacity-50\n                                        border-t-[--outputBorderColor]\n                                        ${\n                                          message.type === \"error\"\n                                            ? \"bg-opacity-50 bg-gradient-to-l from-[--bgGradientStart] to-[--redColorGradientStart] text-[--primaryTextColor] border-l-4 border-l-[--darkRedColor]\"\n                                            : message.type === \"success\"\n                                            ? \"bg-opacity-10 text-[--primaryTextColor] border-l-4 border-l-[--darkGreenColor]\"\n                                            : \"bg-opacity-50 bg-gradient-to-l from-[--bgGradientStart] to-[--scrollbarThumbColor] text-[--primaryTextColor] border-l-4 border-l-[--borderColor]\"\n                                        }\n                                                  ${\n                                                    index === 0 && isAiThinking\n                                                      ? \"mb-12\"\n                                                      : \"\"\n                                                  }\n                                \n                                      `}\n              >\n                <span className=\"custom-font-size pt-2\">\n                  {message.current_cmd}\n                </span>\n                {message.type === \"nlp\" ? (\n                  <EnhancedMarkdown\n                    markdownContent={String(message.text)}\n                    onCopyCommand={copyCommand}\n                    onExecuteCommand={executeCommand}\n                    onCopyCode={onCopyCode}\n                    onCreateCode={onCreateCode}\n                    isStreaming={true}\n                  />\n                ) : (\n                  <pre\n                    className=\"whitespace-pre-wrap hide-scrollbar overflow-x-auto p-2 custom-font-size\"\n                    dangerouslySetInnerHTML={{ __html: message.text }}\n                  >\n                    {/* {message.text} */}\n                  </pre>\n                )}\n\n                {message.commands && (\n                  <div className=\"mt-2 space-y-2\">\n                    {message.commands.map((command, index) => (\n                      <div\n                        key={index}\n                        className=\"flex items-center bg-[--darkGrayColor] p-2 rounded\"\n                      >\n                        <code className=\"flex-grow text-[--textColor]\">\n                          {command}\n                        </code>\n                        <button\n                          onClick={() => copyCommand(command)}\n                          className=\"ml-2 text-[--lightGrayColor] hover:text-[--textColor] focus:outline-none\"\n                        >\n                          {copiedCommands[command] ? (\n                            <FiCheck className=\"text-[--greenColor]\" />\n                          ) : (\n                            <FiCopy />\n                          )}\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            ))}\n        </div>\n      </div>\n      <div className=\"absolute z-10 bottom-0 h-10 text-[--textColor] p-2 custom-font-size leading-relaxed font-mono w-full bg-[--bgColor] border-t border-[--borderColor]\">\n        <div\n          ref={historyRef}\n          className={`absolute left-0 right-0 bottom-10 overflow-y-auto hide-scrollbar bg-[--darkGrayColor]  flex flex-col-reverse z-100 max-h-40 p-4 w-full ${\n            showHistory ? \"\" : \"hidden\"\n          }`}\n        >\n          {chatHistory.length > 0 ? (\n            chatHistory\n              .slice()\n              .reverse()\n              .map((line, index) => (\n                <div\n                  key={index}\n                  className={`rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 mb-2 ${\n                    historyIndex === chatHistory.length - 1 - index\n                      ? \"bg-gradient-to-br from-[--blueColor] to-[--darkBlueColor] text-[--textColor]\"\n                      : \"\"\n                  }`}\n                >\n                  <div\n                    className={`p-1 ${\n                      historyIndex === chatHistory.length - 1 - index\n                        ? \"text-[--textColor]\"\n                        : \"text-[--primaryTextColor]\"\n                    }`}\n                  >\n                    <h3 className=\"custom-font-size font-normal\">{line}</h3>\n                  </div>\n                </div>\n              ))\n          ) : (\n            <div className=\"bg-gradient-to-br from-[--scrollbarThumbColor] to-[--scrollbarTrackColor] rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 mb-2\">\n              <div className=\"p-1 text-[--textColor]\">\n                <h3 className=\"custom-font-size font-normal\">\n                  No Record Found\n                </h3>\n              </div>\n            </div>\n          )}\n        </div>\n        <div className=\"flex items-center w-full overflow-hidden\">\n          <div className=\"text-transparent bg-clip-text bg-gradient-to-r from-[--promptColorGradientStart] to-[--promptColorGradientEnd]\"></div>\n          <div className=\"relative flex-1 ml-4 flex items-center text-[--textColor]\">\n            <div className=\"relative w-full\">\n              <input\n                type=\"text\"\n                value={input}\n                onKeyDown={handleInputKeyDown}\n                onChange={handleInputChange}\n                ref={inputRef}\n                placeholder=\"Ask In Natural Language\"\n                className=\"flex-1 bg-transparent text-[--textColor] border-0 outline-none custom-font-size leading-relaxed font-mono w-full\"\n              />\n              {suggestion && (\n                <div className=\"absolute inset-y-0 left-0 flex items-center pointer-events-none\">\n                  <span className=\"text-[--textColor]\">{input}</span>\n                  <span className=\"text-[--commentColor]\">\n                    {suggestion.slice(input.length)}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useEffect, useRef } from 'react';\n\ninterface CodeBlock {\n  language: string;\n  code: string;\n  filename?: string;\n}\n\nfunction transformImports(code: string) {\n  const importReactRegex = /import\\s+(?:(\\w+)\\s*,?\\s*)?(?:{([^}]+)})?\\s+from\\s+['\"]react['\"];?/g;\n  const importCssRegex = /import\\s+['\"]([^'\"]+\\.css)['\"];?/g;\n  const importReactDOMRegex = /import\\s+\\w+\\s+from\\s+['\"]react-dom['\"];?/g;\n  const reactDomRenderRegex = /ReactDOM\\.render\\s*$$.+$$;?/g;\n  const importComponentRegex = /import\\s+(\\w+)\\s+from\\s+['\"]\\.\\/(components\\/)?(\\w+)['\"];?/g;\n\n  let transformedCode = code;\n  let match;\n  let defaultImport = '';\n  const namedImports = new Set<string>();\n  const componentImports = new Map<string, string>();\n\n  while ((match = importReactRegex.exec(code)) !== null) {\n    if (match[1]) {\n      defaultImport = match[1].trim();\n    }\n    if (match[2]) {\n      match[2].split(',').forEach((imp) => namedImports.add(imp.trim()));\n    }\n  }\n\n  while ((match = importComponentRegex.exec(code)) !== null) {\n    componentImports.set(match[3], match[1]);\n  }\n\n  transformedCode = transformedCode.replace(importReactRegex, '');\n  transformedCode = transformedCode.replace(importCssRegex, '');\n  transformedCode = transformedCode.replace(importReactDOMRegex, '');\n  transformedCode = transformedCode.replace(reactDomRenderRegex, '');\n  transformedCode = transformedCode.replace(importComponentRegex, '');\n\n  let newImports = '';\n  if (defaultImport) {\n    newImports += `const ${defaultImport} = window.React;\\n`;\n  } else {\n    newImports += 'const React = window.React;\\n';\n  }\n  if (namedImports.size > 0) {\n    newImports += `const { ${Array.from(namedImports).join(', ')} } = React;\\n`;\n  }\n\n  const result = newImports + transformedCode;\n  return { code: result.replace(/export default (\\w+);?\\s*$/, 'return $1;'), componentImports };\n}\n\nfunction createIframeContent(codeBlocks: CodeBlock[]): string {\n  let htmlCode = '';\n  let cssCode = '';\n  let jsCode = '';\n  const reactComponents = new Map<string, { code: string; imports: Map<string, string> }>();\n\n  codeBlocks.forEach(block => {\n    switch (block.language.toLowerCase()) {\n      case 'html':\n        htmlCode = block.code || '';\n        break;\n      case 'css':\n        cssCode += block.code + '\\n';\n        break;\n      case 'javascript':\n      case 'js':\n        jsCode += block.code + '\\n';\n        break;\n      case 'jsx':\n      case 'react':\n        const { code, componentImports } = transformImports(block.code);\n        reactComponents.set(block.filename || 'App', { code, imports: componentImports });\n        break;\n    }\n  });\n\n  if (reactComponents.size > 0) {\n    let transformedReactCode = '';\n    let rootComponent = '';\n\n    reactComponents.forEach((component, filename) => {\n      transformedReactCode += `\n        const ${filename} = (() => {\n          ${component.code}\n        })();\n      `;\n\n      if (filename === 'index' || filename === 'App') {\n        rootComponent = filename;\n      }\n    });\n\n    if (!rootComponent) {\n      rootComponent = Array.from(reactComponents.keys())[0];\n    }\n\n    console.log(\"html css js\", htmlCode, cssCode, jsCode)\n\n    return `\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset=\"utf-8\" />\n          <script src=\"https://unpkg.com/react@17/umd/react.production.min.js\"></script>\n          <script src=\"https://unpkg.com/react-dom@17/umd/react-dom.production.min.js\"></script>\n          <script src=\"https://unpkg.com/@babel/standalone/babel.min.js\"></script>\n          <style>${cssCode}</style>   \n        </head>\n        <body>\n          <div id=\"app\"></div>\n          <script type=\"text/babel\">\n            ${transformedReactCode}\n            ReactDOM.render(React.createElement(${rootComponent}), document.getElementById('app'));\n          </script>\n        </body>\n      </html>\n    `;\n  } else {\n    return `\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset=\"utf-8\" />\n          <style>${cssCode}</style>\n        </head>\n        <body>\n          ${htmlCode}\n          <script nonce=\"RANDOM_NONCE\">${jsCode}</script>\n        </body>\n      </html>\n    `;\n  }\n}\n\nexport const CodePreview: React.FC<{ codeBlocks: CodeBlock[] }> = ({ codeBlocks }) => {\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n\n  useEffect(() => {\n    if (iframeRef.current) {\n      const iframeContent = createIframeContent(codeBlocks);\n      iframeRef.current.srcdoc = iframeContent;\n    }\n  }, [codeBlocks]);\n\n  return (\n    <div className=\"w-full h-full bg-opacity-50 bg-gradient-to-b from-[--bgGradientStart] to-[--bgGradientEnd] hide-scrollbar\">\n       <iframe\n        ref={iframeRef}\n        className=\"w-full h-full border-none hide-scrollbar\"\n        sandbox=\"allow-scripts\"\n        title=\"Code Preview\"\n      />\n    </div>\n  );\n};\n","import React, { createContext, useContext, useState } from 'react';\n\n// Create a context for the active split screen\nconst ActiveSplitScreenContext = createContext<{\n  activeSplitScreenId: string | null;\n  setActiveSplitScreenId: (id: string | null) => void;\n}>({\n  activeSplitScreenId: null,\n  setActiveSplitScreenId: () => {},\n});\n\n// Provider component to wrap your app\nexport const ActiveSplitScreenProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\n  const [activeSplitScreenId, setActiveSplitScreenId] = useState<string | null>(null);\n\n  return (\n    <ActiveSplitScreenContext.Provider value={{ activeSplitScreenId, setActiveSplitScreenId }}>\n      {children}\n    </ActiveSplitScreenContext.Provider>\n  );\n};\n\n// Custom hook to use the context\nexport const useActiveSplitScreen = () => useContext(ActiveSplitScreenContext);\n","import React, { useState, useCallback, useEffect, useRef, useContext } from \"react\";\nimport { Socket } from \"socket.io-client\";\nimport { Terminal } from \"../components/Terminal\";\nimport { FaTimes, FaFolder, FaTerminal } from \"react-icons/fa\";\nimport EditorComponent from \"../components/Editor/aceEditor\";\nimport { AiChat } from \"../components/AiChat\";\nimport { CodePreview } from \"../utils/codePreview\";\nimport { TbMessageChatbotFilled } from \"react-icons/tb\";\nimport { useActiveSplitScreen } from \"../context/activeSplitScreenId\";\nimport { shortcutContext } from \"../context/shortCutContext\";\nimport { removeListener } from \"process\";\n\n\n// Interface for Electron API methods\ninterface ElectronAPI {\n  openFile: () => Promise<string[]>;\n  readFile: (filePath: string) => Promise<string>;\n  saveFile: (filePath: string, content: string) => Promise<void>;\n  createFile: (\n    fileName: string,\n    content: string,\n    currentDir: string\n  ) => Promise<string>;\n  openExternalLink: (url: string) => Promise<string>;\n}\n\n// Extending the global window object to include the Electron API\ndeclare global {\n  interface Window {\n    electron: ElectronAPI;\n  }\n}\n\n// SplitPane component interface defining the props\nconst SplitPane: React.FC<{\n  child: ChildData;\n  onSplit: (id: string, type: SplitType) => void;\n  onClose: (id: string) => void;\n  onChangeContent: (\n    id: string,\n    contentType: ContentType,\n    filePath: string\n  ) => void;\n  socket: Socket | null;\n  isConnected: boolean;\n  tabId: string;\n  addTerminalData: (tabId: string, childId: string, data: TerminalData) => void;\n  isRootLevel: boolean;\n  onAddTab: (filePath?: string, type?: ContentType) => string;\n  clearTerminalData: (tabId: string, childId: string) => void;\n  onResize: (id: string, deltaX: number) => void;\n  width: number;\n  isLastPane: boolean;\n  onShowPreview: (childId: string, codeBlocks: CodeBlock[]) => void;\n}> = ({\n  child,\n  onSplit,\n  onClose,\n  socket,\n  isConnected,\n  onChangeContent,\n  tabId,\n  addTerminalData,\n  isRootLevel,\n  onAddTab,\n  clearTerminalData,\n  onResize,\n  width,\n  isLastPane,\n  onShowPreview,\n}) => {\n\n  const { setActiveSplitScreenId, activeSplitScreenId} = useActiveSplitScreen();\n\n  const {registerListener, removeListener} = useContext(shortcutContext)\n\n  const handleFocus = () => {\n    setActiveSplitScreenId(child.id);\n  };\n\n\n  // State to manage context menu position\n  const [contextMenuPosition, setContextMenuPosition] = useState<{\n    x: number;\n    y: number;\n  } | null>(null);\n\n  // State to manage dragging state\n  const [isDragging, setIsDragging] = useState(false);\n\n  // State to manage the file path\n  const [filePath, setFilePath] = useState<string>(\"\");\n  const paneRef = useRef<HTMLDivElement>(null);\n\n  const dragHandleRef = useRef<HTMLDivElement>(null);\n\n  // Function to handle mouse down event for resizing\n  const handleMouseDown = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    setIsDragging(true);\n    document.body.style.cursor = \"col-resize\";\n  }, []);\n\n  // Effect to handle mouse move and mouse up events for resizing\n  useEffect(() => {\n    const handleMouseMove = (e: MouseEvent) => {\n      if (!isDragging || !paneRef.current || !dragHandleRef.current) return;\n\n      const containerRect =\n        paneRef.current.parentElement?.getBoundingClientRect();\n      const paneRect = paneRef.current.getBoundingClientRect();\n\n      if (!containerRect) return;\n\n      const minWidth = 100; // Minimum width in pixels\n      const maxWidth = containerRect.width - minWidth;\n\n      let newX = e.clientX - containerRect.left;\n      newX = Math.max(minWidth, Math.min(maxWidth, newX));\n\n      const deltaX =\n        newX - paneRect.right + dragHandleRef.current.offsetWidth / 2;\n\n      requestAnimationFrame(() => {\n        onResize(child.id, deltaX);\n      });\n    };\n\n    const handleMouseUp = () => {\n      setIsDragging(false);\n      document.body.style.cursor = \"default\";\n    };\n\n    if (isDragging) {\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [isDragging, child.id, onResize]);\n\n  const handleContextMenu = useCallback((event: React.MouseEvent) => {\n    event.preventDefault();\n    setContextMenuPosition({ x: event.clientX, y: event.clientY });\n  }, []);\n\n  const handleClickOutside = useCallback(() => {\n    setContextMenuPosition(null);\n  }, []);\n\n  useEffect(() => {\n    const handleClick = () => handleClickOutside();\n    document.addEventListener(\"click\", handleClick);\n    return () => document.removeEventListener(\"click\", handleClick);\n  }, [handleClickOutside]);\n\n  const handleFileSelected = (filePath: string) => {\n    setFilePath(filePath);\n    const newTabId = onAddTab(filePath, \"editor\");\n  };\n\n  const handleFileOpen = async () => {\n    const paths = await window.electron.openFile();\n    if (paths.length > 0) {\n      const selectedFilePath = paths[0];\n      onChangeContent(child.id, \"editor\", selectedFilePath);\n    }\n  };\n\n  const handleCreateFile = async (\n    fileCode: string,\n    fileName: string,\n    curr_dir: string\n  ) => {\n    try {\n      const filePath = await window.electron.createFile(\n        fileName,\n        fileCode,\n        curr_dir\n      );\n\n      const newTabId = onAddTab(filePath, \"editor\");\n    } catch (error) {\n      console.error(\"Failed to create file:\", error);\n    }\n  };\n\n  const shortcuts = [\n    {\n      keys: new Set([\"control\", \"shift\", \"o\"]),\n      action: handleFileOpen,\n    },\n    {\n      keys: new Set([\"control\", \"shift\", \"c\"]),\n      action: (id: string) => onChangeContent(id, \"terminal\", \"\"),\n    },\n    {\n      keys: new Set([\"control\", \"shift\", \"a\"]),\n      action: (id: string) => onChangeContent(id, \"ai\", \"\"),\n    },\n    {\n      keys: new Set([\"control\", \"shift\", \"p\"]),\n      action: (id: string) => onSplit(id, \"vertical\"),\n    },\n    {\n      keys: new Set([\"control\", \"shift\", \"b\"]),\n      action: (id: string) => onClose(id),\n    },\n  ];\n  \n  \n    useEffect(() => {\n      // Register all shortcuts dynamically\n      shortcuts.forEach(({ keys, action }) => {\n        const onActionHandler = () => action(child.id);\n        registerListener(keys, onActionHandler);\n      });\n  \n      // Cleanup: Remove the listeners when the component unmounts\n      return () => {\n        shortcuts.forEach(({ keys }) => {\n          removeListener(keys);\n        });\n      };\n    }, [child.id, registerListener, removeListener]);\n\n  // Function to render the content of the child pane\n  const renderChildContent = (childData: ChildData) => {\n    switch (childData.contentType) {\n      case \"terminal\":\n        return (\n          <Terminal\n            socket={socket}\n            isConnected={isConnected}\n            terminalId={childData.id}\n            tabId={tabId}\n            content={childData.content}\n            addTerminalData={addTerminalData}\n            onFileSelect={handleFileSelected}\n            handleCreateFile={handleCreateFile}\n            clearTerminalData={clearTerminalData}\n            onShowPreview={(codeBlocks) =>\n              onShowPreview(childData.id, codeBlocks)\n            }\n          />\n        );\n      case \"editor\":\n        return <EditorComponent tabId={tabId} editorId={childData.id} />;\n      case \"ai\":\n        return (\n          <AiChat\n            socket={socket}\n            isConnected={isConnected}\n            chatId={childData.id}\n            tabId={tabId}\n            content={childData.content}\n            addTerminalData={addTerminalData}\n            handleCreateFile={handleCreateFile}\n            clearTerminalData={clearTerminalData}\n            onShowPreview={(codeBlocks) =>\n              onShowPreview(childData.id, codeBlocks)\n            }\n          />\n        );\n      case \"preview\":\n        return (\n          <CodePreview\n            codeBlocks={childData.preview as unknown as CodeBlock[]}\n          />\n        );\n      default:\n        return null;\n    }\n  };\n\n  const handleOpenTerminal = (childId) => {\n    onChangeContent(childId, \"terminal\", \"\");\n\n    clearTerminalData(tabId, childId);\n  };\n\n  const handleOpenAI = (childId) => {\n    onChangeContent(childId, \"ai\", \"\");\n    clearTerminalData(tabId, childId);\n  };\n\n  return (\n    <div\n      ref={paneRef}\n      className={`relative h-full flex min-w-0 min-h-0 ${\n        child.direction === \"horizontal\" ? \"flex-col\" : \"flex-row\"\n      }`}\n      onFocus={handleFocus}\n      tabIndex={0}\n      onContextMenu={handleContextMenu}\n      style={{ width: `${width}%` }}\n    >\n      <div className=\"w-full h-full\">{renderChildContent(child)}</div>\n      {!isRootLevel && (\n        <button\n          className=\"absolute top-2 right-2 p-1 bg-[--darkGrayColor] rounded hover:bg-[--darkGrayColor] z-10\"\n          onClick={() => onClose(child.id)}\n          aria-label=\"Close pane\"\n        >\n          <FaTimes />\n        </button>\n      )}\n      {contextMenuPosition && (\n        <div\n          className=\"fixed bg-opacity-50 bg-gradient-to-b from-[--bgGradientStart] to-[--bgGradientEnd] shadow-md rounded-md py-2 z-50\"\n          style={{ top: contextMenuPosition.y, left: contextMenuPosition.x }}\n        >\n          <button\n            className=\"block w-full text-left px-4 py-2 hover:bg-[--primaryTextColor] hover:text-[--darkGrayColor]\"\n            onClick={() => onSplit(child.id, \"vertical\")}\n          >\n            Split Vertical\n          </button>\n          <hr className=\"my-2\" />\n          <button\n            className=\"block w-full text-left px-4 py-2 hover:bg-[--primaryTextColor] hover:text-[--darkGrayColor]\"\n            onClick={() => handleOpenTerminal(child.id)}\n          >\n            <FaTerminal className=\"inline mr-2\" /> Open Terminal\n          </button>\n          <button\n            className=\"block w-full text-left px-4 py-2 hover:bg-[--primaryTextColor] hover:text-[--darkGrayColor]\"\n            onClick={() => handleOpenAI(child.id)}\n          >\n            <TbMessageChatbotFilled className=\"inline mr-2\" /> AI Chat\n          </button>\n          <button\n            className=\"block w-full text-left px-4 py-2 hover:bg-[--primaryTextColor] hover:text-[--darkGrayColor]\"\n            onClick={handleFileOpen}\n          >\n            <FaFolder className=\"inline mr-2\" /> Open File\n          </button>\n        </div>\n      )}\n      {!isRootLevel && !isLastPane && (\n        <div\n          ref={dragHandleRef}\n          className=\"absolute top-0 right-0 bottom-0 w-1 bg-[--iconColor] cursor-col-resize\"\n          onMouseDown={handleMouseDown}\n        />\n      )}\n    </div>\n  );\n};\n\nconst AdvancedSplitScreen: React.FC<AdvancedSplitScreenProps> = ({\n  activeTabId,\n  tabContents,\n  socket,\n  isConnected,\n  onSplit,\n  onClose,\n  onUpdateChild,\n  addTerminalData,\n  addTabCreateFile,\n  clearTerminalData,\n  tabs,\n  addPreviewCode,\n  splitChildAndAddPreview,\n}) => {\n  const activeTabContent = tabContents[activeTabId];\n  const [widths, setWidths] = useState<{ [key: string]: number }>({});\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const distributeEqualWidths = useCallback((children: ChildData[]) => {\n    if (children.length === 0) {\n      return;\n    }\n\n    const equalWidth = 100 / children.length;\n\n    const newWidths = children.reduce((acc, child) => {\n      acc[child.id] = equalWidth;\n      return acc;\n    }, {} as { [key: string]: number });\n\n    setWidths(newWidths);\n  }, []);\n\n  const handleClose = useCallback(\n    (childId: string) => {\n      onClose(activeTabId, childId);\n\n      const remainingChildren =\n        tabContents[activeTabId]?.children.filter(\n          (child) => child.id !== childId\n        ) || [];\n\n      distributeEqualWidths(remainingChildren);\n    },\n    [activeTabId, onClose, tabContents, distributeEqualWidths]\n  );\n\n  const handleSplit = useCallback(\n    (childId: string, direction: \"horizontal\" | \"vertical\") => {\n      onSplit(activeTabId, childId, direction);\n\n      const updatedChildren = tabContents[activeTabId]?.children || [];\n\n      distributeEqualWidths(updatedChildren);\n    },\n    [activeTabId, onSplit, tabContents, distributeEqualWidths]\n  );\n\n  const handleChangeContent = useCallback(\n    (childId: string, contentType: ContentType, filePath?: string) => {\n      onUpdateChild(activeTabId, childId, { contentType }, filePath);\n    },\n    [activeTabId, onUpdateChild]\n  );\n\n  const handleAddTab = useCallback(\n    (filePath?: string, type: \"ai\" | \"editor\" | \"terminal\" = \"terminal\") => {\n      const newTabId = addTabCreateFile(filePath, type);\n      return newTabId;\n    },\n    [addTabCreateFile]\n  );\n\n  const handleResize = useCallback(\n    (childId: string, deltaX: number) => {\n      setWidths((prevWidths) => {\n        const children = tabContents[activeTabId]?.children || [];\n        const childIndex = children.findIndex((child) => child.id === childId);\n\n        if (childIndex === -1 || childIndex === children.length - 1)\n          return prevWidths;\n\n        const containerWidth = containerRef.current?.offsetWidth || 1;\n        const deltaPercentage = (deltaX / containerWidth) * 100;\n\n        const currentWidth = prevWidths[childId] || 100 / children.length;\n        const nextChildId = children[childIndex + 1].id;\n        const nextWidth = prevWidths[nextChildId] || 100 / children.length;\n\n        const newCurrentWidth = Math.max(\n          10,\n          Math.min(90, currentWidth + deltaPercentage)\n        );\n        const newNextWidth = Math.max(\n          10,\n          Math.min(90, nextWidth - deltaPercentage)\n        );\n\n        return {\n          ...prevWidths,\n          [childId]: newCurrentWidth,\n          [nextChildId]: newNextWidth,\n        };\n      });\n    },\n    [activeTabId, tabContents]\n  );\n\n  const handleShowPreview = useCallback(\n    (childId: string, codeBlocks: CodeBlock[]) => {\n      splitChildAndAddPreview(activeTabId, childId, \"vertical\", codeBlocks);\n    },\n    [activeTabId, splitChildAndAddPreview]\n  );\n\n  const renderSplitPanes = (children: ChildData[]) => {\n    const defaultWidth = 100 / children.length;\n    return (\n      <div\n        className={`flex ${\n          children[0]?.direction === \"horizontal\" ? \"flex-col\" : \"flex-row\"\n        } w-full h-full overflow-auto hide-scrollbar`}\n      >\n        {children.map((child, index) => (\n          <React.Fragment key={child.id}>\n            <SplitPane\n              child={child}\n              onSplit={handleSplit}\n              onClose={handleClose}\n\n              onChangeContent={handleChangeContent}\n              socket={socket}\n              isConnected={isConnected}\n              tabId={activeTabId}\n              addTerminalData={addTerminalData}\n              isRootLevel={children.length === 1}\n              onAddTab={handleAddTab}\n              clearTerminalData={clearTerminalData}\n              onResize={handleResize}\n              width={widths[child.id] || defaultWidth}\n              isLastPane={index === children.length - 1}\n              onShowPreview={handleShowPreview}\n            />\n          </React.Fragment>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div ref={containerRef} className=\"flex flex-grow h-full w-full\">\n      {activeTabContent && renderSplitPanes(activeTabContent.children)}\n    </div>\n  );\n};\n\nexport default AdvancedSplitScreen;\n","// Import necessary modules and components from React and other files\nimport React, { useEffect, useState } from \"react\";\nimport NavHead from \"./components/NavHead\";\nimport { useTabs } from \"./hooks/useTab\";\nimport { useSocket } from \"./hooks/useSocket\";\nimport AdvancedSplitScreen from \"./common/SplitScreen\";\nimport { ActiveSplitScreenProvider } from \"./context/activeSplitScreenId\";\n\n// Define the structure of a code block\ninterface CodeBlock {\n  language: string;\n  code: string;\n}\n\n// Define the structure of the Electron API\ninterface ElectronAPI {\n  openFile: () => Promise<string[]>;\n  readFile: (filePath: string) => Promise<string>;\n  saveFile: (filePath: string, content: string) => Promise<void>;\n  createFile: (\n    fileName: string,\n    content: string,\n    currentDir: string\n  ) => Promise<string>;\n  openExternalLink: (url: string) => Promise<string>;\n}\n\n// Extend the global window object to include the Electron API\ndeclare global {\n  interface Window {\n    electron: ElectronAPI;\n  }\n}\n\n// Main App component\nfunction App() {\n\n  /**\n   * Initialize socket connection and its state using the custom hook.\n   * The socket is connected to the server running at \"http://127.0.0.1:5000/\".\n   * This is typically the address where your Python backend runs during both\n   * development and production.\n   */\n\n  const { socket, isConnected, sendMessage } = useSocket(\n    \"http://127.0.0.1:5000/\"\n  );\n\n  // Initialize tab management using the custom hook\n  const {\n    tabs,\n    activeTabId,\n    addTab,\n    removeTab,\n    handleTabChange,\n    splitChild,\n    closeChild,\n    updateChildData,\n    updateTabName,\n    addTerminalData,\n    addTabAndReturnId,\n    clearTerminalData,\n    addPreviewCode,\n    splitChildAndAddPreview,\n  } = useTabs();\n\n  // State to manage the slider's open/close status\n  const [isSliderOpen, setIsSliderOpen] = useState<boolean>(false);\n\n  // Function to toggle the slider's open/close status\n  const toggleSlider = (isOpen: boolean) => {\n    setIsSliderOpen(isOpen);\n  };\n\n  // Get the active tab or default to the first tab if no active tab is found\n  const activeTab = tabs.find((tab) => tab.id === activeTabId) || tabs[0];\n\n\n  useEffect(() => {\n    if (!socket || !isConnected) return;\n\n    const selected = localStorage.getItem(\"selected\");\n\n    if (selected === \"true\") {\n      socket.emit(\"model_selected\", { selected: true });\n    } else {\n      socket.emit(\"model_selected\", { selected: false });\n      socket.emit(\"get_current_model\");\n    }\n  }, [socket, isConnected]);\n\n\n  return (\n    \n    <div\n      className={`flex flex-col min-h-screen z-0 relative bg-opacity-50 bg-gradient-to-b from-[--bgGradientStart] to-[--bgGradientEnd] ${isSliderOpen\n          ? \"pr-80 transition-[padding-right]\"\n          : \"transition-[padding-right]\"\n        } font-mono `}\n    >\n      <NavHead\n        onTabChange={handleTabChange}\n        onAddTab={addTab}\n        onTabRemove={removeTab}\n        tabs={tabs}\n        activeTabId={activeTabId}\n        setActiveTab={handleTabChange}\n        isSliderOpen={isSliderOpen}\n        setIsSliderOpen={toggleSlider}\n        socket={socket}\n        isConnected={isConnected}\n        sendMessage={sendMessage}\n        updateTabName={updateTabName}\n      />\n      <div className=\"flex z-0 bg-opacity-50 bg-gradient-to-b from-[--bgGradientStart] to-[--bgGradientEnd] text-[--textColor] overflow-y-auto h-[calc(100vh-40px)] pt-5 w-full\">\n        <AdvancedSplitScreen\n          activeTabId={activeTabId}\n          tabContents={tabs.reduce((acc, tab) => {\n            acc[tab.id] = {\n              name: tab.name,\n              children: tab.children,\n            };\n            return acc;\n          }, {} as { [key: string]: { name: string; children: ChildData[] } })}\n          socket={socket}\n          isConnected={isConnected}\n          onSplit={splitChild}\n          onClose={closeChild}\n          onUpdateChild={updateChildData}\n          addTerminalData={addTerminalData}\n          addTabCreateFile={addTabAndReturnId}\n          clearTerminalData={clearTerminalData}\n          tabs={tabs}\n          addPreviewCode={addPreviewCode}\n          splitChildAndAddPreview={splitChildAndAddPreview}\n        />\n      </div>\n    </div>\n  );\n}\n\n// Export the App component as the default export\nexport default App;\n","import React, { createContext, useContext, useState, ReactNode } from \"react\";\n\n// Define the shape of the context value\ninterface ModalContextType {\n  isLeftSliderOpen: boolean;\n  openLeftSlider: () => void;\n  closeLeftSlider: () => void;\n}\n\n// Create a context with a default value of `null` (for TypeScript to infer the type)\nconst ModalContext = createContext<ModalContextType | null>(null);\n\n// Define the props for the ModalProvider component\ninterface ModalProviderProps {\n  children: ReactNode;\n}\n\nexport const ModalProvider: React.FC<ModalProviderProps> = ({ children }) => {\n  const [isLeftSliderOpen, setIsLeftSliderOpen] = useState<boolean>(false);\n\n  const openLeftSlider = () => setIsLeftSliderOpen(true);\n  const closeLeftSlider = () => setIsLeftSliderOpen(false);\n\n  return (\n    <ModalContext.Provider\n      value={{ isLeftSliderOpen, openLeftSlider, closeLeftSlider }}\n    >\n      {children}\n    </ModalContext.Provider>\n  );\n};\n\n// Create a custom hook to use the ModalContext\nexport const useModal = (): ModalContextType => {\n  const context = useContext(ModalContext);\n  if (context === null) {\n    throw new Error(\"useModal must be used within a ModalProvider\");\n  }\n  return context;\n};\n","import { createContext, ReactNode, useCallback, useContext, useEffect, useState } from \"react\";\nimport { shortcutContext } from \"./shortCutContext\";\n\ntype keyboardContextType = {\n  keys: Set<string>;\n};\n\nconst initialValue: keyboardContextType = {\n  keys: new Set(),\n};\n\nconst keyboardContext = createContext<keyboardContextType>(initialValue);\n\nconst KeybaordContextProvider = ({ children }: { children: ReactNode }) => {\n  const [keys, setKeys] = useState<Set<string>>(new Set());\n\n  const {triggerListener} = useContext(shortcutContext)\n\n  const handleKeyDown = useCallback((e: KeyboardEvent) => {\n    const newKeys = new Set([...Array.from(keys), e.key.toLocaleLowerCase()])\n\n    triggerListener(newKeys)\n    setKeys(newKeys);\n    // console.log(\"down \", e.key);\n  },[keys, triggerListener])\n\n  const handleKeyUp = useCallback((e: KeyboardEvent) => {\n    const newKeys = new Set([...Array.from(keys).filter((k) => k !== e.key.toLocaleLowerCase())])\n    setKeys(newKeys);\n    // console.log(\"up \", e.key);\n  },[keys])\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    window.addEventListener(\"keyup\", handleKeyUp);\n\n    // Cleanup function to remove the event listeners on unmount\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n      window.removeEventListener(\"keyup\", handleKeyUp);\n    };\n  }, [handleKeyDown, handleKeyUp]);\n\n  // console.log(\"keys\", keys)\n  \n  return (\n    <keyboardContext.Provider value={{ keys }}>\n      {children}\n    </keyboardContext.Provider>\n  );\n};\n\nexport default KeybaordContextProvider;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { ThemeProvider } from \"./context/themeContext\";\nimport \"./styles/global.css\";\nimport { ModalProvider } from \"./context/modalContext\";\nimport { ActiveSplitScreenProvider } from \"./context/activeSplitScreenId\";\nimport KeybaordContextProvider from \"./context/keyboardContext\";\nimport { ShortcutContextProvider } from \"./context/shortCutContext\";\n\nconst root = ReactDOM.createRoot(\n  document.getElementById(\"root\") as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <ShortcutContextProvider>\n    <KeybaordContextProvider>\n      <ActiveSplitScreenProvider>\n        <ThemeProvider>\n          <ModalProvider>\n            <App />\n          </ModalProvider>\n        </ThemeProvider>\n      </ActiveSplitScreenProvider>\n    </KeybaordContextProvider>\n    </ShortcutContextProvider>\n  </React.StrictMode>\n);\n\nreportWebVitals();\n"],"names":["Avatar","src","alt","fallback","className","size","sizeClasses","jsx","AccountTab","socket","isConnected","sendMessage","user","setUser","useState","isAuthenticated","setIsAuthenticated","sessionToken","setSessionToken","useEffect","handleUserDetails","userDetails","handleLogout","handleLogin","handleAction","url","response","error","data","token","jsxs","_a","useSocket","setSocket","setIsConnected","socketIo","io","useCallback","event","ThemeContext","createContext","defaultThemes","ThemeProvider","children","allThemes","setAllThemes","loadThemes","storedThemes","getTheme","theme","setTheme","addTheme","updatedThemes","initialThemes","allPresentThemes","setAllPresentThemes","customColors","setCustomColors","savedColors","applyCustomColors","colors","root","key","removeCustomColors","toggleThemeToRemoveCustomColor","newTheme","flattenedColors","toggleTheme","useTheme","context","useContext","ThemeSwitcher","e","IoChevronDown","AppearanceTab","message","errorMessage","SharedBlocksTab","shortcuts","KeyboardShortcutsTab","searchTerm","setSearchTerm","selectedCommand","setSelectedCommand","ShortcutItem","command","shortcut","isActive","index","FaApple","FaArrowUp","FaArrowDown","IoMdSearch","codemateLogoDarkImage","codemateLogoLightImage","AboutTab","logoImage","TeamTab","teamName","setTeamName","handleCreateTeam","SubShellTab","addedCommand","setAddedCommand","blockedCommand","setBlockedCommand","FaCheck","FaArrowRight","FaBan","CurrentModelDetails","provider","name","params","visibleParams","setVisibleParams","toggleParamVisibility","param","prev","copyToClipboard","text","err","handleIconClick","value","FaEyeSlash","FaEye","FaCopy","initialValue","shortcutContext","buildShortcutIndex","keys","ShortcutContextProvider","listeners","setListeners","registerListener","shortcutKey","eventHandler","keyString","prevListeners","removeListener","triggerListener","providerParams","Toggle","label","defaultChecked","onChange","isChecked","setIsChecked","selected","handleToggle","newValue","LLMModelTab","selectedProvider","setSelectedProvider","selectedModel","setSelectedModel","setParams","models","setModels","modelData","providers","setProviders","isLoading","setIsLoading","successMessage","setSuccessMessage","currentModel","setCurrentModel","isSelected","setIsSelected","storedUser","uniqueProviders","model","handleCurrentModel","storedValue","handleProviderChange","handleModelChange","modelId","m","newParams","handleModelDetails","modelDetails","handleError","handleParamChange","handleSubmit","handleModelDetailsSaved","timer","filteredModels","updateIsSelected","renderCurrentModelDetails","v","ProductTab","products","product","Fragment","FaExternalLinkAlt","vsCodeImage","webLogoLightImage","webLogoDarkImage","AITab","rateLimitData","setRateLimitData","formatResetTime","timestamp","SettingsModal","isModalOpen","setIsModalOpen","activeTab","setActiveTab","renderTabContent","FaTimes","NavHead","onTabChange","onAddTab","onTabRemove","tabs","activeTabId","isSliderOpen","setIsSliderOpen","updateTabName","hoveredTabId","setHoveredTabId","handleTabClick","id","handleTabRemove","sections","setSections","expandedSections","setExpandedSections","toggleSection","title","toggleItem","sectionIndex","itemIndex","prevSections","newSections","isEditing","setIsEditing","editingTabId","setEditingTabId","newTabName","setNewTabName","tab","handleTabDoubleClick","tabId","handleInputChange","handleInputBlur","handleInputKeyDown","hoverInfo","setHoverInfo","showHoverInfo","hideHoverInfo","handleKeyPress","FiSend","section","FiChevronDown","FiChevronRight","item","FiFileText","FiMessageSquare","FiMessageCircle","IoSettingsOutline","useTabs","createDefaultChild","type","splitLevel","depth","direction","createDefaultTab","filePath","uuidv4","defaultChild","setTabs","savedTabs","setActiveTabId","addTab","newTab","prevTabs","updatedTabs","addTabAndReturnId","removeTab","newTabs","newActiveId","handleTabChange","splitChild","childId","newChildId","updatedChildren","child","newSplitLevel","newDepth","newChild","closeChild","filteredChildren","updateChildData","newData","newId","newName","addTerminalData","addPreviewCode","updatedPreview","clearTerminalData","splitChildAndAddPreview","codeBlocks","setSudoPasswordTab","password","getIsSudoPassword","getSudoPassword","updateStreamingContent","newContent","updatedContent","clearStreamingContent","CustomH1","props","CustomH2","CustomH3","CustomParagraph","CustomList","ordered","ListComponent","CustomListItem","CustomBlockquote","CustomLink","href","handleClick","CustomCode","node","inline","onCopyCode","onCreateCode","isStreaming","match","copied","setCopied","handleCopy","codeToCopy","buttonClass","FiCheck","FiCopy","SyntaxHighlighter","vscDarkPlus","CustomCommand","onCopyCommand","onExecuteCommand","executed","setExecuted","commandToCopy","handleExecute","commandToExecute","FaTerminal","EnhancedMarkdown","markdownContent","ReactMarkdown","_b","detectOS","platform","userAgent","extractCodeBlocks","nplResponse","regex","languageRegex","matches","block","lines","language","code","parseDirectoryListing","output","fileSystemItems","parseWindowsDirectoryListing","parseUnixDirectoryListing","line","parts","mode","date","time","length","nameParts","isDirectory","lastWriteTime","CircularLoader","ImSpinner2","HtopTerminal","React","setHtopSession","terminalRef","useRef","isMounted","setIsMounted","term","setTerm","newTerm","Terminal","fitAddon","FitAddon","updateTerminalSize","width","height","newRows","newCols","convert","Convert","DEBOUNCE_DELAY","terminalId","content","onFileSelect","handleCreateFile","onShowPreview","inputRef","historyRef","messagesContainerRef","terminalHistory","setTerminalHistory","input","setInputValue","showHistory","setShowHistory","historyIndex","setHistoryIndex","suggestion","setSuggestion","messages","setMessages","copiedCommands","setCopiedCommands","promptLabel","setPromptLabel","debounceRef","isCreatingFile","setIsCreatingFile","fileCode","setFileCode","streamingContent","setStreamingContent","setIsStreaming","isInteractiveMode","setIsInteractiveMode","interactiveOutput","setInteractiveOutput","isAiThinking","setIsAiThinking","isPasswordPromptOpen","setIsPasswordPromptOpen","sudoPassword","setSudoPassword","prompt","setPrompt","isSudoCommandExecuting","setIsSudoCommandExecuting","aiInputValue","setAiInputValue","outputRef","selectedContext","setSelectedContext","showDirectoryList","setShowDirectoryList","directories","setDirectories","selectedIndex","setSelectedIndex","isConfirmationPromptOpen","setIsConfirmationPromptOpen","htopSession","listRef","filePromptLabel","loadingTimeoutRef","clearOutputTimeoutRef","selectedElement","Socket","toggleMode","prevPrompt","handleShowCodePreview","addMessage","current_cmd","commands","fileSystem","newMessage","prevMessages","newTerminalData","fetchTerminalHistory","history_cmd","copyCommand","executeCommand","contextContent","msg","isContext","lastMessages","isSudoPassword","handleFileSystemItemClick","handleInteractiveStart","handleInteractiveOutput","finalOutput","handleInteractiveEnd","simulateKeyPress","ctrlKey","handleSuccessSudoPassword","storedTabs","currentTab","terminalChild","handleCurrentDirectory","updatedTab","handle_signUp_model","handleSessionStarted","scrollToCurrentHistory","currentItem","handleTabCompletion","fileName","finalCommand","prevIndex","newIndex","handleCommandOutput","handleSuggestions","handleTerminalCommand","cleanedOutput","handleStreamingChunk","handleStreamingEnd","toggleMessageSelection","prevContext","FiLoader","dir","FiFolder","getModeFromFilePath","EditorComponent","forwardRef","editorId","ref","fileContentValue","setFileContentValue","setMode","setFilePath","editor","currentFilePath","AceEditor","AiChat","chatId","chatHistory","setChatHistory","t","c","transformImports","importReactRegex","importCssRegex","importReactDOMRegex","reactDomRenderRegex","importComponentRegex","transformedCode","defaultImport","namedImports","componentImports","imp","newImports","createIframeContent","htmlCode","cssCode","jsCode","reactComponents","transformedReactCode","rootComponent","component","filename","CodePreview","iframeRef","iframeContent","ActiveSplitScreenContext","ActiveSplitScreenProvider","activeSplitScreenId","setActiveSplitScreenId","useActiveSplitScreen","SplitPane","onSplit","onClose","onChangeContent","isRootLevel","onResize","isLastPane","handleFocus","contextMenuPosition","setContextMenuPosition","isDragging","setIsDragging","paneRef","dragHandleRef","handleMouseDown","handleMouseMove","containerRect","paneRect","minWidth","maxWidth","newX","deltaX","handleMouseUp","handleContextMenu","handleClickOutside","handleFileSelected","handleFileOpen","paths","selectedFilePath","curr_dir","newTabId","action","renderChildContent","childData","handleOpenTerminal","handleOpenAI","TbMessageChatbotFilled","FaFolder","AdvancedSplitScreen","tabContents","onUpdateChild","addTabCreateFile","activeTabContent","widths","setWidths","containerRef","distributeEqualWidths","equalWidth","newWidths","acc","handleClose","remainingChildren","handleSplit","handleChangeContent","contentType","handleAddTab","handleResize","prevWidths","childIndex","containerWidth","deltaPercentage","currentWidth","nextChildId","nextWidth","newCurrentWidth","newNextWidth","handleShowPreview","renderSplitPanes","defaultWidth","App","toggleSlider","isOpen","ModalContext","ModalProvider","isLeftSliderOpen","setIsLeftSliderOpen","openLeftSlider","closeLeftSlider","keyboardContext","KeybaordContextProvider","setKeys","handleKeyDown","newKeys","handleKeyUp","k","ReactDOM"],"mappings":"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"}